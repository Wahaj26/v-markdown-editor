{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./dist/v-markdown-editor.css?3552","webpack:///./dist/v-markdown-editor.js","webpack:///www/app.vue","webpack:///./www/app.vue?212e","webpack:///./node_modules/vue-loader/lib/runtime/componentNormalizer.js","webpack:///(webpack)/buildin/module.js","webpack:///./www/app.js","webpack:///./www/app.vue","webpack:///./www/app.vue?ad30","webpack:///./www/app.vue?38fb","webpack:///external \"Vue\""],"names":["webpackUniversalModuleDefinition","root","factory","exports","module","define","window","modules","installedModules","__webpack_require__","moduleId","i","l","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","getDefault","getModuleExports","object","property","prototype","hasOwnProperty","p","s","__webpack_exports__","markdownparser__WEBPACK_IMPORTED_MODULE_0__","markdownparser__WEBPACK_IMPORTED_MODULE_0___default","marked__WEBPACK_IMPORTED_MODULE_1__","marked__WEBPACK_IMPORTED_MODULE_1___default","codemirror__WEBPACK_IMPORTED_MODULE_2__","codemirror__WEBPACK_IMPORTED_MODULE_2___default","codemirror_addon_display_fullscreen_js__WEBPACK_IMPORTED_MODULE_3__","codemirror_addon_display_fullscreen_js__WEBPACK_IMPORTED_MODULE_3___default","codemirror_mode_markdown_markdown_js__WEBPACK_IMPORTED_MODULE_4__","codemirror_mode_markdown_markdown_js__WEBPACK_IMPORTED_MODULE_4___default","codemirror_addon_display_placeholder_js__WEBPACK_IMPORTED_MODULE_5__","codemirror_addon_display_placeholder_js__WEBPACK_IMPORTED_MODULE_5___default","props","id","type","String","_default","Math","random","toString","substr","css","width","Number","height","toolbar","placeholder","extend","buttons","clean","cmd","ico","title","hotkey","undo","redo","bullist","numlist","bold","italic","strikethrough","heading","code","quote","link","image","fullscreen","ready","preview","theme","required","options","lineWrapping","showPreview","data","editor","fullScreen","html","toolbars","computed","styles","test","concat","watch","val","getValue","setValue","methods","isEmpty","undefined","isUrl","match","format","a","arguments","length","replace","_toggleBlock","start","end","ed","startPoint","getCursor","endPoint","text","stat","state","getLine","line","slice","ch","replaceRange","getSelection","split","join","replaceSelection","setSelection","_toggleLine","repl","map","pos","getTokenAt","types","ret","_replaceSelection","active","startEnd","keys","forEach","drawImage","obj","drawLink","command","$emit","url","prompt","breaks","setOption","getOption","parse","focus","build","_this","document","getElementById","__rendered","assign","shortcuts","group","toLowerCase","b","btn","push","extraKeys","fromTextArea","setSize","on","mounted","destroy","toTextArea","mod","CodeMirror","defineOption","cm","old","Init","setFullscreen","setNormal","wrap","getWrapperElement","fullScreenRestore","scrollTop","pageYOffset","scrollLeft","pageXOffset","style","className","documentElement","overflow","refresh","info","scrollTo","prev","onBlur","onChange","off","clearPlaceholder","wrapper","hasFocus","parentNode","removeChild","setPlaceholder","elt","createElement","cssText","direction","placeHolder","createTextNode","appendChild","display","lineSpace","insertBefore","firstChild","empty","lineCount","global","userAgent","navigator","platform","gecko","ie_upto10","ie_11up","exec","edge","ie","ie_version","documentMode","webkit","qtwebkit","chrome","presto","safari","vendor","mac_geMountainLion","phantom","ios","android","mobile","mac","chromeOS","windows","presto_version","flipCtrlCmd","captureRightClick","classTest","cls","RegExp","rmClass","node","current","after","index","removeChildren","e","count","childNodes","removeChildrenAndAdd","parent","tag","content","eltP","setAttribute","range","createRange","endNode","setEnd","setStart","body","createTextRange","moveToElementText","collapse","moveEnd","moveStart","contains","child","nodeType","host","activeElt","activeElement","shadowRoot","addClass","joinClasses","as","selectInput","select","selectionStart","selectionEnd","_e","f","args","Array","apply","copyObj","target","overwrite","prop","countColumn","string","tabSize","startIndex","startValue","search","nextTab","indexOf","Delayed","time","handler","onTimeout","self","Date","setTimeout","set","ms","clearTimeout","array","scrollerGap","Pass","sel_dontScroll","scroll","sel_mouse","origin","sel_move","findColumn","goal","col","skipped","min","spaceStrs","spaceStr","lst","arr","out","insertSorted","score","priority","splice","nothing","createObj","base","inst","nonASCIISingleCaseWordChar","isWordCharBasic","toUpperCase","isWordChar","helper","source","extendingChars","isExtendingChar","charCodeAt","skipExtendingChars","str","dir","charAt","findFirst","pred","from","to","midF","mid","ceil","floor","iterateBidiSections","order","found","part","max","level","bidiOther","getBidiPartAt","sticky","cur","bidiOrdering","lowTypes","arabicTypes","charType","bidiRE","isNeutral","isStrong","countsAsLeft","countsAsNum","BidiSpan","outerType","len","i$1","i$2","type$1","i$3","prev$1","type$2","i$4","type$3","j","i$5","cur$1","type$4","i$6","end$1","before","replace$1","j$1","i$7","at","isRTL","j$2","nstart","unshift","reverse","getOrder","noHandlers","emitter","addEventListener","attachEvent","_handlers","getHandlers","removeEventListener","detachEvent","signal","handlers","signalDOMEvent","override","preventDefault","defaultPrevented","e_defaultPrevented","codemirrorIgnore","signalCursorActivity","cursorActivity","curOp","cursorActivityHandlers","hasHandler","eventMixin","ctor","e_preventDefault","returnValue","e_stopPropagation","stopPropagation","cancelBubble","e_stop","e_target","srcElement","e_button","which","button","ctrlKey","dragAndDrop","div","zwspSupported","zeroWidthElement","measure","offsetHeight","offsetWidth","badBidiRects","hasBadBidiRects","txt","r0","getBoundingClientRect","r1","left","right","splitLinesAuto","result","nl","rt","hasSelection","te","ownerDocument","selection","parentElement","compareEndPoints","hasCopyEvent","oncopy","badZoomedRects","hasBadZoomedRects","normal","fromRange","abs","modes","mimeModes","defineMode","dependencies","defineMIME","mime","spec","resolveMode","getMode","mfactory","modeObj","modeExtensions","exts","helperType","modeProps","prop$1","extendMode","properties","copyState","nstate","innerMode","startState","a1","a2","StringStream","lineOracle","lastColumnPos","lastColumnValue","lineStart","eol","sol","peek","next","eat","ok","eatWhile","eatSpace","skipToEnd","skipTo","backUp","column","indentation","pattern","consume","caseInsensitive","cased","hideFirstChars","inner","lookAhead","oracle","baseToken","doc","first","size","Error","chunk","lines","children","sz","chunkSize","getBetween","iter","getLines","updateLineHeight","diff","lineNo","no","lineAtHeight","h","outer","lh","isLine","lineNumberFor","lineNumberFormatter","firstLineNumber","Pos","cmp","equalCursorPos","copyPos","x","maxPos","minPos","clipLine","clipPos","last","clipToLen","linelen","clipPosArray","SavedContext","Context","maxLookAhead","baseTokens","baseTokenPos","nextLine","fromSaved","saved","save","copy","highlightLine","context","forceToEnd","st","modeGen","lineClasses","runMode","loop","overlay","overlays","i_end","opaque","classes","bgClass","textClass","getLineStyles","updateFrontier","getContextBefore","resetState","maxHighlightLength","stateAfter","styleClasses","highlightFrontier","modeFrontier","precise","findStartLine","processLine","viewFrom","viewTo","startAt","stream","callBlankLine","readToken","blankLine","token","Token","takeToken","asArray","tokens","extractLineClasses","output","lineClass","flattenSpans","curStart","curStyle","addModeClass","mName","minindent","minline","lim","indented","retreatFrontier","sawReadOnlySpans","sawCollapsedSpans","seeReadOnlySpans","seeCollapsedSpans","MarkedSpan","marker","getMarkedSpanFor","spans","span","removeMarkedSpan","addMarkedSpan","markedSpans","attachLine","markedSpansBefore","startCh","isInsert","nw","startsBefore","inclusiveLeft","insertLeft","endsAfter","inclusiveRight","markedSpansAfter","endCh","stretchSpansOverChange","change","full","oldFirst","oldLast","sameLine","offset","span$1","found$1","clearEmptySpans","newMarkers","gap","gapMarkers","clearWhenEmpty","removeReadOnlyRanges","markers","mark","readOnly","parts","mk","find","newParts","dfrom","dto","detachMarkedSpans","detachLine","attachMarkedSpans","extraLeft","extraRight","compareCollapsedMarkers","lenDiff","aPos","bPos","fromCmp","toCmp","collapsedSpanAtSide","sps","sp","collapsed","collapsedSpanAtStart","collapsedSpanAtEnd","collapsedSpanAround","conflictingCollapsedRange","visualLine","merged","visualLineEnd","visualLineContinued","visualLineNo","lineN","vis","visualLineEndNo","lastLine","lineIsHidden","widgetNode","lineIsHiddenInner","heightAtLine","lineObj","lineLength","findMaxLine","maxLine","maxLineLength","maxLineChanged","Line","estimateHeight","updateLine","estHeight","cleanUpLine","styleToClassCache","styleToClassCacheWithMode","interpretTokenStyle","cache","buildLineContent","lineView","builder","pre","trailingSpace","splitSpaces","rest","addToken","buildToken","buildTokenBadBidi","allowFrontierUpdate","externalMeasured","insertLineContent","maps","caches","lastChild","querySelector","defaultSpecialCharPlaceholder","startStyle","endStyle","attributes","displayText","special","specialChars","mustWrap","createDocumentFragment","lastIndex","txt$1","tabWidth","specialCharPlaceholder","fullStyle","attr","trailingBefore","spaceBefore","buildCollapsedSpan","ignoreWidget","widget","input","needsContentAttribute","setUneditable","allText","nextChange","spanStyle","spanEndStyle","spanStartStyle","Infinity","foundBookmarks","endStyles","upto","tokenText","LineView","hidden","buildViewArray","nextPos","view","operationGroup","pushOperation","op","ops","ownsGroup","delayedCallbacks","fireCallbacksForOps","callbacks","cursorActivityCalled","finishOperation","endCb","orphanDelayedCallbacks","signalLater","list","fireOrphanDelayed","delayed","updateLineForChanges","dims","changes","updateLineText","updateLineGutter","updateLineClasses","updateLineWidgets","ensureLineWrapped","replaceChild","zIndex","updateLineBackground","background","getLineContent","ext","built","wrapClass","gutter","gutterBackground","gutterClass","fixedGutter","fixedPos","gutterTotalWidth","gutterMarkers","lineNumbers","wrap$1","gutterWrap","lineNumber","gutterLeft","lineNumInnerWidth","k","gutterSpecs","gutterWidth","alignable","isWidget","nextSibling","insertLineWidgets","buildLineElement","insertLineWidgetsFor","allowAbove","widgets","ws","handleMouseEvents","positionLineWidget","above","noHScroll","wrapperWidth","coverGutter","paddingLeft","position","marginLeft","widgetHeight","parentStyle","gutters","clientWidth","eventInWidget","getAttribute","sizer","mover","paddingTop","offsetTop","paddingVert","paddingH","cachedPaddingH","getComputedStyle","currentStyle","parseInt","paddingRight","isNaN","scrollGap","nativeBarWidth","displayWidth","scroller","barWidth","displayHeight","clientHeight","barHeight","ensureLineHeights","rect","wrapping","curWidth","heights","rects","getClientRects","bottom","top","mapFromLineView","updateExternalMeasurement","lineMeasure","measureChar","bias","measureCharPrepared","prepareMeasureForLine","findViewForLine","findViewIndex","getDimensions","forceUpdate","hasHeights","prepared","varHeight","measureCharInner","bogus","rtop","rbottom","nullRect","nodeAndOffsetInLineMap","mStart","mEnd","coverStart","coverEnd","getUsefulRect","place","maybeUpdateRectForZooming","rSpan","charWidth","rbot","bot","singleCursorHeightPerLine","screen","logicalXDPI","deviceXDPI","scaleX","scaleY","logicalYDPI","deviceYDPI","clearLineMeasurementCacheFor","clearLineMeasurementCache","externalMeasure","clearCaches","cachedCharWidth","cachedTextHeight","lineNumChars","pageScrollX","pageScrollY","marginTop","widgetTopHeight","intoCoordSystem","includeWidgets","yOff","viewOffset","lOff","xOff","fromCoordSystem","coords","localBox","lineSpaceBox","charCoords","cursorCoords","preparedMeasure","getBidi","partPos","invert","other","estimateCoords","PosWithInfo","outside","xRel","coordsChar","y","coordsCharInner","rangeEnd","wrappedLineExtent","begin","wrappedLineExtentChar","targetTop","boxIsAfter","box","ltr","coordsBidiPartWrapped","coordsBidiPart","chAround","boxAround","baseX","atLeft","atStart","_lineNo","ref","closestDist","endX","dist","measureText","textHeight","anchor","clientLeft","offsetLeft","compensateForHScroll","th","perLine","widgetsHeight","estimateLineHeights","est","posFromMouse","liberal","forRect","space","clientX","clientY","colDiff","round","regChange","lendiff","updateLineNumbers","viewChanged","resetView","cut","viewCuttingPoint","cut$1","cutTop","cutBot","regLineChange","oldN","newN","adjustView","countDirtyView","dirty","updateSelection","showSelection","prepareSelection","primary","curFragment","cursors","selFragment","sel","ranges","primIndex","showCursorWhenSelecting","drawSelectionCursor","head","drawSelectionRange","cursor","cursorHeight","otherCursor","cmpCoords","fragment","padding","leftSide","rightSide","sizerWidth","docLTR","add","drawForLine","fromArg","toArg","lineLen","wrapX","side","extent","fromPos","toPos","openStart","openEnd","openLeft","openRight","topLeft","topRight","botLeft","botRight","sFrom","sTo","fromLine","toLine","singleVLine","leftEnd","rightStart","restartBlink","focused","clearInterval","blinker","cursorDiv","visibility","cursorBlinkRate","setInterval","ensureFocus","onFocus","delayBlurEvent","delayingBlurEvent","selForContextMenu","reset","receivedFocus","shift","updateHeightsInViewport","prevBottom","lineDiv","updateWidgetHeight","chWidth","w","visibleLines","viewport","ensure","ensureFrom","ensureTo","maybeScrollWindow","doScroll","innerHeight","scrollNode","scrollIntoView","scrollPosIntoView","margin","limit","changed","endCoords","scrollPos","calculateScrollPos","startTop","startLeft","updateScrollTop","setScrollLeft","snapMargin","screentop","docBottom","atTop","atBottom","newTop","screenleft","screenw","tooWide","addToScrollTop","resolveScrollToPos","ensureCursorVisible","scrollToPos","cursorScrollMargin","scrollToCoords","scrollToRange","scrollToCoordsRange","sPos","updateDisplaySimple","setScrollTop","startWorker","forceScroll","scrollHeight","scrollbars","isScroller","scrollWidth","alignHorizontally","measureForScrollbars","gutterW","docH","viewHeight","viewWidth","barLeft","docHeight","NativeScrollbars","vert","horiz","tabIndex","checkedZeroWidth","minHeight","minWidth","update","needsH","needsV","sWidth","totalHeight","totalWidth","zeroWidthHack","disableHoriz","enableZeroWidthBar","disableVert","pointerEvents","bar","delay","maybeDisable","elementFromPoint","clear","NullScrollbars","updateScrollbars","startWidth","startHeight","updateScrollbarsInner","sizes","paddingBottom","heightForcer","borderBottom","scrollbarFiller","coverGutterNextToScrollbar","gutterFiller","scrollbarModel","initScrollbars","scrollbarStyle","axis","nextOpId","startOperation","updateInput","typing","changeObjs","selectionChanged","updateMaxLine","endOperation","endOperations","endOperation_R1","endOperation_W1","endOperation_R2","endOperation_W2","endOperation_finish","maybeClipScrollbars","mustUpdate","DisplayUpdate","updatedDisplay","updateDisplayIfNeeded","barMeasure","adjustWidthTo","maxScrollLeft","preparedSelection","takeFocus","setDocumentHeight","postUpdateDisplay","wheelStartX","wheelStartY","maybeHiddenMarkers","unhidden","maybeUnhiddenMarkers","finish","runInOp","operation","methodOp","docMethodOp","highlight","highlightWorker","workTime","changedLines","oldStyles","highlighted","oldCls","newCls","ischange","workDelay","force","visible","editorIsHidden","wrapperHeight","oldDisplayWidth","events","scrollbarsClipped","marginBottom","borderRightWidth","selectionSnapshot","anchorNode","anchorOffset","focusNode","focusOffset","restoreSelection","snapshot","removeAllRanges","addRange","renderedView","maybeUpdateLineNumberWidth","viewportMargin","different","lastWrapHeight","lastWrapWidth","toUpdate","selSnapshot","patchDisplay","selectionDiv","reportedViewFrom","reportedViewTo","updateNumbersFrom","container","rm","currentWheelTarget","updateNumber","updateGutterSpace","alignWidgets","comp","align","innerW","lineGutter","lineNumWidth","getGutters","sawLineNumbers","renderGutters","specs","gElt","updateGutters","Display","draggable","wheelDX","wheelDY","activeTouch","init","wheelSamples","wheelPixelsPerUnit","wheelEventDelta","dx","wheelDeltaX","dy","wheelDeltaY","detail","HORIZONTAL_AXIS","VERTICAL_AXIS","wheelDelta","wheelEventPixels","delta","onScrollWheel","canScrollX","canScrollY","pixels","movedX","movedY","sample","Selection","equals","here","there","deepCopy","Range","somethingSelected","normalizeSelection","mayTouch","selectionsMayTouch","prim","sort","inv","simpleSelection","changeEnd","adjustForChange","computeSelAfterChange","offsetPos","computeReplacedSel","hint","oldPrev","newPrev","loadMode","modeOption","resetModeState","isWholeLineUpdate","wholeLineUpdateBefore","updateDoc","spansFor","linesFor","firstLine","lastText","lastSpans","nlines","insert","remove","added","added$1","added$2","linkedDocs","sharedHistOnly","propagate","skip","sharedHist","linked","rel","shared","attachDoc","setDirectionClass","directionChanged","History","startGen","done","undone","undoDepth","lastModTime","lastSelTime","lastOp","lastSelOp","lastOrigin","lastSelOrigin","generation","maxGeneration","historyChangeFromChange","histChange","attachLocalSpans","clearSelectionEvents","pop","lastChangeEvent","hist","addChangeToHistory","selAfter","opId","history","historyEventDelay","pushSelectionToHistory","selectionEventCanBeMerged","addSelectionToHistory","clearRedo","dest","existing","removeClearedSpans","explicitlyCleared","getOldSpans","mergeOldSpans","stretched","oldCur","stretchCur","copyHistoryArray","newGroup","instantiateSel","event","newChanges","extendRange","posBefore","extendSelection","extendSelections","heads","newSel","replaceOneSelection","setSimpleSelection","filterSelectionChange","setSelectionReplaceHistory","setSelectionNoUndo","NaN","setSelectionInner","skipAtomicInSelection","reCheckSelection","mayClear","newAnchor","skipAtomic","newHead","skipAtomicInner","oldPos","preventCursorLeft","selectLeft","preventCursorRight","selectRight","atomic","near","movePos","far","cantEdit","selectAll","filterChange","canceled","cancel","makeChange","ignoreReadOnly","suppressEdits","makeChangeInner","makeChangeSingleDoc","rebased","rebaseHist","makeChangeFromHistory","allowSelectionOnly","suppress","antiChanges","filter","returned","v","shiftDoc","distance","removed","makeChangeSingleDocInEditor","recomputeMaxLength","checkWidthStart","changesHandler","changeHandler","splitLines","rebaseHistSelSingle","rebaseHistArray","sub","copied","changeLine","handle","changeType","LeafChunk","removeInner","insertInner","iterN","BranchChunk","oldHeight","remaining","leaf","maybeSpill","me","spilled","sibling","myIndex","used","LineWidget","opt","adjustScrollWhenAboveVisible","this$1","oldH","addLineWidget","insertAt","aboveVisible","nextMarkerId","TextMarker","withOp","visual","dHeight","markText","markTextShared","replacedWith","addToHistory","curLine","clearOnEnter","clearHistory","SharedTextMarker","cloneNode","isParent","findSharedMarkers","findMarks","copySharedMarkers","mFrom","mTo","subMark","detachSharedMarkers","subMarker","nextDocId","Doc","lineSep","cleanGeneration","constructor","lineSeparator","getRange","getLineHandle","getLineNumber","getLineHandleVisualStart","listSelections","setCursor","extendSelectionsBy","setSelections","addSelection","getSelections","dup","replaceSelections","undoSelection","redoSelection","setExtending","getExtending","historySize","markClean","changeGeneration","forceSplit","isClean","gen","getHistory","setHistory","histData","setGutterMarker","gutterID","clearGutter","lineInfo","addLineClass","where","removeLineClass","removeLineWidget","setBookmark","realOpts","findMarksAt","getAllMarks","posFromIndex","sepSize","indexFromPos","copyHistory","linkedDoc","unlinkDoc","splitIds","iterLinkedDocs","getEditor","setDirection","eachLine","lastDrop","onDrop","clearDragCursor","files","dataTransfer","isReadOnly","FileReader","File","read","markAsReadAndPasteIfAllFilesAreRead","readTextFromFile","file","allowDropFileTypes","reader","onerror","onload","readAsText","draggingText","text$1","getData","selected","onDragStart","setData","effectAllowed","setDragImage","img","src","_top","onDragOver","frag","dragCursor","forEachCodeMirror","getElementsByClassName","byClass","editors","globalsRegistered","ensureGlobalHandlers","registerGlobalHandlers","resizeTimer","onResize","keyNames","fromCharCode","keyMap","basic","pcDefault","emacsy","macDefault","normalizeKeyName","alt","ctrl","normalizeKeyMap","keymap","keyname","lookupKey","getKeyMap","fallthrough","isModifierKey","keyCode","addModifierNames","noShift","altKey","metaKey","shiftKey","keyName","altGraphKey","deleteNearSelection","compute","kill","toKill","replaced","moveCharLogically","moveLogically","endOfLine","visually","moveInStorageOrder","prep","moveVisually","bidi","mv","getWrappedLineExtent","searchInVisualLine","getRes","res","nextCh","commands","singleSelection","killLine","deleteLine","delLineLeft","delWrappedLineLeft","leftPos","delWrappedLineRight","rightPos","goDocStart","goDocEnd","goLineStart","goLineStartSmart","lineStartSmart","goLineEnd","lineEnd","goLineRight","goLineLeft","goLineLeftSmart","goLineUp","moveV","goLineDown","goPageUp","goPageDown","goCharLeft","moveH","goCharRight","goColumnLeft","goColumnRight","goWordLeft","goGroupRight","goGroupLeft","goWordRight","delCharBefore","deleteH","delCharAfter","delWordBefore","delWordAfter","delGroupBefore","delGroupAfter","indentAuto","indentSelection","indentMore","indentLess","insertTab","insertSoftTab","spaces","defaultTab","execCommand","transposeChars","newlineAndIndent","sels","indentLine","openLine","toggleOverwrite","firstNonWS","inWS","doHandleBinding","bound","dropShift","ensurePolled","prevShift","lookupKeyForEditor","keyMaps","stopSeq","dispatchKey","seq","keySeq","dispatchKeyInner","handleKeyBinding","motion","handleCharBinding","lastStoppedKey","onKeyDown","handled","showCrossHair","up","onKeyUp","onKeyPress","charCode","DOUBLECLICK_DELAY","PastClick","compare","lastClick","lastDoubleClick","clickRepeat","now","onMouseDown","supportsTouch","clickInGutter","repeat","selectingText","handleMappedButton","leftButtonDown","onContextMenu","configureMouse","option","unit","addNew","moveOnDrag","behavior","contained","dragDrop","leftButtonStartDrag","leftButtonSelect","moved","dragEnd","mouseMove","dragStart","e2","rangeForUnit","findWordAt","ourRange","ourIndex","startSel","lastPos","extendTo","startCol","posCol","oldRange","ranges$1","bidiSimplify","editorSize","counter","curCount","move","anchorLine","boundary","headIndex","usePart","gutterEvent","prevent","mX","mY","touches","lineBox","g","contextMenuInGutter","themeChanged","defaults","optionHandlers","defineOptions","deflt","notOnInit","newBreaks","getInputField","spellcheck","autocorrect","autocapitalize","detach","attach","wrappingChanged","integer","blur","readOnlyChanged","screenReaderLabelChanged","dragDropChanged","resetPosition","getField","wasOn","funcs","dragFunctions","toggle","enter","over","leave","drop","inputStyles","inputStyle","pasteIncoming","cutIncoming","autofocus","registerEventHandlers","finishInit","initHooks","textRendering","word","touchFinished","prevTouch","finishTouch","isMouseLikeTouchEvent","touch","radiusX","radiusY","farAway","pageX","pageY","inp","defineInitHook","how","aggressive","indent","curSpace","curSpaceString","indentUnit","indentString","indentWithTabs","pos$1","lastCopied","setLastCopied","newLastCopied","applyTextInput","inserted","deleted","recent","paste","textLines","multiPaste","pasteLinesPerSelection","lineWise","changeEvent","triggerElectric","handlePaste","pasted","clipboardData","disableInput","electricChars","smartIndent","getModeAt","electricInput","copyableRanges","lineRange","disableBrowserMagic","field","hiddenTextarea","border","addEditorMethods","helpers","getDoc","addKeyMap","removeKeyMap","addOverlay","modeSpec","removeOverlay","newRanges","getLineTokens","getTokenTypeAt","getHelper","getHelpers","help","_global","getStateAfter","defaultTextHeight","defaultCharWidth","getViewport","addWidget","vspace","hspace","triggerOnKeyDown","triggerOnKeyPress","triggerOnKeyUp","triggerOnMouseDown","findPosH","amount","hitSide","rtlMoveVisually","findPosV","goalColumn","goals","headPos","startChar","check","getScrollInfo","interpret","swapDoc","phrase","phraseText","phrases","getScrollerElement","getGutterElement","registerHelper","registerGlobalHelper","predicate","origDir","lineDir","findNextLine","moveOnce","boundToLine","sawType","pageSize","moveAmount","ContentEditableInput","lastAnchorNode","lastAnchorOffset","lastFocusNode","lastFocusOffset","polling","composing","gracePeriod","readDOMTimeout","updateFromDOM","readFromDOMSoon","forceCompositionEnd","onCopyCut","lineWiseCopyCut","clearData","kludge","hadFocus","showPrimarySelection","label","removeAttribute","showMultipleSelections","curAnchor","domToPos","curFocus","bad","posToDOM","rangeCount","getRangeAt","rng","startGracePeriod","rememberSelection","selectionInEditor","commonAncestorContainer","pollSelection","poll","pollInterval","isInGutter","pollContent","fromIndex","fromNode","toIndex","toNode","previousSibling","newText","domTextBetween","oldText","cutFront","cutEnd","oldTop","maxCutFront","newBot","oldBot","maxCutEnd","chFrom","chTo","contentEditable","scan","badPos","closing","extraLinebreak","recognizeMarker","close","addText","walk","cmText","markerID","isBlock","nodeName","textContent","nodeValue","lineNode","locateNodeInLineView","textNode","topNode","curNode","dist$1","TextareaInput","prevInput","pollingFast","createField","textarea","fastPoll","prepareCopyCut","dispatchEvent","Event","_display","moveInputWithCursor","wrapOff","lineOff","teTop","teLeft","drawn","contextMenuPending","slowPoll","missed","same","resetSelectionOnContextMenu","oldCSS","oldWrapperCSS","wrapperBox","offsetParent","oldScrollY","scrollY","rehide","detectingSelectAll","prepareSelectAllHack","extval","mouseup","disabled","tabindex","realSubmit","form","leaveSubmitMethodAlone","submit","wrappedSubmit","getTextArea","addLegacyProps","cmpPos","dontDelegate","method","defineExtension","func","defineDocExtension","version","cmCfg","modeCfg","htmlMode","htmlModeMissing","findModeByName","mimes","highlightFormatting","maxBlockquoteDepth","taskLists","emoji","fencedCodeBlockHighlighting","xml","tokenTypeOverrides","tokenTypes","header","list1","list2","list3","hr","imageAltText","imageMarker","formatting","linkInline","linkEmail","linkText","linkHref","em","strong","tokenType","hrRE","listRE","taskListRE","atxHeaderRE","allowAtxHeaderWithoutSpace","setextHeaderRE","textRE","fencedCodeRE","linkDefRE","punctuation","expandedTab","switchInline","inline","switchBlock","block","lineIsEmpty","linkTitle","indentedCode","htmlBlock","exit","htmlState","tagStart","tokenize","isInText","inlineNormal","blockNormal","trailingSpaceNewLine","prevLine","thisLine","firstTokenOnLine","prevLineLineIsEmpty","prevLineIsIndentedCode","prevLineIsHr","prevLineIsList","maxNonCodeIndentation","listStack","lineIndentation","indentationDiff","allowsInlineContinuation","fencedCodeEnd","isHr","getType","setext","listType","taskList","fencedEndRE","localMode","localState","local","footnoteLink","md_inside","currListInd","hasExitedList","maxFencedEndInd","returnType","taskOpen","taskClosed","listMod","handleText","matchCh","regex","previousFormatting","formattingEscape","atts","substring","leftFlanking","rightFlanking","setEm","setStrong","retType","getLinkHrefInside","linkRE","endChar","returnState","footnoteLinkInside","footnoteUrl","textAfter","blockCommentStart","blockCommentEnd","closeBrackets","fold","modeInfo","alias","findModeByMIME","findModeByExtension","findModeByFileName","filename","dot","lastIndexOf","htmlConfig","autoSelfClosers","implicitlyClosed","contextGrabbers","doNotIndent","allowUnquoted","allowMissing","caseFold","xmlConfig","allowMissingTagName","editorConf","config_","config","setStyle","inText","chain","parser","inBlock","doctype","inTag","baseState","tagName","inAttribute","stringStartCol","closure","isInAttribute","terminator","depth","startOfLine","noIndent","popContext","maybePopContext","nextTagName","parentTagName","tagNameState","closeTagNameState","attrState","matchClosing","closeState","closeStateErr","_stream","attrEqState","attrValueState","attrContinuedState","baseIndent","fullLine","multilineTagIndentPastTag","multilineTagIndentFactor","alignCDATA","tagAfter","grabbers","configuration","skipAttribute","xmlCurrentTag","xmlCurrentContext","cx","_patterns","callback","matches","trim","escape","decode","dec","regexs","_t","isArray","Tokenizer","smartypants","mangle","links","tokenizer","rules","pedantic","gfm","blockTokens","raw","fences","nptable","blockquote","items","def","href","table","lheading","paragraph","errMsg","silent","console","error","l2","row","inlineTokens","cells","inLink","inRawBlock","reflink","codespan","br","del","autolink","inlineText","lexer","Lexer","lex","Renderer","TextRenderer","Slugger","unescape","renderer","textRenderer","slugger","l3","cell","ordered","loose","itemBody","item","checked","task","checkbox","parseInline","lang","escaped","tablecell","tablerow","listitem","Parser","cleanUrl","infostring","langPrefix","headerIds","headerPrefix","slug","xhtml","startatt","flags","sanitize","baseUrl","seen","originalSlug","rtrim","splitCells","findClosingBracket","outputLink","cap","newline","lastToken","trimRight","codeBlockStyle","bull","isordered","itemMatch","addBack","istask","ischecked","bullet","smartLists","sanitizer","lastParenIndex","linkLen","_escapes","nolink","prevCapZero","_backpedal","getDefaults","changeDefaults","newDefaults","escapeTest","escapeReplace","escapeTestNoEncode","escapeReplaceNoEncode","escapeReplacements","getEscapeReplacement","encode","unescapeTest","_","caret","edit","getRegex","nonWordAndColonTest","originIndependentUrl","prot","decodeURIComponent","resolveUrl","encodeURI","baseUrls","justDomain","protocol","domain","relativeBase","noopTest","merge","tableRow","curr","suffLen","currChar","checkSanitizeDeprecation","warn","marked","pending","err","message","setOptions","use","extension","opts","prevRenderer","prevTokenizer","_paragraph","_label","_title","_tag","_comment","_punctuation","_scheme","_email","_attribute","_href","_extended_email","render","staticRenderFns","_vm","_h","$createElement","_c","_self","staticClass","_l","attrs","role","click","$event","_v","domProps","innerHTML","_s","_withStripped","normalizeComponent","scriptExports","functionalTemplate","injectStyles","scopeId","moduleIdentifier","shadowMode","_compiled","functional","_scopeId","hook","$vnode","ssrContext","__VUE_SSR_CONTEXT__","_registeredComponents","_ssrRegister","$root","$options","_injectStyles","originalRender","renderWithStyleInjection","beforeCreate","_editor_vue_vue_type_template_id_7c83f806___WEBPACK_IMPORTED_MODULE_0__","_editor_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__","_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__","component","__file","_node_modules_babel_loader_lib_index_js_node_modules_vue_loader_lib_index_js_vue_loader_options_editor_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__","_node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_editor_vue_vue_type_template_id_7c83f806___WEBPACK_IMPORTED_MODULE_0__","codemirror_lib_codemirror_css__WEBPACK_IMPORTED_MODULE_0__","codemirror_lib_codemirror_css__WEBPACK_IMPORTED_MODULE_0___default","_index_css__WEBPACK_IMPORTED_MODULE_1__","_index_css__WEBPACK_IMPORTED_MODULE_1___default","_editor_vue__WEBPACK_IMPORTED_MODULE_2__","MarkdownEditor","install","Vue","__md_editor_installed","Editor","el","App"],"mappings":"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ACA;AACA;AACA;AACA,qBAAqB;AACrB,yBAAyB;AACzB,mBAAmB;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,4BAA4B;AAC7C,wCAAwC,SAAS,mBAAmB,EAAE;AACtE;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,4BAA4B;AAC7C;AACA;AACA,4BAA4B;AAC5B,mBAAmB;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,mCAAmC;AACzD;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,sBAAsB,iCAAiC;AACvD;AACA;AACA,gBAAgB;AAChB,OAAO;AACP;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,yBAAyB,6BAA6B;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX,oBAAoB,4CAA4C;AAChE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,SAAS,uDAAuD,EAAE;AAC7E;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AClMA;AAAA;AAAA;;AAEA;AACA;AACA;;AAEe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,qBAAqB;AACrB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AC5FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;;;;;;;;;;;;ACrBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AAEAE,0CAAG,CAACtE,GAAJ,CAAQwE,8DAAR;AAEA,IAAIF,0CAAJ,CAAQ;AACNG,IAAE,EAAE,MADE;AAGNzD,QAAM,EAAE,gBAAAryD,CAAC;AAAA,WAAIA,CAAC,CAAC+1D,gDAAD,CAAL;AAAA;AAHH,CAAR,E;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAAkF;AAC3B;AACL;;;AAGlD;AACuF;AACvF,gBAAgB,2GAAU;AAC1B,EAAE,yEAAM;AACR,EAAE,8EAAM;AACR,EAAE,uFAAe;AACjB;AACA;AACA;AACA;;AAEA;;AAEA;AACA,IAAI,KAAU,EAAE,YAiBf;AACD;AACe,gF;;;;;;;;;;;;ACtCf;AAAA;AAAA,wCAA6J,CAAgB,uOAAG,EAAC,C;;;;;;;;;;;;ACAjL;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;ACAA,qB","file":"js/app.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./www/app.js\");\n","// extracted by mini-css-extract-plugin","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse {\n\t\tvar a = factory();\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(window, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// define __esModule on exports\n/******/ \t__webpack_require__.r = function(exports) {\n/******/ \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n/******/ \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n/******/ \t\t}\n/******/ \t\tObject.defineProperty(exports, '__esModule', { value: true });\n/******/ \t};\n/******/\n/******/ \t// create a fake namespace object\n/******/ \t// mode & 1: value is a module id, require it\n/******/ \t// mode & 2: merge all properties of value into the ns\n/******/ \t// mode & 4: return value when already ns object\n/******/ \t// mode & 8|1: behave like require\n/******/ \t__webpack_require__.t = function(value, mode) {\n/******/ \t\tif(mode & 1) value = __webpack_require__(value);\n/******/ \t\tif(mode & 8) return value;\n/******/ \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n/******/ \t\tvar ns = Object.create(null);\n/******/ \t\t__webpack_require__.r(ns);\n/******/ \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n/******/ \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n/******/ \t\treturn ns;\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = \"./src/index.js\");\n/******/ })\n/************************************************************************/\n/******/ ({\n\n/***/ \"./node_modules/babel-loader/lib/index.js!./node_modules/vue-loader/lib/index.js?!./src/editor.vue?vue&type=script&lang=js&\":\n/*!***********************************************************************************************************************************!*\\\n  !*** ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib??vue-loader-options!./src/editor.vue?vue&type=script&lang=js& ***!\n  \\***********************************************************************************************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var markdownparser__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! markdownparser */ \"./node_modules/markdownparser/index.js\");\n/* harmony import */ var markdownparser__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(markdownparser__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var marked__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! marked */ \"./node_modules/marked/src/marked.js\");\n/* harmony import */ var marked__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(marked__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var codemirror__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! codemirror */ \"./node_modules/codemirror/lib/codemirror.js\");\n/* harmony import */ var codemirror__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(codemirror__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var codemirror_addon_display_fullscreen_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! codemirror/addon/display/fullscreen.js */ \"./node_modules/codemirror/addon/display/fullscreen.js\");\n/* harmony import */ var codemirror_addon_display_fullscreen_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(codemirror_addon_display_fullscreen_js__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var codemirror_mode_markdown_markdown_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! codemirror/mode/markdown/markdown.js */ \"./node_modules/codemirror/mode/markdown/markdown.js\");\n/* harmony import */ var codemirror_mode_markdown_markdown_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(codemirror_mode_markdown_markdown_js__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var codemirror_addon_display_placeholder_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! codemirror/addon/display/placeholder.js */ \"./node_modules/codemirror/addon/display/placeholder.js\");\n/* harmony import */ var codemirror_addon_display_placeholder_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(codemirror_addon_display_placeholder_js__WEBPACK_IMPORTED_MODULE_5__);\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  props: {\n    id: {\n      type: String,\n      \"default\": function _default() {\n        return \"v-md-editor-\" + Math.random().toString(16).substr(2, 9);\n      }\n    },\n    css: {\n      type: String\n    },\n    width: {\n      type: [String, Number],\n      \"default\": \"100%\"\n    },\n    height: {\n      type: [String, Number],\n      \"default\": \"300px\"\n    },\n    toolbar: {\n      type: String,\n      \"default\": \"clean redo undo | bold italic strikethrough heading | image link | numlist bullist code quote | preview fullscreen\"\n    },\n    placeholder: {\n      type: String,\n      \"default\": \"\"\n    },\n    extend: {\n      type: Object\n    },\n    buttons: {\n      type: Object,\n      \"default\": function _default() {\n        return {\n          clean: {\n            cmd: \"clean\",\n            ico: \"fas far fa-remove-format mdi mdi-format-clear\",\n            title: \"Html to markdown\",\n            hotkey: \"Shift-Alt-F\"\n          },\n          undo: {\n            cmd: \"undo\",\n            ico: \"fas far fa-undo mdi mdi-undo-variant\",\n            title: \"Undo\",\n            hotkey: \"Ctrl-Z\"\n          },\n          redo: {\n            cmd: \"redo\",\n            ico: \"fas far fa-redo mdi mdi-redo-variant\",\n            title: \"Redo\",\n            hotkey: \"Ctrl-Y\"\n          },\n          bullist: {\n            cmd: \"bullist\",\n            ico: \"fas far fa-list-ul mdi mdi-format-list-bulleted\",\n            title: \"Generic List\"\n          },\n          numlist: {\n            cmd: \"numlist\",\n            ico: \"fas far fa-list-ol mdi mdi-format-list-numbered\",\n            title: \"Numbered List\"\n          },\n          bold: {\n            title: \"Bold\",\n            ico: \"fas far fa-bold mdi mdi-format-bold\",\n            cmd: \"bold\",\n            hotkey: \"Ctrl-B\"\n          },\n          italic: {\n            title: \"Italic\",\n            ico: \"fas far fa-italic mdi mdi-format-italic\",\n            cmd: \"italic\",\n            hotkey: \"Ctrl-I\"\n          },\n          strikethrough: {\n            cmd: \"strikethrough\",\n            ico: \"fas far fa-strikethrough mdi mdi-format-strikethrough\",\n            title: \"Strikethrough\"\n          },\n          heading: {\n            title: \"Heading\",\n            ico: \"fas far fa-heading mdi mdi-format-header-3\",\n            cmd: \"heading\",\n            hotkey: \"Ctrl-H\"\n          },\n          code: {\n            title: \"Code\",\n            ico: \"fas far fa-code mdi mdi-code-tags\",\n            cmd: \"code\",\n            hotkey: \"Ctrl-X\"\n          },\n          quote: {\n            title: \"Quote\",\n            ico: \"fas far fa-quote-left mdi mdi-format-quote-open\",\n            cmd: \"quote\",\n            hotkey: \"Ctrl-Q\"\n          },\n          link: {\n            title: \"Link\",\n            ico: \"fas far fa-link mdi mdi-link\",\n            cmd: \"link\",\n            hotkey: \"Ctrl-K\"\n          },\n          image: {\n            title: \"Image\",\n            ico: \"fas far fa-image mdi mdi-image\",\n            cmd: \"image\",\n            hotkey: \"Ctrl-P\"\n          },\n          fullscreen: {\n            cmd: \"fullscreen\",\n            ico: \"fas far fa-expand mdi mdi-fullscreen\",\n            title: \"Toggle Fullscreen\",\n            hotkey: \"F11\",\n            ready: true\n          },\n          preview: {\n            cmd: \"preview\",\n            ico: \"fas far fa-eye mdi mdi-eye\",\n            title: \"Toggle Preview\",\n            hotkey: \"Ctrl-P\",\n            ready: true\n          }\n        };\n      }\n    },\n    theme: {\n      type: String,\n      \"default\": \"outline-secondary\"\n    },\n    value: {\n      type: String,\n      \"default\": \"\",\n      required: false\n    },\n    options: {\n      type: Object,\n      \"default\": function _default() {\n        return {\n          lineWrapping: true\n        };\n      }\n    },\n    showPreview: {\n      type: String,\n      \"default\": false,\n      required: false\n    }\n  },\n  data: function data() {\n    return {\n      editor: null,\n      preview: false,\n      fullScreen: false,\n      html: \"\",\n      toolbars: []\n    };\n  },\n  computed: {\n    styles: function styles() {\n      return {\n        width: !/^\\d+$/.test(this.width) ? this.width : \"\".concat(this.width, \"px\"),\n        height: !/^\\d+$/.test(this.height) ? this.height : \"\".concat(this.height, \"px\")\n      };\n    }\n  },\n  watch: {\n    value: function value(val) {\n      if (val != this.editor.getValue()) {\n        this.editor.setValue(val); // this.editor.focus();\n      }\n    }\n  },\n  methods: {\n    isEmpty: function isEmpty(s) {\n      return s === null || s === undefined ? true : /^[\\s\\xa0]*$/.test(s);\n    },\n    isUrl: function isUrl(s) {\n      return this.isEmpty(s) ? false : s.match(/((http(s)?):\\/\\/[\\w\\.\\/\\-=?#]+)/gi);\n    },\n    format: function format() {\n      var a = arguments[0];\n\n      for (var i = 1; i <= arguments.length; i++) {\n        a = a.replace(/%[a-z]/, arguments[i]);\n      }\n\n      return a; // Make chainable\n    },\n    _toggleBlock: function _toggleBlock(type, start, end) {\n      end = this.isEmpty(end) ? start : end;\n      var ed = this.editor;\n      var startPoint = ed.getCursor(\"start\");\n      var endPoint = ed.getCursor(\"end\");\n      var text;\n      var stat = this.state();\n\n      if (stat[type]) {\n        text = ed.getLine(startPoint.line);\n        start = text.slice(0, startPoint.ch);\n        end = text.slice(startPoint.ch);\n\n        if (type == \"bold\") {\n          start = start.replace(/(\\*\\*|__)(?![\\s\\S]*(\\*\\*|__))/, \"\");\n          end = end.replace(/(\\*\\*|__)/, \"\");\n        } else if (type == \"italic\") {\n          start = start.replace(/(\\*|_)(?![\\s\\S]*(\\*|_))/, \"\");\n          end = end.replace(/(\\*|_)/, \"\");\n        } else if (type == \"strikethrough\") {\n          start = start.replace(/(\\*\\*|~~)(?![\\s\\S]*(\\*\\*|~~))/, \"\");\n          end = end.replace(/(\\*\\*|~~)/, \"\");\n        }\n\n        ed.replaceRange(start + end, {\n          line: startPoint.line,\n          ch: 0\n        }, {\n          line: startPoint.line,\n          ch: 99999999999999\n        });\n\n        if (type == \"bold\" || type == \"strikethrough\") {\n          startPoint.ch -= 2;\n\n          if (startPoint !== endPoint) {\n            endPoint.ch -= 2;\n          }\n        } else if (type == \"italic\") {\n          startPoint.ch -= 1;\n\n          if (startPoint !== endPoint) {\n            endPoint.ch -= 1;\n          }\n        }\n      } else {\n        text = ed.getSelection();\n\n        if (type == \"bold\") {\n          text = text.split(\"**\").join(\"\");\n          text = text.split(\"__\").join(\"\");\n        } else if (type == \"italic\") {\n          text = text.split(\"*\").join(\"\");\n          text = text.split(\"_\").join(\"\");\n        } else if (type == \"strikethrough\") {\n          text = text.split(\"~~\").join(\"\");\n        }\n\n        ed.replaceSelection(start + text + end);\n        startPoint.ch += start.length;\n        endPoint.ch = startPoint.ch + text.length;\n      }\n\n      ed.setSelection(startPoint, endPoint);\n    },\n    _toggleLine: function _toggleLine(name) {\n      var ed = this.editor;\n      var stat = this.state();\n      var startPoint = ed.getCursor(\"start\");\n      var endPoint = ed.getCursor(\"end\");\n      var repl = {\n        quote: /^(\\s*)\\>\\s+/,\n        bullist: /^(\\s*)(\\*|\\-|\\+)\\s+/,\n        numlist: /^(\\s*)\\d+\\.\\s+/\n      };\n      var map = {\n        quote: \"> \",\n        bullist: \"* \",\n        numlist: \"1. \"\n      };\n\n      for (var i = startPoint.line; i <= endPoint.line; i++) {\n        (function (i) {\n          var text = ed.getLine(i);\n\n          if (stat[name]) {\n            text = text.replace(repl[name], \"$1\");\n          } else {\n            text = map[name] + text;\n          }\n\n          ed.replaceRange(text, {\n            line: i,\n            ch: 0\n          }, {\n            line: i,\n            ch: 99999999999999\n          });\n        })(i);\n      }\n    },\n    state: function state(pos) {\n      pos = pos || this.editor.getCursor(\"start\");\n      var stat = this.editor.getTokenAt(pos);\n      if (!stat.type) return {};\n      var types = stat.type.split(\" \"); // console.log(types);\n\n      var ret = {},\n          data,\n          text;\n\n      for (var i = 0; i < types.length; i++) {\n        data = types[i];\n\n        if (data === \"strong\") {\n          ret.bold = true;\n        } else if (data === \"variable-2\") {\n          text = this.editor.getLine(pos.line);\n\n          if (/^\\s*\\d+\\.\\s/.test(text)) {\n            ret[\"numlist\"] = true;\n          } else {\n            ret[\"bullist\"] = true;\n          }\n        } else if (data === \"atom\") {\n          ret.quote = true;\n        } else if (data === \"em\") {\n          ret.italic = true;\n        } else if (data === \"quote\") {\n          ret.quote = true;\n        } else if (data === \"strikethrough\") {\n          ret.strikethrough = true;\n        } else if (data === \"comment\") {\n          ret.code = true;\n        } else if (data === \"link\" || data === \"url\") {\n          ret.link = true;\n        } else if (data === \"image\") {\n          ret.image = true;\n        } else if (data.match(/^header(\\-[1-6])?$/)) {\n          ret[data.replace(\"header\", \"heading\")] = true;\n        }\n      }\n\n      return ret;\n    },\n    _replaceSelection: function _replaceSelection(active, startEnd, val) {\n      var ed = this.editor;\n      var text;\n      var start = startEnd[0];\n      var end = startEnd[1];\n      var startPoint = ed.getCursor(\"start\");\n      var endPoint = ed.getCursor(\"end\");\n\n      if (val) {\n        Object.keys(val).forEach(function (key) {\n          start = start.replace(\"#\" + key + \"#\", val[key]);\n          end = end.replace(\"#\" + key + \"#\", val[key]);\n        });\n      }\n\n      if (active) {\n        text = ed.getLine(startPoint.line);\n        start = text.slice(0, startPoint.ch);\n        end = text.slice(startPoint.ch);\n        ed.replaceRange(start + end, {\n          line: startPoint.line,\n          ch: 0\n        });\n      } else {\n        ed.replaceSelection(start + end);\n        startPoint.ch += start.length;\n\n        if (startPoint !== endPoint) {\n          endPoint.ch += start.length;\n        }\n      }\n\n      ed.setSelection(startPoint, endPoint);\n    },\n    drawImage: function drawImage(obj) {\n      var stat = this.state();\n\n      this._replaceSelection(stat.image, [\"![#title#](\", '#url# \"#title#\")'], obj);\n    },\n    drawLink: function drawLink(obj) {\n      var stat = this.state();\n\n      this._replaceSelection(stat.link, [\"[#title#]\", '(#url# \"#title#\")'], obj);\n    },\n    command: function command(key) {\n      var ed = this.editor;\n      var text = ed.getSelection(); // this.$root.$emit('markdown-editor:' + key, this);\n\n      this.$emit(\"command:\" + key, this);\n\n      switch (key) {\n        case \"undo\":\n          ed.undo();\n          break;\n\n        case \"redo\":\n          ed.redo();\n          break;\n\n        case \"bold\":\n          this._toggleBlock(\"bold\", \"**\");\n\n          break;\n\n        case \"italic\":\n          this._toggleBlock(\"italic\", \"*\");\n\n          break;\n\n        case \"strikethrough\":\n          this._toggleBlock(\"strikethrough\", \"~~\");\n\n          break;\n\n        case \"code\":\n          this._toggleBlock(\"code\", \"```\");\n\n          break;\n\n        case \"heading\":\n          ed.replaceSelection(\"\\n### \" + text);\n          break;\n\n        case \"image\":\n          var url = prompt(\"Please enter image url\", \"https://\");\n\n          if (this.isUrl(url)) {\n            var title = !this.isEmpty(text) ? text : \"This is image title\";\n            this.drawImage({\n              title: title,\n              url: url\n            });\n          }\n\n          break;\n\n        case \"link\":\n          var url = prompt(\"Please enter link\", \"https://\");\n\n          if (this.isUrl(url)) {\n            var title = !this.isEmpty(text) ? text : url;\n            this.drawLink({\n              title: title,\n              url: url\n            });\n          }\n\n          break;\n\n        case \"quote\":\n          this._toggleLine(\"quote\");\n\n          break;\n\n        case \"numlist\":\n          this._toggleLine(\"numlist\");\n\n          break;\n\n        case \"bullist\":\n          this._toggleLine(\"bullist\");\n\n          break;\n\n        case \"preview\":\n          this.html = marked__WEBPACK_IMPORTED_MODULE_1___default()(ed.getValue(), {\n            breaks: true\n          });\n          this.preview = !this.preview;\n          break;\n\n        case \"fullscreen\":\n          this.fullScreen = !this.fullScreen;\n          ed.setOption(\"fullScreen\", !ed.getOption(\"fullScreen\"));\n          break;\n\n        case \"clean\":\n          ed.replaceSelection(markdownparser__WEBPACK_IMPORTED_MODULE_0___default.a.parse(text));\n          break;\n      }\n\n      ed.focus();\n    },\n    build: function build() {\n      var _this = this;\n\n      if (document.getElementById(this.id)) {\n        if (this.__rendered) return;\n        var buttons = Object.assign({}, this.buttons, this.extend);\n        var shortcuts = {};\n        this.toolbar.split(\"|\").forEach(function (t, i) {\n          var group = [];\n          t.toLowerCase().split(/(\\s)/).forEach(function (b) {\n            if (!_this.isEmpty(b)) {\n              var btn = buttons[b];\n\n              if (!_this.isEmpty(btn.hotkey)) {\n                shortcuts[btn.hotkey] = function () {\n                  return _this.command(btn.cmd);\n                };\n              }\n\n              group.push(btn);\n            }\n          });\n          if (group.length > 0) _this.toolbars.push(group);\n        });\n        var o = Object.assign({\n          mode: \"markdown\",\n          extraKeys: shortcuts\n        }, this.options);\n        var ed = this.editor = codemirror__WEBPACK_IMPORTED_MODULE_2___default.a.fromTextArea(document.getElementById(this.id), o);\n        ed.setValue(this.value);\n        ed.setSize(this.width, this.height);\n        ed.on(\"change\", function (ed) {\n          var val = ed.getValue();\n\n          _this.$emit(\"change\", val);\n\n          _this.$emit(\"input\", val);\n        });\n        this.__rendered = true;\n      }\n    }\n  },\n  mounted: function mounted() {\n    this.build();\n\n    if (this.showPreview === \"true\" && document.getElementById(this.id)) {\n      this.command(\"preview\");\n    }\n  },\n  destroy: function destroy() {\n    this.editor.toTextArea();\n  }\n});\n\n/***/ }),\n\n/***/ \"./node_modules/codemirror/addon/display/fullscreen.js\":\n/*!*************************************************************!*\\\n  !*** ./node_modules/codemirror/addon/display/fullscreen.js ***!\n  \\*************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n(function (mod) {\n  if (true) // CommonJS\n    mod(__webpack_require__(/*! ../../lib/codemirror */ \"./node_modules/codemirror/lib/codemirror.js\"));else {}\n})(function (CodeMirror) {\n  \"use strict\";\n\n  CodeMirror.defineOption(\"fullScreen\", false, function (cm, val, old) {\n    if (old == CodeMirror.Init) old = false;\n    if (!old == !val) return;\n    if (val) setFullscreen(cm);else setNormal(cm);\n  });\n\n  function setFullscreen(cm) {\n    var wrap = cm.getWrapperElement();\n    cm.state.fullScreenRestore = {\n      scrollTop: window.pageYOffset,\n      scrollLeft: window.pageXOffset,\n      width: wrap.style.width,\n      height: wrap.style.height\n    };\n    wrap.style.width = \"\";\n    wrap.style.height = \"auto\";\n    wrap.className += \" CodeMirror-fullscreen\";\n    document.documentElement.style.overflow = \"hidden\";\n    cm.refresh();\n  }\n\n  function setNormal(cm) {\n    var wrap = cm.getWrapperElement();\n    wrap.className = wrap.className.replace(/\\s*CodeMirror-fullscreen\\b/, \"\");\n    document.documentElement.style.overflow = \"\";\n    var info = cm.state.fullScreenRestore;\n    wrap.style.width = info.width;\n    wrap.style.height = info.height;\n    window.scrollTo(info.scrollLeft, info.scrollTop);\n    cm.refresh();\n  }\n});\n\n/***/ }),\n\n/***/ \"./node_modules/codemirror/addon/display/placeholder.js\":\n/*!**************************************************************!*\\\n  !*** ./node_modules/codemirror/addon/display/placeholder.js ***!\n  \\**************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n(function (mod) {\n  if (true) // CommonJS\n    mod(__webpack_require__(/*! ../../lib/codemirror */ \"./node_modules/codemirror/lib/codemirror.js\"));else {}\n})(function (CodeMirror) {\n  CodeMirror.defineOption(\"placeholder\", \"\", function (cm, val, old) {\n    var prev = old && old != CodeMirror.Init;\n\n    if (val && !prev) {\n      cm.on(\"blur\", onBlur);\n      cm.on(\"change\", onChange);\n      cm.on(\"swapDoc\", onChange);\n      onChange(cm);\n    } else if (!val && prev) {\n      cm.off(\"blur\", onBlur);\n      cm.off(\"change\", onChange);\n      cm.off(\"swapDoc\", onChange);\n      clearPlaceholder(cm);\n      var wrapper = cm.getWrapperElement();\n      wrapper.className = wrapper.className.replace(\" CodeMirror-empty\", \"\");\n    }\n\n    if (val && !cm.hasFocus()) onBlur(cm);\n  });\n\n  function clearPlaceholder(cm) {\n    if (cm.state.placeholder) {\n      cm.state.placeholder.parentNode.removeChild(cm.state.placeholder);\n      cm.state.placeholder = null;\n    }\n  }\n\n  function setPlaceholder(cm) {\n    clearPlaceholder(cm);\n    var elt = cm.state.placeholder = document.createElement(\"pre\");\n    elt.style.cssText = \"height: 0; overflow: visible\";\n    elt.style.direction = cm.getOption(\"direction\");\n    elt.className = \"CodeMirror-placeholder CodeMirror-line-like\";\n    var placeHolder = cm.getOption(\"placeholder\");\n    if (typeof placeHolder == \"string\") placeHolder = document.createTextNode(placeHolder);\n    elt.appendChild(placeHolder);\n    cm.display.lineSpace.insertBefore(elt, cm.display.lineSpace.firstChild);\n  }\n\n  function onBlur(cm) {\n    if (isEmpty(cm)) setPlaceholder(cm);\n  }\n\n  function onChange(cm) {\n    var wrapper = cm.getWrapperElement(),\n        empty = isEmpty(cm);\n    wrapper.className = wrapper.className.replace(\" CodeMirror-empty\", \"\") + (empty ? \" CodeMirror-empty\" : \"\");\n    if (empty) setPlaceholder(cm);else clearPlaceholder(cm);\n  }\n\n  function isEmpty(cm) {\n    return cm.lineCount() === 1 && cm.getLine(0) === \"\";\n  }\n});\n\n/***/ }),\n\n/***/ \"./node_modules/codemirror/lib/codemirror.css\":\n/*!****************************************************!*\\\n  !*** ./node_modules/codemirror/lib/codemirror.css ***!\n  \\****************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ \"./node_modules/codemirror/lib/codemirror.js\":\n/*!***************************************************!*\\\n  !*** ./node_modules/codemirror/lib/codemirror.js ***!\n  \\***************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n// This is CodeMirror (https://codemirror.net), a code editor\n// implemented in JavaScript on top of the browser's DOM.\n//\n// You can find some technical background for some of the code below\n// at http://marijnhaverbeke.nl/blog/#cm-internals .\n(function (global, factory) {\n   true ? module.exports = factory() : undefined;\n})(this, function () {\n  'use strict'; // Kludges for bugs and behavior differences that can't be feature\n  // detected are enabled based on userAgent etc sniffing.\n\n  var userAgent = navigator.userAgent;\n  var platform = navigator.platform;\n  var gecko = /gecko\\/\\d/i.test(userAgent);\n  var ie_upto10 = /MSIE \\d/.test(userAgent);\n  var ie_11up = /Trident\\/(?:[7-9]|\\d{2,})\\..*rv:(\\d+)/.exec(userAgent);\n  var edge = /Edge\\/(\\d+)/.exec(userAgent);\n  var ie = ie_upto10 || ie_11up || edge;\n  var ie_version = ie && (ie_upto10 ? document.documentMode || 6 : +(edge || ie_11up)[1]);\n  var webkit = !edge && /WebKit\\//.test(userAgent);\n  var qtwebkit = webkit && /Qt\\/\\d+\\.\\d+/.test(userAgent);\n  var chrome = !edge && /Chrome\\//.test(userAgent);\n  var presto = /Opera\\//.test(userAgent);\n  var safari = /Apple Computer/.test(navigator.vendor);\n  var mac_geMountainLion = /Mac OS X 1\\d\\D([8-9]|\\d\\d)\\D/.test(userAgent);\n  var phantom = /PhantomJS/.test(userAgent);\n  var ios = !edge && /AppleWebKit/.test(userAgent) && /Mobile\\/\\w+/.test(userAgent);\n  var android = /Android/.test(userAgent); // This is woefully incomplete. Suggestions for alternative methods welcome.\n\n  var mobile = ios || android || /webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(userAgent);\n  var mac = ios || /Mac/.test(platform);\n  var chromeOS = /\\bCrOS\\b/.test(userAgent);\n  var windows = /win/i.test(platform);\n  var presto_version = presto && userAgent.match(/Version\\/(\\d*\\.\\d*)/);\n\n  if (presto_version) {\n    presto_version = Number(presto_version[1]);\n  }\n\n  if (presto_version && presto_version >= 15) {\n    presto = false;\n    webkit = true;\n  } // Some browsers use the wrong event properties to signal cmd/ctrl on OS X\n\n\n  var flipCtrlCmd = mac && (qtwebkit || presto && (presto_version == null || presto_version < 12.11));\n  var captureRightClick = gecko || ie && ie_version >= 9;\n\n  function classTest(cls) {\n    return new RegExp(\"(^|\\\\s)\" + cls + \"(?:$|\\\\s)\\\\s*\");\n  }\n\n  var rmClass = function (node, cls) {\n    var current = node.className;\n    var match = classTest(cls).exec(current);\n\n    if (match) {\n      var after = current.slice(match.index + match[0].length);\n      node.className = current.slice(0, match.index) + (after ? match[1] + after : \"\");\n    }\n  };\n\n  function removeChildren(e) {\n    for (var count = e.childNodes.length; count > 0; --count) {\n      e.removeChild(e.firstChild);\n    }\n\n    return e;\n  }\n\n  function removeChildrenAndAdd(parent, e) {\n    return removeChildren(parent).appendChild(e);\n  }\n\n  function elt(tag, content, className, style) {\n    var e = document.createElement(tag);\n\n    if (className) {\n      e.className = className;\n    }\n\n    if (style) {\n      e.style.cssText = style;\n    }\n\n    if (typeof content == \"string\") {\n      e.appendChild(document.createTextNode(content));\n    } else if (content) {\n      for (var i = 0; i < content.length; ++i) {\n        e.appendChild(content[i]);\n      }\n    }\n\n    return e;\n  } // wrapper for elt, which removes the elt from the accessibility tree\n\n\n  function eltP(tag, content, className, style) {\n    var e = elt(tag, content, className, style);\n    e.setAttribute(\"role\", \"presentation\");\n    return e;\n  }\n\n  var range;\n\n  if (document.createRange) {\n    range = function (node, start, end, endNode) {\n      var r = document.createRange();\n      r.setEnd(endNode || node, end);\n      r.setStart(node, start);\n      return r;\n    };\n  } else {\n    range = function (node, start, end) {\n      var r = document.body.createTextRange();\n\n      try {\n        r.moveToElementText(node.parentNode);\n      } catch (e) {\n        return r;\n      }\n\n      r.collapse(true);\n      r.moveEnd(\"character\", end);\n      r.moveStart(\"character\", start);\n      return r;\n    };\n  }\n\n  function contains(parent, child) {\n    if (child.nodeType == 3) // Android browser always returns false when child is a textnode\n      {\n        child = child.parentNode;\n      }\n\n    if (parent.contains) {\n      return parent.contains(child);\n    }\n\n    do {\n      if (child.nodeType == 11) {\n        child = child.host;\n      }\n\n      if (child == parent) {\n        return true;\n      }\n    } while (child = child.parentNode);\n  }\n\n  function activeElt() {\n    // IE and Edge may throw an \"Unspecified Error\" when accessing document.activeElement.\n    // IE < 10 will throw when accessed while the page is loading or in an iframe.\n    // IE > 9 and Edge will throw when accessed in an iframe if document.body is unavailable.\n    var activeElement;\n\n    try {\n      activeElement = document.activeElement;\n    } catch (e) {\n      activeElement = document.body || null;\n    }\n\n    while (activeElement && activeElement.shadowRoot && activeElement.shadowRoot.activeElement) {\n      activeElement = activeElement.shadowRoot.activeElement;\n    }\n\n    return activeElement;\n  }\n\n  function addClass(node, cls) {\n    var current = node.className;\n\n    if (!classTest(cls).test(current)) {\n      node.className += (current ? \" \" : \"\") + cls;\n    }\n  }\n\n  function joinClasses(a, b) {\n    var as = a.split(\" \");\n\n    for (var i = 0; i < as.length; i++) {\n      if (as[i] && !classTest(as[i]).test(b)) {\n        b += \" \" + as[i];\n      }\n    }\n\n    return b;\n  }\n\n  var selectInput = function (node) {\n    node.select();\n  };\n\n  if (ios) // Mobile Safari apparently has a bug where select() is broken.\n    {\n      selectInput = function (node) {\n        node.selectionStart = 0;\n        node.selectionEnd = node.value.length;\n      };\n    } else if (ie) // Suppress mysterious IE10 errors\n    {\n      selectInput = function (node) {\n        try {\n          node.select();\n        } catch (_e) {}\n      };\n    }\n\n  function bind(f) {\n    var args = Array.prototype.slice.call(arguments, 1);\n    return function () {\n      return f.apply(null, args);\n    };\n  }\n\n  function copyObj(obj, target, overwrite) {\n    if (!target) {\n      target = {};\n    }\n\n    for (var prop in obj) {\n      if (obj.hasOwnProperty(prop) && (overwrite !== false || !target.hasOwnProperty(prop))) {\n        target[prop] = obj[prop];\n      }\n    }\n\n    return target;\n  } // Counts the column offset in a string, taking tabs into account.\n  // Used mostly to find indentation.\n\n\n  function countColumn(string, end, tabSize, startIndex, startValue) {\n    if (end == null) {\n      end = string.search(/[^\\s\\u00a0]/);\n\n      if (end == -1) {\n        end = string.length;\n      }\n    }\n\n    for (var i = startIndex || 0, n = startValue || 0;;) {\n      var nextTab = string.indexOf(\"\\t\", i);\n\n      if (nextTab < 0 || nextTab >= end) {\n        return n + (end - i);\n      }\n\n      n += nextTab - i;\n      n += tabSize - n % tabSize;\n      i = nextTab + 1;\n    }\n  }\n\n  var Delayed = function () {\n    this.id = null;\n    this.f = null;\n    this.time = 0;\n    this.handler = bind(this.onTimeout, this);\n  };\n\n  Delayed.prototype.onTimeout = function (self) {\n    self.id = 0;\n\n    if (self.time <= +new Date()) {\n      self.f();\n    } else {\n      setTimeout(self.handler, self.time - +new Date());\n    }\n  };\n\n  Delayed.prototype.set = function (ms, f) {\n    this.f = f;\n    var time = +new Date() + ms;\n\n    if (!this.id || time < this.time) {\n      clearTimeout(this.id);\n      this.id = setTimeout(this.handler, ms);\n      this.time = time;\n    }\n  };\n\n  function indexOf(array, elt) {\n    for (var i = 0; i < array.length; ++i) {\n      if (array[i] == elt) {\n        return i;\n      }\n    }\n\n    return -1;\n  } // Number of pixels added to scroller and sizer to hide scrollbar\n\n\n  var scrollerGap = 30; // Returned or thrown by various protocols to signal 'I'm not\n  // handling this'.\n\n  var Pass = {\n    toString: function () {\n      return \"CodeMirror.Pass\";\n    }\n  }; // Reused option objects for setSelection & friends\n\n  var sel_dontScroll = {\n    scroll: false\n  },\n      sel_mouse = {\n    origin: \"*mouse\"\n  },\n      sel_move = {\n    origin: \"+move\"\n  }; // The inverse of countColumn -- find the offset that corresponds to\n  // a particular column.\n\n  function findColumn(string, goal, tabSize) {\n    for (var pos = 0, col = 0;;) {\n      var nextTab = string.indexOf(\"\\t\", pos);\n\n      if (nextTab == -1) {\n        nextTab = string.length;\n      }\n\n      var skipped = nextTab - pos;\n\n      if (nextTab == string.length || col + skipped >= goal) {\n        return pos + Math.min(skipped, goal - col);\n      }\n\n      col += nextTab - pos;\n      col += tabSize - col % tabSize;\n      pos = nextTab + 1;\n\n      if (col >= goal) {\n        return pos;\n      }\n    }\n  }\n\n  var spaceStrs = [\"\"];\n\n  function spaceStr(n) {\n    while (spaceStrs.length <= n) {\n      spaceStrs.push(lst(spaceStrs) + \" \");\n    }\n\n    return spaceStrs[n];\n  }\n\n  function lst(arr) {\n    return arr[arr.length - 1];\n  }\n\n  function map(array, f) {\n    var out = [];\n\n    for (var i = 0; i < array.length; i++) {\n      out[i] = f(array[i], i);\n    }\n\n    return out;\n  }\n\n  function insertSorted(array, value, score) {\n    var pos = 0,\n        priority = score(value);\n\n    while (pos < array.length && score(array[pos]) <= priority) {\n      pos++;\n    }\n\n    array.splice(pos, 0, value);\n  }\n\n  function nothing() {}\n\n  function createObj(base, props) {\n    var inst;\n\n    if (Object.create) {\n      inst = Object.create(base);\n    } else {\n      nothing.prototype = base;\n      inst = new nothing();\n    }\n\n    if (props) {\n      copyObj(props, inst);\n    }\n\n    return inst;\n  }\n\n  var nonASCIISingleCaseWordChar = /[\\u00df\\u0587\\u0590-\\u05f4\\u0600-\\u06ff\\u3040-\\u309f\\u30a0-\\u30ff\\u3400-\\u4db5\\u4e00-\\u9fcc\\uac00-\\ud7af]/;\n\n  function isWordCharBasic(ch) {\n    return /\\w/.test(ch) || ch > \"\\x80\" && (ch.toUpperCase() != ch.toLowerCase() || nonASCIISingleCaseWordChar.test(ch));\n  }\n\n  function isWordChar(ch, helper) {\n    if (!helper) {\n      return isWordCharBasic(ch);\n    }\n\n    if (helper.source.indexOf(\"\\\\w\") > -1 && isWordCharBasic(ch)) {\n      return true;\n    }\n\n    return helper.test(ch);\n  }\n\n  function isEmpty(obj) {\n    for (var n in obj) {\n      if (obj.hasOwnProperty(n) && obj[n]) {\n        return false;\n      }\n    }\n\n    return true;\n  } // Extending unicode characters. A series of a non-extending char +\n  // any number of extending chars is treated as a single unit as far\n  // as editing and measuring is concerned. This is not fully correct,\n  // since some scripts/fonts/browsers also treat other configurations\n  // of code points as a group.\n\n\n  var extendingChars = /[\\u0300-\\u036f\\u0483-\\u0489\\u0591-\\u05bd\\u05bf\\u05c1\\u05c2\\u05c4\\u05c5\\u05c7\\u0610-\\u061a\\u064b-\\u065e\\u0670\\u06d6-\\u06dc\\u06de-\\u06e4\\u06e7\\u06e8\\u06ea-\\u06ed\\u0711\\u0730-\\u074a\\u07a6-\\u07b0\\u07eb-\\u07f3\\u0816-\\u0819\\u081b-\\u0823\\u0825-\\u0827\\u0829-\\u082d\\u0900-\\u0902\\u093c\\u0941-\\u0948\\u094d\\u0951-\\u0955\\u0962\\u0963\\u0981\\u09bc\\u09be\\u09c1-\\u09c4\\u09cd\\u09d7\\u09e2\\u09e3\\u0a01\\u0a02\\u0a3c\\u0a41\\u0a42\\u0a47\\u0a48\\u0a4b-\\u0a4d\\u0a51\\u0a70\\u0a71\\u0a75\\u0a81\\u0a82\\u0abc\\u0ac1-\\u0ac5\\u0ac7\\u0ac8\\u0acd\\u0ae2\\u0ae3\\u0b01\\u0b3c\\u0b3e\\u0b3f\\u0b41-\\u0b44\\u0b4d\\u0b56\\u0b57\\u0b62\\u0b63\\u0b82\\u0bbe\\u0bc0\\u0bcd\\u0bd7\\u0c3e-\\u0c40\\u0c46-\\u0c48\\u0c4a-\\u0c4d\\u0c55\\u0c56\\u0c62\\u0c63\\u0cbc\\u0cbf\\u0cc2\\u0cc6\\u0ccc\\u0ccd\\u0cd5\\u0cd6\\u0ce2\\u0ce3\\u0d3e\\u0d41-\\u0d44\\u0d4d\\u0d57\\u0d62\\u0d63\\u0dca\\u0dcf\\u0dd2-\\u0dd4\\u0dd6\\u0ddf\\u0e31\\u0e34-\\u0e3a\\u0e47-\\u0e4e\\u0eb1\\u0eb4-\\u0eb9\\u0ebb\\u0ebc\\u0ec8-\\u0ecd\\u0f18\\u0f19\\u0f35\\u0f37\\u0f39\\u0f71-\\u0f7e\\u0f80-\\u0f84\\u0f86\\u0f87\\u0f90-\\u0f97\\u0f99-\\u0fbc\\u0fc6\\u102d-\\u1030\\u1032-\\u1037\\u1039\\u103a\\u103d\\u103e\\u1058\\u1059\\u105e-\\u1060\\u1071-\\u1074\\u1082\\u1085\\u1086\\u108d\\u109d\\u135f\\u1712-\\u1714\\u1732-\\u1734\\u1752\\u1753\\u1772\\u1773\\u17b7-\\u17bd\\u17c6\\u17c9-\\u17d3\\u17dd\\u180b-\\u180d\\u18a9\\u1920-\\u1922\\u1927\\u1928\\u1932\\u1939-\\u193b\\u1a17\\u1a18\\u1a56\\u1a58-\\u1a5e\\u1a60\\u1a62\\u1a65-\\u1a6c\\u1a73-\\u1a7c\\u1a7f\\u1b00-\\u1b03\\u1b34\\u1b36-\\u1b3a\\u1b3c\\u1b42\\u1b6b-\\u1b73\\u1b80\\u1b81\\u1ba2-\\u1ba5\\u1ba8\\u1ba9\\u1c2c-\\u1c33\\u1c36\\u1c37\\u1cd0-\\u1cd2\\u1cd4-\\u1ce0\\u1ce2-\\u1ce8\\u1ced\\u1dc0-\\u1de6\\u1dfd-\\u1dff\\u200c\\u200d\\u20d0-\\u20f0\\u2cef-\\u2cf1\\u2de0-\\u2dff\\u302a-\\u302f\\u3099\\u309a\\ua66f-\\ua672\\ua67c\\ua67d\\ua6f0\\ua6f1\\ua802\\ua806\\ua80b\\ua825\\ua826\\ua8c4\\ua8e0-\\ua8f1\\ua926-\\ua92d\\ua947-\\ua951\\ua980-\\ua982\\ua9b3\\ua9b6-\\ua9b9\\ua9bc\\uaa29-\\uaa2e\\uaa31\\uaa32\\uaa35\\uaa36\\uaa43\\uaa4c\\uaab0\\uaab2-\\uaab4\\uaab7\\uaab8\\uaabe\\uaabf\\uaac1\\uabe5\\uabe8\\uabed\\udc00-\\udfff\\ufb1e\\ufe00-\\ufe0f\\ufe20-\\ufe26\\uff9e\\uff9f]/;\n\n  function isExtendingChar(ch) {\n    return ch.charCodeAt(0) >= 768 && extendingChars.test(ch);\n  } // Returns a number from the range [`0`; `str.length`] unless `pos` is outside that range.\n\n\n  function skipExtendingChars(str, pos, dir) {\n    while ((dir < 0 ? pos > 0 : pos < str.length) && isExtendingChar(str.charAt(pos))) {\n      pos += dir;\n    }\n\n    return pos;\n  } // Returns the value from the range [`from`; `to`] that satisfies\n  // `pred` and is closest to `from`. Assumes that at least `to`\n  // satisfies `pred`. Supports `from` being greater than `to`.\n\n\n  function findFirst(pred, from, to) {\n    // At any point we are certain `to` satisfies `pred`, don't know\n    // whether `from` does.\n    var dir = from > to ? -1 : 1;\n\n    for (;;) {\n      if (from == to) {\n        return from;\n      }\n\n      var midF = (from + to) / 2,\n          mid = dir < 0 ? Math.ceil(midF) : Math.floor(midF);\n\n      if (mid == from) {\n        return pred(mid) ? from : to;\n      }\n\n      if (pred(mid)) {\n        to = mid;\n      } else {\n        from = mid + dir;\n      }\n    }\n  } // BIDI HELPERS\n\n\n  function iterateBidiSections(order, from, to, f) {\n    if (!order) {\n      return f(from, to, \"ltr\", 0);\n    }\n\n    var found = false;\n\n    for (var i = 0; i < order.length; ++i) {\n      var part = order[i];\n\n      if (part.from < to && part.to > from || from == to && part.to == from) {\n        f(Math.max(part.from, from), Math.min(part.to, to), part.level == 1 ? \"rtl\" : \"ltr\", i);\n        found = true;\n      }\n    }\n\n    if (!found) {\n      f(from, to, \"ltr\");\n    }\n  }\n\n  var bidiOther = null;\n\n  function getBidiPartAt(order, ch, sticky) {\n    var found;\n    bidiOther = null;\n\n    for (var i = 0; i < order.length; ++i) {\n      var cur = order[i];\n\n      if (cur.from < ch && cur.to > ch) {\n        return i;\n      }\n\n      if (cur.to == ch) {\n        if (cur.from != cur.to && sticky == \"before\") {\n          found = i;\n        } else {\n          bidiOther = i;\n        }\n      }\n\n      if (cur.from == ch) {\n        if (cur.from != cur.to && sticky != \"before\") {\n          found = i;\n        } else {\n          bidiOther = i;\n        }\n      }\n    }\n\n    return found != null ? found : bidiOther;\n  } // Bidirectional ordering algorithm\n  // See http://unicode.org/reports/tr9/tr9-13.html for the algorithm\n  // that this (partially) implements.\n  // One-char codes used for character types:\n  // L (L):   Left-to-Right\n  // R (R):   Right-to-Left\n  // r (AL):  Right-to-Left Arabic\n  // 1 (EN):  European Number\n  // + (ES):  European Number Separator\n  // % (ET):  European Number Terminator\n  // n (AN):  Arabic Number\n  // , (CS):  Common Number Separator\n  // m (NSM): Non-Spacing Mark\n  // b (BN):  Boundary Neutral\n  // s (B):   Paragraph Separator\n  // t (S):   Segment Separator\n  // w (WS):  Whitespace\n  // N (ON):  Other Neutrals\n  // Returns null if characters are ordered as they appear\n  // (left-to-right), or an array of sections ({from, to, level}\n  // objects) in the order in which they occur visually.\n\n\n  var bidiOrdering = function () {\n    // Character types for codepoints 0 to 0xff\n    var lowTypes = \"bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN\"; // Character types for codepoints 0x600 to 0x6f9\n\n    var arabicTypes = \"nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111\";\n\n    function charType(code) {\n      if (code <= 0xf7) {\n        return lowTypes.charAt(code);\n      } else if (0x590 <= code && code <= 0x5f4) {\n        return \"R\";\n      } else if (0x600 <= code && code <= 0x6f9) {\n        return arabicTypes.charAt(code - 0x600);\n      } else if (0x6ee <= code && code <= 0x8ac) {\n        return \"r\";\n      } else if (0x2000 <= code && code <= 0x200b) {\n        return \"w\";\n      } else if (code == 0x200c) {\n        return \"b\";\n      } else {\n        return \"L\";\n      }\n    }\n\n    var bidiRE = /[\\u0590-\\u05f4\\u0600-\\u06ff\\u0700-\\u08ac]/;\n    var isNeutral = /[stwN]/,\n        isStrong = /[LRr]/,\n        countsAsLeft = /[Lb1n]/,\n        countsAsNum = /[1n]/;\n\n    function BidiSpan(level, from, to) {\n      this.level = level;\n      this.from = from;\n      this.to = to;\n    }\n\n    return function (str, direction) {\n      var outerType = direction == \"ltr\" ? \"L\" : \"R\";\n\n      if (str.length == 0 || direction == \"ltr\" && !bidiRE.test(str)) {\n        return false;\n      }\n\n      var len = str.length,\n          types = [];\n\n      for (var i = 0; i < len; ++i) {\n        types.push(charType(str.charCodeAt(i)));\n      } // W1. Examine each non-spacing mark (NSM) in the level run, and\n      // change the type of the NSM to the type of the previous\n      // character. If the NSM is at the start of the level run, it will\n      // get the type of sor.\n\n\n      for (var i$1 = 0, prev = outerType; i$1 < len; ++i$1) {\n        var type = types[i$1];\n\n        if (type == \"m\") {\n          types[i$1] = prev;\n        } else {\n          prev = type;\n        }\n      } // W2. Search backwards from each instance of a European number\n      // until the first strong type (R, L, AL, or sor) is found. If an\n      // AL is found, change the type of the European number to Arabic\n      // number.\n      // W3. Change all ALs to R.\n\n\n      for (var i$2 = 0, cur = outerType; i$2 < len; ++i$2) {\n        var type$1 = types[i$2];\n\n        if (type$1 == \"1\" && cur == \"r\") {\n          types[i$2] = \"n\";\n        } else if (isStrong.test(type$1)) {\n          cur = type$1;\n\n          if (type$1 == \"r\") {\n            types[i$2] = \"R\";\n          }\n        }\n      } // W4. A single European separator between two European numbers\n      // changes to a European number. A single common separator between\n      // two numbers of the same type changes to that type.\n\n\n      for (var i$3 = 1, prev$1 = types[0]; i$3 < len - 1; ++i$3) {\n        var type$2 = types[i$3];\n\n        if (type$2 == \"+\" && prev$1 == \"1\" && types[i$3 + 1] == \"1\") {\n          types[i$3] = \"1\";\n        } else if (type$2 == \",\" && prev$1 == types[i$3 + 1] && (prev$1 == \"1\" || prev$1 == \"n\")) {\n          types[i$3] = prev$1;\n        }\n\n        prev$1 = type$2;\n      } // W5. A sequence of European terminators adjacent to European\n      // numbers changes to all European numbers.\n      // W6. Otherwise, separators and terminators change to Other\n      // Neutral.\n\n\n      for (var i$4 = 0; i$4 < len; ++i$4) {\n        var type$3 = types[i$4];\n\n        if (type$3 == \",\") {\n          types[i$4] = \"N\";\n        } else if (type$3 == \"%\") {\n          var end = void 0;\n\n          for (end = i$4 + 1; end < len && types[end] == \"%\"; ++end) {}\n\n          var replace = i$4 && types[i$4 - 1] == \"!\" || end < len && types[end] == \"1\" ? \"1\" : \"N\";\n\n          for (var j = i$4; j < end; ++j) {\n            types[j] = replace;\n          }\n\n          i$4 = end - 1;\n        }\n      } // W7. Search backwards from each instance of a European number\n      // until the first strong type (R, L, or sor) is found. If an L is\n      // found, then change the type of the European number to L.\n\n\n      for (var i$5 = 0, cur$1 = outerType; i$5 < len; ++i$5) {\n        var type$4 = types[i$5];\n\n        if (cur$1 == \"L\" && type$4 == \"1\") {\n          types[i$5] = \"L\";\n        } else if (isStrong.test(type$4)) {\n          cur$1 = type$4;\n        }\n      } // N1. A sequence of neutrals takes the direction of the\n      // surrounding strong text if the text on both sides has the same\n      // direction. European and Arabic numbers act as if they were R in\n      // terms of their influence on neutrals. Start-of-level-run (sor)\n      // and end-of-level-run (eor) are used at level run boundaries.\n      // N2. Any remaining neutrals take the embedding direction.\n\n\n      for (var i$6 = 0; i$6 < len; ++i$6) {\n        if (isNeutral.test(types[i$6])) {\n          var end$1 = void 0;\n\n          for (end$1 = i$6 + 1; end$1 < len && isNeutral.test(types[end$1]); ++end$1) {}\n\n          var before = (i$6 ? types[i$6 - 1] : outerType) == \"L\";\n          var after = (end$1 < len ? types[end$1] : outerType) == \"L\";\n          var replace$1 = before == after ? before ? \"L\" : \"R\" : outerType;\n\n          for (var j$1 = i$6; j$1 < end$1; ++j$1) {\n            types[j$1] = replace$1;\n          }\n\n          i$6 = end$1 - 1;\n        }\n      } // Here we depart from the documented algorithm, in order to avoid\n      // building up an actual levels array. Since there are only three\n      // levels (0, 1, 2) in an implementation that doesn't take\n      // explicit embedding into account, we can build up the order on\n      // the fly, without following the level-based algorithm.\n\n\n      var order = [],\n          m;\n\n      for (var i$7 = 0; i$7 < len;) {\n        if (countsAsLeft.test(types[i$7])) {\n          var start = i$7;\n\n          for (++i$7; i$7 < len && countsAsLeft.test(types[i$7]); ++i$7) {}\n\n          order.push(new BidiSpan(0, start, i$7));\n        } else {\n          var pos = i$7,\n              at = order.length,\n              isRTL = direction == \"rtl\" ? 1 : 0;\n\n          for (++i$7; i$7 < len && types[i$7] != \"L\"; ++i$7) {}\n\n          for (var j$2 = pos; j$2 < i$7;) {\n            if (countsAsNum.test(types[j$2])) {\n              if (pos < j$2) {\n                order.splice(at, 0, new BidiSpan(1, pos, j$2));\n                at += isRTL;\n              }\n\n              var nstart = j$2;\n\n              for (++j$2; j$2 < i$7 && countsAsNum.test(types[j$2]); ++j$2) {}\n\n              order.splice(at, 0, new BidiSpan(2, nstart, j$2));\n              at += isRTL;\n              pos = j$2;\n            } else {\n              ++j$2;\n            }\n          }\n\n          if (pos < i$7) {\n            order.splice(at, 0, new BidiSpan(1, pos, i$7));\n          }\n        }\n      }\n\n      if (direction == \"ltr\") {\n        if (order[0].level == 1 && (m = str.match(/^\\s+/))) {\n          order[0].from = m[0].length;\n          order.unshift(new BidiSpan(0, 0, m[0].length));\n        }\n\n        if (lst(order).level == 1 && (m = str.match(/\\s+$/))) {\n          lst(order).to -= m[0].length;\n          order.push(new BidiSpan(0, len - m[0].length, len));\n        }\n      }\n\n      return direction == \"rtl\" ? order.reverse() : order;\n    };\n  }(); // Get the bidi ordering for the given line (and cache it). Returns\n  // false for lines that are fully left-to-right, and an array of\n  // BidiSpan objects otherwise.\n\n\n  function getOrder(line, direction) {\n    var order = line.order;\n\n    if (order == null) {\n      order = line.order = bidiOrdering(line.text, direction);\n    }\n\n    return order;\n  } // EVENT HANDLING\n  // Lightweight event framework. on/off also work on DOM nodes,\n  // registering native DOM handlers.\n\n\n  var noHandlers = [];\n\n  var on = function (emitter, type, f) {\n    if (emitter.addEventListener) {\n      emitter.addEventListener(type, f, false);\n    } else if (emitter.attachEvent) {\n      emitter.attachEvent(\"on\" + type, f);\n    } else {\n      var map = emitter._handlers || (emitter._handlers = {});\n      map[type] = (map[type] || noHandlers).concat(f);\n    }\n  };\n\n  function getHandlers(emitter, type) {\n    return emitter._handlers && emitter._handlers[type] || noHandlers;\n  }\n\n  function off(emitter, type, f) {\n    if (emitter.removeEventListener) {\n      emitter.removeEventListener(type, f, false);\n    } else if (emitter.detachEvent) {\n      emitter.detachEvent(\"on\" + type, f);\n    } else {\n      var map = emitter._handlers,\n          arr = map && map[type];\n\n      if (arr) {\n        var index = indexOf(arr, f);\n\n        if (index > -1) {\n          map[type] = arr.slice(0, index).concat(arr.slice(index + 1));\n        }\n      }\n    }\n  }\n\n  function signal(emitter, type\n  /*, values...*/\n  ) {\n    var handlers = getHandlers(emitter, type);\n\n    if (!handlers.length) {\n      return;\n    }\n\n    var args = Array.prototype.slice.call(arguments, 2);\n\n    for (var i = 0; i < handlers.length; ++i) {\n      handlers[i].apply(null, args);\n    }\n  } // The DOM events that CodeMirror handles can be overridden by\n  // registering a (non-DOM) handler on the editor for the event name,\n  // and preventDefault-ing the event in that handler.\n\n\n  function signalDOMEvent(cm, e, override) {\n    if (typeof e == \"string\") {\n      e = {\n        type: e,\n        preventDefault: function () {\n          this.defaultPrevented = true;\n        }\n      };\n    }\n\n    signal(cm, override || e.type, cm, e);\n    return e_defaultPrevented(e) || e.codemirrorIgnore;\n  }\n\n  function signalCursorActivity(cm) {\n    var arr = cm._handlers && cm._handlers.cursorActivity;\n\n    if (!arr) {\n      return;\n    }\n\n    var set = cm.curOp.cursorActivityHandlers || (cm.curOp.cursorActivityHandlers = []);\n\n    for (var i = 0; i < arr.length; ++i) {\n      if (indexOf(set, arr[i]) == -1) {\n        set.push(arr[i]);\n      }\n    }\n  }\n\n  function hasHandler(emitter, type) {\n    return getHandlers(emitter, type).length > 0;\n  } // Add on and off methods to a constructor's prototype, to make\n  // registering events on such objects more convenient.\n\n\n  function eventMixin(ctor) {\n    ctor.prototype.on = function (type, f) {\n      on(this, type, f);\n    };\n\n    ctor.prototype.off = function (type, f) {\n      off(this, type, f);\n    };\n  } // Due to the fact that we still support jurassic IE versions, some\n  // compatibility wrappers are needed.\n\n\n  function e_preventDefault(e) {\n    if (e.preventDefault) {\n      e.preventDefault();\n    } else {\n      e.returnValue = false;\n    }\n  }\n\n  function e_stopPropagation(e) {\n    if (e.stopPropagation) {\n      e.stopPropagation();\n    } else {\n      e.cancelBubble = true;\n    }\n  }\n\n  function e_defaultPrevented(e) {\n    return e.defaultPrevented != null ? e.defaultPrevented : e.returnValue == false;\n  }\n\n  function e_stop(e) {\n    e_preventDefault(e);\n    e_stopPropagation(e);\n  }\n\n  function e_target(e) {\n    return e.target || e.srcElement;\n  }\n\n  function e_button(e) {\n    var b = e.which;\n\n    if (b == null) {\n      if (e.button & 1) {\n        b = 1;\n      } else if (e.button & 2) {\n        b = 3;\n      } else if (e.button & 4) {\n        b = 2;\n      }\n    }\n\n    if (mac && e.ctrlKey && b == 1) {\n      b = 3;\n    }\n\n    return b;\n  } // Detect drag-and-drop\n\n\n  var dragAndDrop = function () {\n    // There is *some* kind of drag-and-drop support in IE6-8, but I\n    // couldn't get it to work yet.\n    if (ie && ie_version < 9) {\n      return false;\n    }\n\n    var div = elt('div');\n    return \"draggable\" in div || \"dragDrop\" in div;\n  }();\n\n  var zwspSupported;\n\n  function zeroWidthElement(measure) {\n    if (zwspSupported == null) {\n      var test = elt(\"span\", \"\\u200b\");\n      removeChildrenAndAdd(measure, elt(\"span\", [test, document.createTextNode(\"x\")]));\n\n      if (measure.firstChild.offsetHeight != 0) {\n        zwspSupported = test.offsetWidth <= 1 && test.offsetHeight > 2 && !(ie && ie_version < 8);\n      }\n    }\n\n    var node = zwspSupported ? elt(\"span\", \"\\u200b\") : elt(\"span\", \"\\u00a0\", null, \"display: inline-block; width: 1px; margin-right: -1px\");\n    node.setAttribute(\"cm-text\", \"\");\n    return node;\n  } // Feature-detect IE's crummy client rect reporting for bidi text\n\n\n  var badBidiRects;\n\n  function hasBadBidiRects(measure) {\n    if (badBidiRects != null) {\n      return badBidiRects;\n    }\n\n    var txt = removeChildrenAndAdd(measure, document.createTextNode(\"A\\u062eA\"));\n    var r0 = range(txt, 0, 1).getBoundingClientRect();\n    var r1 = range(txt, 1, 2).getBoundingClientRect();\n    removeChildren(measure);\n\n    if (!r0 || r0.left == r0.right) {\n      return false;\n    } // Safari returns null in some cases (#2780)\n\n\n    return badBidiRects = r1.right - r0.right < 3;\n  } // See if \"\".split is the broken IE version, if so, provide an\n  // alternative way to split lines.\n\n\n  var splitLinesAuto = \"\\n\\nb\".split(/\\n/).length != 3 ? function (string) {\n    var pos = 0,\n        result = [],\n        l = string.length;\n\n    while (pos <= l) {\n      var nl = string.indexOf(\"\\n\", pos);\n\n      if (nl == -1) {\n        nl = string.length;\n      }\n\n      var line = string.slice(pos, string.charAt(nl - 1) == \"\\r\" ? nl - 1 : nl);\n      var rt = line.indexOf(\"\\r\");\n\n      if (rt != -1) {\n        result.push(line.slice(0, rt));\n        pos += rt + 1;\n      } else {\n        result.push(line);\n        pos = nl + 1;\n      }\n    }\n\n    return result;\n  } : function (string) {\n    return string.split(/\\r\\n?|\\n/);\n  };\n  var hasSelection = window.getSelection ? function (te) {\n    try {\n      return te.selectionStart != te.selectionEnd;\n    } catch (e) {\n      return false;\n    }\n  } : function (te) {\n    var range;\n\n    try {\n      range = te.ownerDocument.selection.createRange();\n    } catch (e) {}\n\n    if (!range || range.parentElement() != te) {\n      return false;\n    }\n\n    return range.compareEndPoints(\"StartToEnd\", range) != 0;\n  };\n\n  var hasCopyEvent = function () {\n    var e = elt(\"div\");\n\n    if (\"oncopy\" in e) {\n      return true;\n    }\n\n    e.setAttribute(\"oncopy\", \"return;\");\n    return typeof e.oncopy == \"function\";\n  }();\n\n  var badZoomedRects = null;\n\n  function hasBadZoomedRects(measure) {\n    if (badZoomedRects != null) {\n      return badZoomedRects;\n    }\n\n    var node = removeChildrenAndAdd(measure, elt(\"span\", \"x\"));\n    var normal = node.getBoundingClientRect();\n    var fromRange = range(node, 0, 1).getBoundingClientRect();\n    return badZoomedRects = Math.abs(normal.left - fromRange.left) > 1;\n  } // Known modes, by name and by MIME\n\n\n  var modes = {},\n      mimeModes = {}; // Extra arguments are stored as the mode's dependencies, which is\n  // used by (legacy) mechanisms like loadmode.js to automatically\n  // load a mode. (Preferred mechanism is the require/define calls.)\n\n  function defineMode(name, mode) {\n    if (arguments.length > 2) {\n      mode.dependencies = Array.prototype.slice.call(arguments, 2);\n    }\n\n    modes[name] = mode;\n  }\n\n  function defineMIME(mime, spec) {\n    mimeModes[mime] = spec;\n  } // Given a MIME type, a {name, ...options} config object, or a name\n  // string, return a mode config object.\n\n\n  function resolveMode(spec) {\n    if (typeof spec == \"string\" && mimeModes.hasOwnProperty(spec)) {\n      spec = mimeModes[spec];\n    } else if (spec && typeof spec.name == \"string\" && mimeModes.hasOwnProperty(spec.name)) {\n      var found = mimeModes[spec.name];\n\n      if (typeof found == \"string\") {\n        found = {\n          name: found\n        };\n      }\n\n      spec = createObj(found, spec);\n      spec.name = found.name;\n    } else if (typeof spec == \"string\" && /^[\\w\\-]+\\/[\\w\\-]+\\+xml$/.test(spec)) {\n      return resolveMode(\"application/xml\");\n    } else if (typeof spec == \"string\" && /^[\\w\\-]+\\/[\\w\\-]+\\+json$/.test(spec)) {\n      return resolveMode(\"application/json\");\n    }\n\n    if (typeof spec == \"string\") {\n      return {\n        name: spec\n      };\n    } else {\n      return spec || {\n        name: \"null\"\n      };\n    }\n  } // Given a mode spec (anything that resolveMode accepts), find and\n  // initialize an actual mode object.\n\n\n  function getMode(options, spec) {\n    spec = resolveMode(spec);\n    var mfactory = modes[spec.name];\n\n    if (!mfactory) {\n      return getMode(options, \"text/plain\");\n    }\n\n    var modeObj = mfactory(options, spec);\n\n    if (modeExtensions.hasOwnProperty(spec.name)) {\n      var exts = modeExtensions[spec.name];\n\n      for (var prop in exts) {\n        if (!exts.hasOwnProperty(prop)) {\n          continue;\n        }\n\n        if (modeObj.hasOwnProperty(prop)) {\n          modeObj[\"_\" + prop] = modeObj[prop];\n        }\n\n        modeObj[prop] = exts[prop];\n      }\n    }\n\n    modeObj.name = spec.name;\n\n    if (spec.helperType) {\n      modeObj.helperType = spec.helperType;\n    }\n\n    if (spec.modeProps) {\n      for (var prop$1 in spec.modeProps) {\n        modeObj[prop$1] = spec.modeProps[prop$1];\n      }\n    }\n\n    return modeObj;\n  } // This can be used to attach properties to mode objects from\n  // outside the actual mode definition.\n\n\n  var modeExtensions = {};\n\n  function extendMode(mode, properties) {\n    var exts = modeExtensions.hasOwnProperty(mode) ? modeExtensions[mode] : modeExtensions[mode] = {};\n    copyObj(properties, exts);\n  }\n\n  function copyState(mode, state) {\n    if (state === true) {\n      return state;\n    }\n\n    if (mode.copyState) {\n      return mode.copyState(state);\n    }\n\n    var nstate = {};\n\n    for (var n in state) {\n      var val = state[n];\n\n      if (val instanceof Array) {\n        val = val.concat([]);\n      }\n\n      nstate[n] = val;\n    }\n\n    return nstate;\n  } // Given a mode and a state (for that mode), find the inner mode and\n  // state at the position that the state refers to.\n\n\n  function innerMode(mode, state) {\n    var info;\n\n    while (mode.innerMode) {\n      info = mode.innerMode(state);\n\n      if (!info || info.mode == mode) {\n        break;\n      }\n\n      state = info.state;\n      mode = info.mode;\n    }\n\n    return info || {\n      mode: mode,\n      state: state\n    };\n  }\n\n  function startState(mode, a1, a2) {\n    return mode.startState ? mode.startState(a1, a2) : true;\n  } // STRING STREAM\n  // Fed to the mode parsers, provides helper functions to make\n  // parsers more succinct.\n\n\n  var StringStream = function (string, tabSize, lineOracle) {\n    this.pos = this.start = 0;\n    this.string = string;\n    this.tabSize = tabSize || 8;\n    this.lastColumnPos = this.lastColumnValue = 0;\n    this.lineStart = 0;\n    this.lineOracle = lineOracle;\n  };\n\n  StringStream.prototype.eol = function () {\n    return this.pos >= this.string.length;\n  };\n\n  StringStream.prototype.sol = function () {\n    return this.pos == this.lineStart;\n  };\n\n  StringStream.prototype.peek = function () {\n    return this.string.charAt(this.pos) || undefined;\n  };\n\n  StringStream.prototype.next = function () {\n    if (this.pos < this.string.length) {\n      return this.string.charAt(this.pos++);\n    }\n  };\n\n  StringStream.prototype.eat = function (match) {\n    var ch = this.string.charAt(this.pos);\n    var ok;\n\n    if (typeof match == \"string\") {\n      ok = ch == match;\n    } else {\n      ok = ch && (match.test ? match.test(ch) : match(ch));\n    }\n\n    if (ok) {\n      ++this.pos;\n      return ch;\n    }\n  };\n\n  StringStream.prototype.eatWhile = function (match) {\n    var start = this.pos;\n\n    while (this.eat(match)) {}\n\n    return this.pos > start;\n  };\n\n  StringStream.prototype.eatSpace = function () {\n    var start = this.pos;\n\n    while (/[\\s\\u00a0]/.test(this.string.charAt(this.pos))) {\n      ++this.pos;\n    }\n\n    return this.pos > start;\n  };\n\n  StringStream.prototype.skipToEnd = function () {\n    this.pos = this.string.length;\n  };\n\n  StringStream.prototype.skipTo = function (ch) {\n    var found = this.string.indexOf(ch, this.pos);\n\n    if (found > -1) {\n      this.pos = found;\n      return true;\n    }\n  };\n\n  StringStream.prototype.backUp = function (n) {\n    this.pos -= n;\n  };\n\n  StringStream.prototype.column = function () {\n    if (this.lastColumnPos < this.start) {\n      this.lastColumnValue = countColumn(this.string, this.start, this.tabSize, this.lastColumnPos, this.lastColumnValue);\n      this.lastColumnPos = this.start;\n    }\n\n    return this.lastColumnValue - (this.lineStart ? countColumn(this.string, this.lineStart, this.tabSize) : 0);\n  };\n\n  StringStream.prototype.indentation = function () {\n    return countColumn(this.string, null, this.tabSize) - (this.lineStart ? countColumn(this.string, this.lineStart, this.tabSize) : 0);\n  };\n\n  StringStream.prototype.match = function (pattern, consume, caseInsensitive) {\n    if (typeof pattern == \"string\") {\n      var cased = function (str) {\n        return caseInsensitive ? str.toLowerCase() : str;\n      };\n\n      var substr = this.string.substr(this.pos, pattern.length);\n\n      if (cased(substr) == cased(pattern)) {\n        if (consume !== false) {\n          this.pos += pattern.length;\n        }\n\n        return true;\n      }\n    } else {\n      var match = this.string.slice(this.pos).match(pattern);\n\n      if (match && match.index > 0) {\n        return null;\n      }\n\n      if (match && consume !== false) {\n        this.pos += match[0].length;\n      }\n\n      return match;\n    }\n  };\n\n  StringStream.prototype.current = function () {\n    return this.string.slice(this.start, this.pos);\n  };\n\n  StringStream.prototype.hideFirstChars = function (n, inner) {\n    this.lineStart += n;\n\n    try {\n      return inner();\n    } finally {\n      this.lineStart -= n;\n    }\n  };\n\n  StringStream.prototype.lookAhead = function (n) {\n    var oracle = this.lineOracle;\n    return oracle && oracle.lookAhead(n);\n  };\n\n  StringStream.prototype.baseToken = function () {\n    var oracle = this.lineOracle;\n    return oracle && oracle.baseToken(this.pos);\n  }; // Find the line object corresponding to the given line number.\n\n\n  function getLine(doc, n) {\n    n -= doc.first;\n\n    if (n < 0 || n >= doc.size) {\n      throw new Error(\"There is no line \" + (n + doc.first) + \" in the document.\");\n    }\n\n    var chunk = doc;\n\n    while (!chunk.lines) {\n      for (var i = 0;; ++i) {\n        var child = chunk.children[i],\n            sz = child.chunkSize();\n\n        if (n < sz) {\n          chunk = child;\n          break;\n        }\n\n        n -= sz;\n      }\n    }\n\n    return chunk.lines[n];\n  } // Get the part of a document between two positions, as an array of\n  // strings.\n\n\n  function getBetween(doc, start, end) {\n    var out = [],\n        n = start.line;\n    doc.iter(start.line, end.line + 1, function (line) {\n      var text = line.text;\n\n      if (n == end.line) {\n        text = text.slice(0, end.ch);\n      }\n\n      if (n == start.line) {\n        text = text.slice(start.ch);\n      }\n\n      out.push(text);\n      ++n;\n    });\n    return out;\n  } // Get the lines between from and to, as array of strings.\n\n\n  function getLines(doc, from, to) {\n    var out = [];\n    doc.iter(from, to, function (line) {\n      out.push(line.text);\n    }); // iter aborts when callback returns truthy value\n\n    return out;\n  } // Update the height of a line, propagating the height change\n  // upwards to parent nodes.\n\n\n  function updateLineHeight(line, height) {\n    var diff = height - line.height;\n\n    if (diff) {\n      for (var n = line; n; n = n.parent) {\n        n.height += diff;\n      }\n    }\n  } // Given a line object, find its line number by walking up through\n  // its parent links.\n\n\n  function lineNo(line) {\n    if (line.parent == null) {\n      return null;\n    }\n\n    var cur = line.parent,\n        no = indexOf(cur.lines, line);\n\n    for (var chunk = cur.parent; chunk; cur = chunk, chunk = chunk.parent) {\n      for (var i = 0;; ++i) {\n        if (chunk.children[i] == cur) {\n          break;\n        }\n\n        no += chunk.children[i].chunkSize();\n      }\n    }\n\n    return no + cur.first;\n  } // Find the line at the given vertical position, using the height\n  // information in the document tree.\n\n\n  function lineAtHeight(chunk, h) {\n    var n = chunk.first;\n\n    outer: do {\n      for (var i$1 = 0; i$1 < chunk.children.length; ++i$1) {\n        var child = chunk.children[i$1],\n            ch = child.height;\n\n        if (h < ch) {\n          chunk = child;\n          continue outer;\n        }\n\n        h -= ch;\n        n += child.chunkSize();\n      }\n\n      return n;\n    } while (!chunk.lines);\n\n    var i = 0;\n\n    for (; i < chunk.lines.length; ++i) {\n      var line = chunk.lines[i],\n          lh = line.height;\n\n      if (h < lh) {\n        break;\n      }\n\n      h -= lh;\n    }\n\n    return n + i;\n  }\n\n  function isLine(doc, l) {\n    return l >= doc.first && l < doc.first + doc.size;\n  }\n\n  function lineNumberFor(options, i) {\n    return String(options.lineNumberFormatter(i + options.firstLineNumber));\n  } // A Pos instance represents a position within the text.\n\n\n  function Pos(line, ch, sticky) {\n    if (sticky === void 0) sticky = null;\n\n    if (!(this instanceof Pos)) {\n      return new Pos(line, ch, sticky);\n    }\n\n    this.line = line;\n    this.ch = ch;\n    this.sticky = sticky;\n  } // Compare two positions, return 0 if they are the same, a negative\n  // number when a is less, and a positive number otherwise.\n\n\n  function cmp(a, b) {\n    return a.line - b.line || a.ch - b.ch;\n  }\n\n  function equalCursorPos(a, b) {\n    return a.sticky == b.sticky && cmp(a, b) == 0;\n  }\n\n  function copyPos(x) {\n    return Pos(x.line, x.ch);\n  }\n\n  function maxPos(a, b) {\n    return cmp(a, b) < 0 ? b : a;\n  }\n\n  function minPos(a, b) {\n    return cmp(a, b) < 0 ? a : b;\n  } // Most of the external API clips given positions to make sure they\n  // actually exist within the document.\n\n\n  function clipLine(doc, n) {\n    return Math.max(doc.first, Math.min(n, doc.first + doc.size - 1));\n  }\n\n  function clipPos(doc, pos) {\n    if (pos.line < doc.first) {\n      return Pos(doc.first, 0);\n    }\n\n    var last = doc.first + doc.size - 1;\n\n    if (pos.line > last) {\n      return Pos(last, getLine(doc, last).text.length);\n    }\n\n    return clipToLen(pos, getLine(doc, pos.line).text.length);\n  }\n\n  function clipToLen(pos, linelen) {\n    var ch = pos.ch;\n\n    if (ch == null || ch > linelen) {\n      return Pos(pos.line, linelen);\n    } else if (ch < 0) {\n      return Pos(pos.line, 0);\n    } else {\n      return pos;\n    }\n  }\n\n  function clipPosArray(doc, array) {\n    var out = [];\n\n    for (var i = 0; i < array.length; i++) {\n      out[i] = clipPos(doc, array[i]);\n    }\n\n    return out;\n  }\n\n  var SavedContext = function (state, lookAhead) {\n    this.state = state;\n    this.lookAhead = lookAhead;\n  };\n\n  var Context = function (doc, state, line, lookAhead) {\n    this.state = state;\n    this.doc = doc;\n    this.line = line;\n    this.maxLookAhead = lookAhead || 0;\n    this.baseTokens = null;\n    this.baseTokenPos = 1;\n  };\n\n  Context.prototype.lookAhead = function (n) {\n    var line = this.doc.getLine(this.line + n);\n\n    if (line != null && n > this.maxLookAhead) {\n      this.maxLookAhead = n;\n    }\n\n    return line;\n  };\n\n  Context.prototype.baseToken = function (n) {\n    if (!this.baseTokens) {\n      return null;\n    }\n\n    while (this.baseTokens[this.baseTokenPos] <= n) {\n      this.baseTokenPos += 2;\n    }\n\n    var type = this.baseTokens[this.baseTokenPos + 1];\n    return {\n      type: type && type.replace(/( |^)overlay .*/, \"\"),\n      size: this.baseTokens[this.baseTokenPos] - n\n    };\n  };\n\n  Context.prototype.nextLine = function () {\n    this.line++;\n\n    if (this.maxLookAhead > 0) {\n      this.maxLookAhead--;\n    }\n  };\n\n  Context.fromSaved = function (doc, saved, line) {\n    if (saved instanceof SavedContext) {\n      return new Context(doc, copyState(doc.mode, saved.state), line, saved.lookAhead);\n    } else {\n      return new Context(doc, copyState(doc.mode, saved), line);\n    }\n  };\n\n  Context.prototype.save = function (copy) {\n    var state = copy !== false ? copyState(this.doc.mode, this.state) : this.state;\n    return this.maxLookAhead > 0 ? new SavedContext(state, this.maxLookAhead) : state;\n  }; // Compute a style array (an array starting with a mode generation\n  // -- for invalidation -- followed by pairs of end positions and\n  // style strings), which is used to highlight the tokens on the\n  // line.\n\n\n  function highlightLine(cm, line, context, forceToEnd) {\n    // A styles array always starts with a number identifying the\n    // mode/overlays that it is based on (for easy invalidation).\n    var st = [cm.state.modeGen],\n        lineClasses = {}; // Compute the base array of styles\n\n    runMode(cm, line.text, cm.doc.mode, context, function (end, style) {\n      return st.push(end, style);\n    }, lineClasses, forceToEnd);\n    var state = context.state; // Run overlays, adjust style array.\n\n    var loop = function (o) {\n      context.baseTokens = st;\n      var overlay = cm.state.overlays[o],\n          i = 1,\n          at = 0;\n      context.state = true;\n      runMode(cm, line.text, overlay.mode, context, function (end, style) {\n        var start = i; // Ensure there's a token end at the current position, and that i points at it\n\n        while (at < end) {\n          var i_end = st[i];\n\n          if (i_end > end) {\n            st.splice(i, 1, end, st[i + 1], i_end);\n          }\n\n          i += 2;\n          at = Math.min(end, i_end);\n        }\n\n        if (!style) {\n          return;\n        }\n\n        if (overlay.opaque) {\n          st.splice(start, i - start, end, \"overlay \" + style);\n          i = start + 2;\n        } else {\n          for (; start < i; start += 2) {\n            var cur = st[start + 1];\n            st[start + 1] = (cur ? cur + \" \" : \"\") + \"overlay \" + style;\n          }\n        }\n      }, lineClasses);\n      context.state = state;\n      context.baseTokens = null;\n      context.baseTokenPos = 1;\n    };\n\n    for (var o = 0; o < cm.state.overlays.length; ++o) loop(o);\n\n    return {\n      styles: st,\n      classes: lineClasses.bgClass || lineClasses.textClass ? lineClasses : null\n    };\n  }\n\n  function getLineStyles(cm, line, updateFrontier) {\n    if (!line.styles || line.styles[0] != cm.state.modeGen) {\n      var context = getContextBefore(cm, lineNo(line));\n      var resetState = line.text.length > cm.options.maxHighlightLength && copyState(cm.doc.mode, context.state);\n      var result = highlightLine(cm, line, context);\n\n      if (resetState) {\n        context.state = resetState;\n      }\n\n      line.stateAfter = context.save(!resetState);\n      line.styles = result.styles;\n\n      if (result.classes) {\n        line.styleClasses = result.classes;\n      } else if (line.styleClasses) {\n        line.styleClasses = null;\n      }\n\n      if (updateFrontier === cm.doc.highlightFrontier) {\n        cm.doc.modeFrontier = Math.max(cm.doc.modeFrontier, ++cm.doc.highlightFrontier);\n      }\n    }\n\n    return line.styles;\n  }\n\n  function getContextBefore(cm, n, precise) {\n    var doc = cm.doc,\n        display = cm.display;\n\n    if (!doc.mode.startState) {\n      return new Context(doc, true, n);\n    }\n\n    var start = findStartLine(cm, n, precise);\n    var saved = start > doc.first && getLine(doc, start - 1).stateAfter;\n    var context = saved ? Context.fromSaved(doc, saved, start) : new Context(doc, startState(doc.mode), start);\n    doc.iter(start, n, function (line) {\n      processLine(cm, line.text, context);\n      var pos = context.line;\n      line.stateAfter = pos == n - 1 || pos % 5 == 0 || pos >= display.viewFrom && pos < display.viewTo ? context.save() : null;\n      context.nextLine();\n    });\n\n    if (precise) {\n      doc.modeFrontier = context.line;\n    }\n\n    return context;\n  } // Lightweight form of highlight -- proceed over this line and\n  // update state, but don't save a style array. Used for lines that\n  // aren't currently visible.\n\n\n  function processLine(cm, text, context, startAt) {\n    var mode = cm.doc.mode;\n    var stream = new StringStream(text, cm.options.tabSize, context);\n    stream.start = stream.pos = startAt || 0;\n\n    if (text == \"\") {\n      callBlankLine(mode, context.state);\n    }\n\n    while (!stream.eol()) {\n      readToken(mode, stream, context.state);\n      stream.start = stream.pos;\n    }\n  }\n\n  function callBlankLine(mode, state) {\n    if (mode.blankLine) {\n      return mode.blankLine(state);\n    }\n\n    if (!mode.innerMode) {\n      return;\n    }\n\n    var inner = innerMode(mode, state);\n\n    if (inner.mode.blankLine) {\n      return inner.mode.blankLine(inner.state);\n    }\n  }\n\n  function readToken(mode, stream, state, inner) {\n    for (var i = 0; i < 10; i++) {\n      if (inner) {\n        inner[0] = innerMode(mode, state).mode;\n      }\n\n      var style = mode.token(stream, state);\n\n      if (stream.pos > stream.start) {\n        return style;\n      }\n    }\n\n    throw new Error(\"Mode \" + mode.name + \" failed to advance stream.\");\n  }\n\n  var Token = function (stream, type, state) {\n    this.start = stream.start;\n    this.end = stream.pos;\n    this.string = stream.current();\n    this.type = type || null;\n    this.state = state;\n  }; // Utility for getTokenAt and getLineTokens\n\n\n  function takeToken(cm, pos, precise, asArray) {\n    var doc = cm.doc,\n        mode = doc.mode,\n        style;\n    pos = clipPos(doc, pos);\n    var line = getLine(doc, pos.line),\n        context = getContextBefore(cm, pos.line, precise);\n    var stream = new StringStream(line.text, cm.options.tabSize, context),\n        tokens;\n\n    if (asArray) {\n      tokens = [];\n    }\n\n    while ((asArray || stream.pos < pos.ch) && !stream.eol()) {\n      stream.start = stream.pos;\n      style = readToken(mode, stream, context.state);\n\n      if (asArray) {\n        tokens.push(new Token(stream, style, copyState(doc.mode, context.state)));\n      }\n    }\n\n    return asArray ? tokens : new Token(stream, style, context.state);\n  }\n\n  function extractLineClasses(type, output) {\n    if (type) {\n      for (;;) {\n        var lineClass = type.match(/(?:^|\\s+)line-(background-)?(\\S+)/);\n\n        if (!lineClass) {\n          break;\n        }\n\n        type = type.slice(0, lineClass.index) + type.slice(lineClass.index + lineClass[0].length);\n        var prop = lineClass[1] ? \"bgClass\" : \"textClass\";\n\n        if (output[prop] == null) {\n          output[prop] = lineClass[2];\n        } else if (!new RegExp(\"(?:^|\\s)\" + lineClass[2] + \"(?:$|\\s)\").test(output[prop])) {\n          output[prop] += \" \" + lineClass[2];\n        }\n      }\n    }\n\n    return type;\n  } // Run the given mode's parser over a line, calling f for each token.\n\n\n  function runMode(cm, text, mode, context, f, lineClasses, forceToEnd) {\n    var flattenSpans = mode.flattenSpans;\n\n    if (flattenSpans == null) {\n      flattenSpans = cm.options.flattenSpans;\n    }\n\n    var curStart = 0,\n        curStyle = null;\n    var stream = new StringStream(text, cm.options.tabSize, context),\n        style;\n    var inner = cm.options.addModeClass && [null];\n\n    if (text == \"\") {\n      extractLineClasses(callBlankLine(mode, context.state), lineClasses);\n    }\n\n    while (!stream.eol()) {\n      if (stream.pos > cm.options.maxHighlightLength) {\n        flattenSpans = false;\n\n        if (forceToEnd) {\n          processLine(cm, text, context, stream.pos);\n        }\n\n        stream.pos = text.length;\n        style = null;\n      } else {\n        style = extractLineClasses(readToken(mode, stream, context.state, inner), lineClasses);\n      }\n\n      if (inner) {\n        var mName = inner[0].name;\n\n        if (mName) {\n          style = \"m-\" + (style ? mName + \" \" + style : mName);\n        }\n      }\n\n      if (!flattenSpans || curStyle != style) {\n        while (curStart < stream.start) {\n          curStart = Math.min(stream.start, curStart + 5000);\n          f(curStart, curStyle);\n        }\n\n        curStyle = style;\n      }\n\n      stream.start = stream.pos;\n    }\n\n    while (curStart < stream.pos) {\n      // Webkit seems to refuse to render text nodes longer than 57444\n      // characters, and returns inaccurate measurements in nodes\n      // starting around 5000 chars.\n      var pos = Math.min(stream.pos, curStart + 5000);\n      f(pos, curStyle);\n      curStart = pos;\n    }\n  } // Finds the line to start with when starting a parse. Tries to\n  // find a line with a stateAfter, so that it can start with a\n  // valid state. If that fails, it returns the line with the\n  // smallest indentation, which tends to need the least context to\n  // parse correctly.\n\n\n  function findStartLine(cm, n, precise) {\n    var minindent,\n        minline,\n        doc = cm.doc;\n    var lim = precise ? -1 : n - (cm.doc.mode.innerMode ? 1000 : 100);\n\n    for (var search = n; search > lim; --search) {\n      if (search <= doc.first) {\n        return doc.first;\n      }\n\n      var line = getLine(doc, search - 1),\n          after = line.stateAfter;\n\n      if (after && (!precise || search + (after instanceof SavedContext ? after.lookAhead : 0) <= doc.modeFrontier)) {\n        return search;\n      }\n\n      var indented = countColumn(line.text, null, cm.options.tabSize);\n\n      if (minline == null || minindent > indented) {\n        minline = search - 1;\n        minindent = indented;\n      }\n    }\n\n    return minline;\n  }\n\n  function retreatFrontier(doc, n) {\n    doc.modeFrontier = Math.min(doc.modeFrontier, n);\n\n    if (doc.highlightFrontier < n - 10) {\n      return;\n    }\n\n    var start = doc.first;\n\n    for (var line = n - 1; line > start; line--) {\n      var saved = getLine(doc, line).stateAfter; // change is on 3\n      // state on line 1 looked ahead 2 -- so saw 3\n      // test 1 + 2 < 3 should cover this\n\n      if (saved && (!(saved instanceof SavedContext) || line + saved.lookAhead < n)) {\n        start = line + 1;\n        break;\n      }\n    }\n\n    doc.highlightFrontier = Math.min(doc.highlightFrontier, start);\n  } // Optimize some code when these features are not used.\n\n\n  var sawReadOnlySpans = false,\n      sawCollapsedSpans = false;\n\n  function seeReadOnlySpans() {\n    sawReadOnlySpans = true;\n  }\n\n  function seeCollapsedSpans() {\n    sawCollapsedSpans = true;\n  } // TEXTMARKER SPANS\n\n\n  function MarkedSpan(marker, from, to) {\n    this.marker = marker;\n    this.from = from;\n    this.to = to;\n  } // Search an array of spans for a span matching the given marker.\n\n\n  function getMarkedSpanFor(spans, marker) {\n    if (spans) {\n      for (var i = 0; i < spans.length; ++i) {\n        var span = spans[i];\n\n        if (span.marker == marker) {\n          return span;\n        }\n      }\n    }\n  } // Remove a span from an array, returning undefined if no spans are\n  // left (we don't store arrays for lines without spans).\n\n\n  function removeMarkedSpan(spans, span) {\n    var r;\n\n    for (var i = 0; i < spans.length; ++i) {\n      if (spans[i] != span) {\n        (r || (r = [])).push(spans[i]);\n      }\n    }\n\n    return r;\n  } // Add a span to a line.\n\n\n  function addMarkedSpan(line, span) {\n    line.markedSpans = line.markedSpans ? line.markedSpans.concat([span]) : [span];\n    span.marker.attachLine(line);\n  } // Used for the algorithm that adjusts markers for a change in the\n  // document. These functions cut an array of spans at a given\n  // character position, returning an array of remaining chunks (or\n  // undefined if nothing remains).\n\n\n  function markedSpansBefore(old, startCh, isInsert) {\n    var nw;\n\n    if (old) {\n      for (var i = 0; i < old.length; ++i) {\n        var span = old[i],\n            marker = span.marker;\n        var startsBefore = span.from == null || (marker.inclusiveLeft ? span.from <= startCh : span.from < startCh);\n\n        if (startsBefore || span.from == startCh && marker.type == \"bookmark\" && (!isInsert || !span.marker.insertLeft)) {\n          var endsAfter = span.to == null || (marker.inclusiveRight ? span.to >= startCh : span.to > startCh);\n          (nw || (nw = [])).push(new MarkedSpan(marker, span.from, endsAfter ? null : span.to));\n        }\n      }\n    }\n\n    return nw;\n  }\n\n  function markedSpansAfter(old, endCh, isInsert) {\n    var nw;\n\n    if (old) {\n      for (var i = 0; i < old.length; ++i) {\n        var span = old[i],\n            marker = span.marker;\n        var endsAfter = span.to == null || (marker.inclusiveRight ? span.to >= endCh : span.to > endCh);\n\n        if (endsAfter || span.from == endCh && marker.type == \"bookmark\" && (!isInsert || span.marker.insertLeft)) {\n          var startsBefore = span.from == null || (marker.inclusiveLeft ? span.from <= endCh : span.from < endCh);\n          (nw || (nw = [])).push(new MarkedSpan(marker, startsBefore ? null : span.from - endCh, span.to == null ? null : span.to - endCh));\n        }\n      }\n    }\n\n    return nw;\n  } // Given a change object, compute the new set of marker spans that\n  // cover the line in which the change took place. Removes spans\n  // entirely within the change, reconnects spans belonging to the\n  // same marker that appear on both sides of the change, and cuts off\n  // spans partially within the change. Returns an array of span\n  // arrays with one element for each line in (after) the change.\n\n\n  function stretchSpansOverChange(doc, change) {\n    if (change.full) {\n      return null;\n    }\n\n    var oldFirst = isLine(doc, change.from.line) && getLine(doc, change.from.line).markedSpans;\n    var oldLast = isLine(doc, change.to.line) && getLine(doc, change.to.line).markedSpans;\n\n    if (!oldFirst && !oldLast) {\n      return null;\n    }\n\n    var startCh = change.from.ch,\n        endCh = change.to.ch,\n        isInsert = cmp(change.from, change.to) == 0; // Get the spans that 'stick out' on both sides\n\n    var first = markedSpansBefore(oldFirst, startCh, isInsert);\n    var last = markedSpansAfter(oldLast, endCh, isInsert); // Next, merge those two ends\n\n    var sameLine = change.text.length == 1,\n        offset = lst(change.text).length + (sameLine ? startCh : 0);\n\n    if (first) {\n      // Fix up .to properties of first\n      for (var i = 0; i < first.length; ++i) {\n        var span = first[i];\n\n        if (span.to == null) {\n          var found = getMarkedSpanFor(last, span.marker);\n\n          if (!found) {\n            span.to = startCh;\n          } else if (sameLine) {\n            span.to = found.to == null ? null : found.to + offset;\n          }\n        }\n      }\n    }\n\n    if (last) {\n      // Fix up .from in last (or move them into first in case of sameLine)\n      for (var i$1 = 0; i$1 < last.length; ++i$1) {\n        var span$1 = last[i$1];\n\n        if (span$1.to != null) {\n          span$1.to += offset;\n        }\n\n        if (span$1.from == null) {\n          var found$1 = getMarkedSpanFor(first, span$1.marker);\n\n          if (!found$1) {\n            span$1.from = offset;\n\n            if (sameLine) {\n              (first || (first = [])).push(span$1);\n            }\n          }\n        } else {\n          span$1.from += offset;\n\n          if (sameLine) {\n            (first || (first = [])).push(span$1);\n          }\n        }\n      }\n    } // Make sure we didn't create any zero-length spans\n\n\n    if (first) {\n      first = clearEmptySpans(first);\n    }\n\n    if (last && last != first) {\n      last = clearEmptySpans(last);\n    }\n\n    var newMarkers = [first];\n\n    if (!sameLine) {\n      // Fill gap with whole-line-spans\n      var gap = change.text.length - 2,\n          gapMarkers;\n\n      if (gap > 0 && first) {\n        for (var i$2 = 0; i$2 < first.length; ++i$2) {\n          if (first[i$2].to == null) {\n            (gapMarkers || (gapMarkers = [])).push(new MarkedSpan(first[i$2].marker, null, null));\n          }\n        }\n      }\n\n      for (var i$3 = 0; i$3 < gap; ++i$3) {\n        newMarkers.push(gapMarkers);\n      }\n\n      newMarkers.push(last);\n    }\n\n    return newMarkers;\n  } // Remove spans that are empty and don't have a clearWhenEmpty\n  // option of false.\n\n\n  function clearEmptySpans(spans) {\n    for (var i = 0; i < spans.length; ++i) {\n      var span = spans[i];\n\n      if (span.from != null && span.from == span.to && span.marker.clearWhenEmpty !== false) {\n        spans.splice(i--, 1);\n      }\n    }\n\n    if (!spans.length) {\n      return null;\n    }\n\n    return spans;\n  } // Used to 'clip' out readOnly ranges when making a change.\n\n\n  function removeReadOnlyRanges(doc, from, to) {\n    var markers = null;\n    doc.iter(from.line, to.line + 1, function (line) {\n      if (line.markedSpans) {\n        for (var i = 0; i < line.markedSpans.length; ++i) {\n          var mark = line.markedSpans[i].marker;\n\n          if (mark.readOnly && (!markers || indexOf(markers, mark) == -1)) {\n            (markers || (markers = [])).push(mark);\n          }\n        }\n      }\n    });\n\n    if (!markers) {\n      return null;\n    }\n\n    var parts = [{\n      from: from,\n      to: to\n    }];\n\n    for (var i = 0; i < markers.length; ++i) {\n      var mk = markers[i],\n          m = mk.find(0);\n\n      for (var j = 0; j < parts.length; ++j) {\n        var p = parts[j];\n\n        if (cmp(p.to, m.from) < 0 || cmp(p.from, m.to) > 0) {\n          continue;\n        }\n\n        var newParts = [j, 1],\n            dfrom = cmp(p.from, m.from),\n            dto = cmp(p.to, m.to);\n\n        if (dfrom < 0 || !mk.inclusiveLeft && !dfrom) {\n          newParts.push({\n            from: p.from,\n            to: m.from\n          });\n        }\n\n        if (dto > 0 || !mk.inclusiveRight && !dto) {\n          newParts.push({\n            from: m.to,\n            to: p.to\n          });\n        }\n\n        parts.splice.apply(parts, newParts);\n        j += newParts.length - 3;\n      }\n    }\n\n    return parts;\n  } // Connect or disconnect spans from a line.\n\n\n  function detachMarkedSpans(line) {\n    var spans = line.markedSpans;\n\n    if (!spans) {\n      return;\n    }\n\n    for (var i = 0; i < spans.length; ++i) {\n      spans[i].marker.detachLine(line);\n    }\n\n    line.markedSpans = null;\n  }\n\n  function attachMarkedSpans(line, spans) {\n    if (!spans) {\n      return;\n    }\n\n    for (var i = 0; i < spans.length; ++i) {\n      spans[i].marker.attachLine(line);\n    }\n\n    line.markedSpans = spans;\n  } // Helpers used when computing which overlapping collapsed span\n  // counts as the larger one.\n\n\n  function extraLeft(marker) {\n    return marker.inclusiveLeft ? -1 : 0;\n  }\n\n  function extraRight(marker) {\n    return marker.inclusiveRight ? 1 : 0;\n  } // Returns a number indicating which of two overlapping collapsed\n  // spans is larger (and thus includes the other). Falls back to\n  // comparing ids when the spans cover exactly the same range.\n\n\n  function compareCollapsedMarkers(a, b) {\n    var lenDiff = a.lines.length - b.lines.length;\n\n    if (lenDiff != 0) {\n      return lenDiff;\n    }\n\n    var aPos = a.find(),\n        bPos = b.find();\n    var fromCmp = cmp(aPos.from, bPos.from) || extraLeft(a) - extraLeft(b);\n\n    if (fromCmp) {\n      return -fromCmp;\n    }\n\n    var toCmp = cmp(aPos.to, bPos.to) || extraRight(a) - extraRight(b);\n\n    if (toCmp) {\n      return toCmp;\n    }\n\n    return b.id - a.id;\n  } // Find out whether a line ends or starts in a collapsed span. If\n  // so, return the marker for that span.\n\n\n  function collapsedSpanAtSide(line, start) {\n    var sps = sawCollapsedSpans && line.markedSpans,\n        found;\n\n    if (sps) {\n      for (var sp = void 0, i = 0; i < sps.length; ++i) {\n        sp = sps[i];\n\n        if (sp.marker.collapsed && (start ? sp.from : sp.to) == null && (!found || compareCollapsedMarkers(found, sp.marker) < 0)) {\n          found = sp.marker;\n        }\n      }\n    }\n\n    return found;\n  }\n\n  function collapsedSpanAtStart(line) {\n    return collapsedSpanAtSide(line, true);\n  }\n\n  function collapsedSpanAtEnd(line) {\n    return collapsedSpanAtSide(line, false);\n  }\n\n  function collapsedSpanAround(line, ch) {\n    var sps = sawCollapsedSpans && line.markedSpans,\n        found;\n\n    if (sps) {\n      for (var i = 0; i < sps.length; ++i) {\n        var sp = sps[i];\n\n        if (sp.marker.collapsed && (sp.from == null || sp.from < ch) && (sp.to == null || sp.to > ch) && (!found || compareCollapsedMarkers(found, sp.marker) < 0)) {\n          found = sp.marker;\n        }\n      }\n    }\n\n    return found;\n  } // Test whether there exists a collapsed span that partially\n  // overlaps (covers the start or end, but not both) of a new span.\n  // Such overlap is not allowed.\n\n\n  function conflictingCollapsedRange(doc, lineNo, from, to, marker) {\n    var line = getLine(doc, lineNo);\n    var sps = sawCollapsedSpans && line.markedSpans;\n\n    if (sps) {\n      for (var i = 0; i < sps.length; ++i) {\n        var sp = sps[i];\n\n        if (!sp.marker.collapsed) {\n          continue;\n        }\n\n        var found = sp.marker.find(0);\n        var fromCmp = cmp(found.from, from) || extraLeft(sp.marker) - extraLeft(marker);\n        var toCmp = cmp(found.to, to) || extraRight(sp.marker) - extraRight(marker);\n\n        if (fromCmp >= 0 && toCmp <= 0 || fromCmp <= 0 && toCmp >= 0) {\n          continue;\n        }\n\n        if (fromCmp <= 0 && (sp.marker.inclusiveRight && marker.inclusiveLeft ? cmp(found.to, from) >= 0 : cmp(found.to, from) > 0) || fromCmp >= 0 && (sp.marker.inclusiveRight && marker.inclusiveLeft ? cmp(found.from, to) <= 0 : cmp(found.from, to) < 0)) {\n          return true;\n        }\n      }\n    }\n  } // A visual line is a line as drawn on the screen. Folding, for\n  // example, can cause multiple logical lines to appear on the same\n  // visual line. This finds the start of the visual line that the\n  // given line is part of (usually that is the line itself).\n\n\n  function visualLine(line) {\n    var merged;\n\n    while (merged = collapsedSpanAtStart(line)) {\n      line = merged.find(-1, true).line;\n    }\n\n    return line;\n  }\n\n  function visualLineEnd(line) {\n    var merged;\n\n    while (merged = collapsedSpanAtEnd(line)) {\n      line = merged.find(1, true).line;\n    }\n\n    return line;\n  } // Returns an array of logical lines that continue the visual line\n  // started by the argument, or undefined if there are no such lines.\n\n\n  function visualLineContinued(line) {\n    var merged, lines;\n\n    while (merged = collapsedSpanAtEnd(line)) {\n      line = merged.find(1, true).line;\n      (lines || (lines = [])).push(line);\n    }\n\n    return lines;\n  } // Get the line number of the start of the visual line that the\n  // given line number is part of.\n\n\n  function visualLineNo(doc, lineN) {\n    var line = getLine(doc, lineN),\n        vis = visualLine(line);\n\n    if (line == vis) {\n      return lineN;\n    }\n\n    return lineNo(vis);\n  } // Get the line number of the start of the next visual line after\n  // the given line.\n\n\n  function visualLineEndNo(doc, lineN) {\n    if (lineN > doc.lastLine()) {\n      return lineN;\n    }\n\n    var line = getLine(doc, lineN),\n        merged;\n\n    if (!lineIsHidden(doc, line)) {\n      return lineN;\n    }\n\n    while (merged = collapsedSpanAtEnd(line)) {\n      line = merged.find(1, true).line;\n    }\n\n    return lineNo(line) + 1;\n  } // Compute whether a line is hidden. Lines count as hidden when they\n  // are part of a visual line that starts with another line, or when\n  // they are entirely covered by collapsed, non-widget span.\n\n\n  function lineIsHidden(doc, line) {\n    var sps = sawCollapsedSpans && line.markedSpans;\n\n    if (sps) {\n      for (var sp = void 0, i = 0; i < sps.length; ++i) {\n        sp = sps[i];\n\n        if (!sp.marker.collapsed) {\n          continue;\n        }\n\n        if (sp.from == null) {\n          return true;\n        }\n\n        if (sp.marker.widgetNode) {\n          continue;\n        }\n\n        if (sp.from == 0 && sp.marker.inclusiveLeft && lineIsHiddenInner(doc, line, sp)) {\n          return true;\n        }\n      }\n    }\n  }\n\n  function lineIsHiddenInner(doc, line, span) {\n    if (span.to == null) {\n      var end = span.marker.find(1, true);\n      return lineIsHiddenInner(doc, end.line, getMarkedSpanFor(end.line.markedSpans, span.marker));\n    }\n\n    if (span.marker.inclusiveRight && span.to == line.text.length) {\n      return true;\n    }\n\n    for (var sp = void 0, i = 0; i < line.markedSpans.length; ++i) {\n      sp = line.markedSpans[i];\n\n      if (sp.marker.collapsed && !sp.marker.widgetNode && sp.from == span.to && (sp.to == null || sp.to != span.from) && (sp.marker.inclusiveLeft || span.marker.inclusiveRight) && lineIsHiddenInner(doc, line, sp)) {\n        return true;\n      }\n    }\n  } // Find the height above the given line.\n\n\n  function heightAtLine(lineObj) {\n    lineObj = visualLine(lineObj);\n    var h = 0,\n        chunk = lineObj.parent;\n\n    for (var i = 0; i < chunk.lines.length; ++i) {\n      var line = chunk.lines[i];\n\n      if (line == lineObj) {\n        break;\n      } else {\n        h += line.height;\n      }\n    }\n\n    for (var p = chunk.parent; p; chunk = p, p = chunk.parent) {\n      for (var i$1 = 0; i$1 < p.children.length; ++i$1) {\n        var cur = p.children[i$1];\n\n        if (cur == chunk) {\n          break;\n        } else {\n          h += cur.height;\n        }\n      }\n    }\n\n    return h;\n  } // Compute the character length of a line, taking into account\n  // collapsed ranges (see markText) that might hide parts, and join\n  // other lines onto it.\n\n\n  function lineLength(line) {\n    if (line.height == 0) {\n      return 0;\n    }\n\n    var len = line.text.length,\n        merged,\n        cur = line;\n\n    while (merged = collapsedSpanAtStart(cur)) {\n      var found = merged.find(0, true);\n      cur = found.from.line;\n      len += found.from.ch - found.to.ch;\n    }\n\n    cur = line;\n\n    while (merged = collapsedSpanAtEnd(cur)) {\n      var found$1 = merged.find(0, true);\n      len -= cur.text.length - found$1.from.ch;\n      cur = found$1.to.line;\n      len += cur.text.length - found$1.to.ch;\n    }\n\n    return len;\n  } // Find the longest line in the document.\n\n\n  function findMaxLine(cm) {\n    var d = cm.display,\n        doc = cm.doc;\n    d.maxLine = getLine(doc, doc.first);\n    d.maxLineLength = lineLength(d.maxLine);\n    d.maxLineChanged = true;\n    doc.iter(function (line) {\n      var len = lineLength(line);\n\n      if (len > d.maxLineLength) {\n        d.maxLineLength = len;\n        d.maxLine = line;\n      }\n    });\n  } // LINE DATA STRUCTURE\n  // Line objects. These hold state related to a line, including\n  // highlighting info (the styles array).\n\n\n  var Line = function (text, markedSpans, estimateHeight) {\n    this.text = text;\n    attachMarkedSpans(this, markedSpans);\n    this.height = estimateHeight ? estimateHeight(this) : 1;\n  };\n\n  Line.prototype.lineNo = function () {\n    return lineNo(this);\n  };\n\n  eventMixin(Line); // Change the content (text, markers) of a line. Automatically\n  // invalidates cached information and tries to re-estimate the\n  // line's height.\n\n  function updateLine(line, text, markedSpans, estimateHeight) {\n    line.text = text;\n\n    if (line.stateAfter) {\n      line.stateAfter = null;\n    }\n\n    if (line.styles) {\n      line.styles = null;\n    }\n\n    if (line.order != null) {\n      line.order = null;\n    }\n\n    detachMarkedSpans(line);\n    attachMarkedSpans(line, markedSpans);\n    var estHeight = estimateHeight ? estimateHeight(line) : 1;\n\n    if (estHeight != line.height) {\n      updateLineHeight(line, estHeight);\n    }\n  } // Detach a line from the document tree and its markers.\n\n\n  function cleanUpLine(line) {\n    line.parent = null;\n    detachMarkedSpans(line);\n  } // Convert a style as returned by a mode (either null, or a string\n  // containing one or more styles) to a CSS style. This is cached,\n  // and also looks for line-wide styles.\n\n\n  var styleToClassCache = {},\n      styleToClassCacheWithMode = {};\n\n  function interpretTokenStyle(style, options) {\n    if (!style || /^\\s*$/.test(style)) {\n      return null;\n    }\n\n    var cache = options.addModeClass ? styleToClassCacheWithMode : styleToClassCache;\n    return cache[style] || (cache[style] = style.replace(/\\S+/g, \"cm-$&\"));\n  } // Render the DOM representation of the text of a line. Also builds\n  // up a 'line map', which points at the DOM nodes that represent\n  // specific stretches of text, and is used by the measuring code.\n  // The returned object contains the DOM node, this map, and\n  // information about line-wide styles that were set by the mode.\n\n\n  function buildLineContent(cm, lineView) {\n    // The padding-right forces the element to have a 'border', which\n    // is needed on Webkit to be able to get line-level bounding\n    // rectangles for it (in measureChar).\n    var content = eltP(\"span\", null, null, webkit ? \"padding-right: .1px\" : null);\n    var builder = {\n      pre: eltP(\"pre\", [content], \"CodeMirror-line\"),\n      content: content,\n      col: 0,\n      pos: 0,\n      cm: cm,\n      trailingSpace: false,\n      splitSpaces: cm.getOption(\"lineWrapping\")\n    };\n    lineView.measure = {}; // Iterate over the logical lines that make up this visual line.\n\n    for (var i = 0; i <= (lineView.rest ? lineView.rest.length : 0); i++) {\n      var line = i ? lineView.rest[i - 1] : lineView.line,\n          order = void 0;\n      builder.pos = 0;\n      builder.addToken = buildToken; // Optionally wire in some hacks into the token-rendering\n      // algorithm, to deal with browser quirks.\n\n      if (hasBadBidiRects(cm.display.measure) && (order = getOrder(line, cm.doc.direction))) {\n        builder.addToken = buildTokenBadBidi(builder.addToken, order);\n      }\n\n      builder.map = [];\n      var allowFrontierUpdate = lineView != cm.display.externalMeasured && lineNo(line);\n      insertLineContent(line, builder, getLineStyles(cm, line, allowFrontierUpdate));\n\n      if (line.styleClasses) {\n        if (line.styleClasses.bgClass) {\n          builder.bgClass = joinClasses(line.styleClasses.bgClass, builder.bgClass || \"\");\n        }\n\n        if (line.styleClasses.textClass) {\n          builder.textClass = joinClasses(line.styleClasses.textClass, builder.textClass || \"\");\n        }\n      } // Ensure at least a single node is present, for measuring.\n\n\n      if (builder.map.length == 0) {\n        builder.map.push(0, 0, builder.content.appendChild(zeroWidthElement(cm.display.measure)));\n      } // Store the map and a cache object for the current logical line\n\n\n      if (i == 0) {\n        lineView.measure.map = builder.map;\n        lineView.measure.cache = {};\n      } else {\n        (lineView.measure.maps || (lineView.measure.maps = [])).push(builder.map);\n        (lineView.measure.caches || (lineView.measure.caches = [])).push({});\n      }\n    } // See issue #2901\n\n\n    if (webkit) {\n      var last = builder.content.lastChild;\n\n      if (/\\bcm-tab\\b/.test(last.className) || last.querySelector && last.querySelector(\".cm-tab\")) {\n        builder.content.className = \"cm-tab-wrap-hack\";\n      }\n    }\n\n    signal(cm, \"renderLine\", cm, lineView.line, builder.pre);\n\n    if (builder.pre.className) {\n      builder.textClass = joinClasses(builder.pre.className, builder.textClass || \"\");\n    }\n\n    return builder;\n  }\n\n  function defaultSpecialCharPlaceholder(ch) {\n    var token = elt(\"span\", \"\\u2022\", \"cm-invalidchar\");\n    token.title = \"\\\\u\" + ch.charCodeAt(0).toString(16);\n    token.setAttribute(\"aria-label\", token.title);\n    return token;\n  } // Build up the DOM representation for a single token, and add it to\n  // the line map. Takes care to render special characters separately.\n\n\n  function buildToken(builder, text, style, startStyle, endStyle, css, attributes) {\n    if (!text) {\n      return;\n    }\n\n    var displayText = builder.splitSpaces ? splitSpaces(text, builder.trailingSpace) : text;\n    var special = builder.cm.state.specialChars,\n        mustWrap = false;\n    var content;\n\n    if (!special.test(text)) {\n      builder.col += text.length;\n      content = document.createTextNode(displayText);\n      builder.map.push(builder.pos, builder.pos + text.length, content);\n\n      if (ie && ie_version < 9) {\n        mustWrap = true;\n      }\n\n      builder.pos += text.length;\n    } else {\n      content = document.createDocumentFragment();\n      var pos = 0;\n\n      while (true) {\n        special.lastIndex = pos;\n        var m = special.exec(text);\n        var skipped = m ? m.index - pos : text.length - pos;\n\n        if (skipped) {\n          var txt = document.createTextNode(displayText.slice(pos, pos + skipped));\n\n          if (ie && ie_version < 9) {\n            content.appendChild(elt(\"span\", [txt]));\n          } else {\n            content.appendChild(txt);\n          }\n\n          builder.map.push(builder.pos, builder.pos + skipped, txt);\n          builder.col += skipped;\n          builder.pos += skipped;\n        }\n\n        if (!m) {\n          break;\n        }\n\n        pos += skipped + 1;\n        var txt$1 = void 0;\n\n        if (m[0] == \"\\t\") {\n          var tabSize = builder.cm.options.tabSize,\n              tabWidth = tabSize - builder.col % tabSize;\n          txt$1 = content.appendChild(elt(\"span\", spaceStr(tabWidth), \"cm-tab\"));\n          txt$1.setAttribute(\"role\", \"presentation\");\n          txt$1.setAttribute(\"cm-text\", \"\\t\");\n          builder.col += tabWidth;\n        } else if (m[0] == \"\\r\" || m[0] == \"\\n\") {\n          txt$1 = content.appendChild(elt(\"span\", m[0] == \"\\r\" ? \"\\u240d\" : \"\\u2424\", \"cm-invalidchar\"));\n          txt$1.setAttribute(\"cm-text\", m[0]);\n          builder.col += 1;\n        } else {\n          txt$1 = builder.cm.options.specialCharPlaceholder(m[0]);\n          txt$1.setAttribute(\"cm-text\", m[0]);\n\n          if (ie && ie_version < 9) {\n            content.appendChild(elt(\"span\", [txt$1]));\n          } else {\n            content.appendChild(txt$1);\n          }\n\n          builder.col += 1;\n        }\n\n        builder.map.push(builder.pos, builder.pos + 1, txt$1);\n        builder.pos++;\n      }\n    }\n\n    builder.trailingSpace = displayText.charCodeAt(text.length - 1) == 32;\n\n    if (style || startStyle || endStyle || mustWrap || css) {\n      var fullStyle = style || \"\";\n\n      if (startStyle) {\n        fullStyle += startStyle;\n      }\n\n      if (endStyle) {\n        fullStyle += endStyle;\n      }\n\n      var token = elt(\"span\", [content], fullStyle, css);\n\n      if (attributes) {\n        for (var attr in attributes) {\n          if (attributes.hasOwnProperty(attr) && attr != \"style\" && attr != \"class\") {\n            token.setAttribute(attr, attributes[attr]);\n          }\n        }\n      }\n\n      return builder.content.appendChild(token);\n    }\n\n    builder.content.appendChild(content);\n  } // Change some spaces to NBSP to prevent the browser from collapsing\n  // trailing spaces at the end of a line when rendering text (issue #1362).\n\n\n  function splitSpaces(text, trailingBefore) {\n    if (text.length > 1 && !/  /.test(text)) {\n      return text;\n    }\n\n    var spaceBefore = trailingBefore,\n        result = \"\";\n\n    for (var i = 0; i < text.length; i++) {\n      var ch = text.charAt(i);\n\n      if (ch == \" \" && spaceBefore && (i == text.length - 1 || text.charCodeAt(i + 1) == 32)) {\n        ch = \"\\u00a0\";\n      }\n\n      result += ch;\n      spaceBefore = ch == \" \";\n    }\n\n    return result;\n  } // Work around nonsense dimensions being reported for stretches of\n  // right-to-left text.\n\n\n  function buildTokenBadBidi(inner, order) {\n    return function (builder, text, style, startStyle, endStyle, css, attributes) {\n      style = style ? style + \" cm-force-border\" : \"cm-force-border\";\n      var start = builder.pos,\n          end = start + text.length;\n\n      for (;;) {\n        // Find the part that overlaps with the start of this text\n        var part = void 0;\n\n        for (var i = 0; i < order.length; i++) {\n          part = order[i];\n\n          if (part.to > start && part.from <= start) {\n            break;\n          }\n        }\n\n        if (part.to >= end) {\n          return inner(builder, text, style, startStyle, endStyle, css, attributes);\n        }\n\n        inner(builder, text.slice(0, part.to - start), style, startStyle, null, css, attributes);\n        startStyle = null;\n        text = text.slice(part.to - start);\n        start = part.to;\n      }\n    };\n  }\n\n  function buildCollapsedSpan(builder, size, marker, ignoreWidget) {\n    var widget = !ignoreWidget && marker.widgetNode;\n\n    if (widget) {\n      builder.map.push(builder.pos, builder.pos + size, widget);\n    }\n\n    if (!ignoreWidget && builder.cm.display.input.needsContentAttribute) {\n      if (!widget) {\n        widget = builder.content.appendChild(document.createElement(\"span\"));\n      }\n\n      widget.setAttribute(\"cm-marker\", marker.id);\n    }\n\n    if (widget) {\n      builder.cm.display.input.setUneditable(widget);\n      builder.content.appendChild(widget);\n    }\n\n    builder.pos += size;\n    builder.trailingSpace = false;\n  } // Outputs a number of spans to make up a line, taking highlighting\n  // and marked text into account.\n\n\n  function insertLineContent(line, builder, styles) {\n    var spans = line.markedSpans,\n        allText = line.text,\n        at = 0;\n\n    if (!spans) {\n      for (var i$1 = 1; i$1 < styles.length; i$1 += 2) {\n        builder.addToken(builder, allText.slice(at, at = styles[i$1]), interpretTokenStyle(styles[i$1 + 1], builder.cm.options));\n      }\n\n      return;\n    }\n\n    var len = allText.length,\n        pos = 0,\n        i = 1,\n        text = \"\",\n        style,\n        css;\n    var nextChange = 0,\n        spanStyle,\n        spanEndStyle,\n        spanStartStyle,\n        collapsed,\n        attributes;\n\n    for (;;) {\n      if (nextChange == pos) {\n        // Update current marker set\n        spanStyle = spanEndStyle = spanStartStyle = css = \"\";\n        attributes = null;\n        collapsed = null;\n        nextChange = Infinity;\n        var foundBookmarks = [],\n            endStyles = void 0;\n\n        for (var j = 0; j < spans.length; ++j) {\n          var sp = spans[j],\n              m = sp.marker;\n\n          if (m.type == \"bookmark\" && sp.from == pos && m.widgetNode) {\n            foundBookmarks.push(m);\n          } else if (sp.from <= pos && (sp.to == null || sp.to > pos || m.collapsed && sp.to == pos && sp.from == pos)) {\n            if (sp.to != null && sp.to != pos && nextChange > sp.to) {\n              nextChange = sp.to;\n              spanEndStyle = \"\";\n            }\n\n            if (m.className) {\n              spanStyle += \" \" + m.className;\n            }\n\n            if (m.css) {\n              css = (css ? css + \";\" : \"\") + m.css;\n            }\n\n            if (m.startStyle && sp.from == pos) {\n              spanStartStyle += \" \" + m.startStyle;\n            }\n\n            if (m.endStyle && sp.to == nextChange) {\n              (endStyles || (endStyles = [])).push(m.endStyle, sp.to);\n            } // support for the old title property\n            // https://github.com/codemirror/CodeMirror/pull/5673\n\n\n            if (m.title) {\n              (attributes || (attributes = {})).title = m.title;\n            }\n\n            if (m.attributes) {\n              for (var attr in m.attributes) {\n                (attributes || (attributes = {}))[attr] = m.attributes[attr];\n              }\n            }\n\n            if (m.collapsed && (!collapsed || compareCollapsedMarkers(collapsed.marker, m) < 0)) {\n              collapsed = sp;\n            }\n          } else if (sp.from > pos && nextChange > sp.from) {\n            nextChange = sp.from;\n          }\n        }\n\n        if (endStyles) {\n          for (var j$1 = 0; j$1 < endStyles.length; j$1 += 2) {\n            if (endStyles[j$1 + 1] == nextChange) {\n              spanEndStyle += \" \" + endStyles[j$1];\n            }\n          }\n        }\n\n        if (!collapsed || collapsed.from == pos) {\n          for (var j$2 = 0; j$2 < foundBookmarks.length; ++j$2) {\n            buildCollapsedSpan(builder, 0, foundBookmarks[j$2]);\n          }\n        }\n\n        if (collapsed && (collapsed.from || 0) == pos) {\n          buildCollapsedSpan(builder, (collapsed.to == null ? len + 1 : collapsed.to) - pos, collapsed.marker, collapsed.from == null);\n\n          if (collapsed.to == null) {\n            return;\n          }\n\n          if (collapsed.to == pos) {\n            collapsed = false;\n          }\n        }\n      }\n\n      if (pos >= len) {\n        break;\n      }\n\n      var upto = Math.min(len, nextChange);\n\n      while (true) {\n        if (text) {\n          var end = pos + text.length;\n\n          if (!collapsed) {\n            var tokenText = end > upto ? text.slice(0, upto - pos) : text;\n            builder.addToken(builder, tokenText, style ? style + spanStyle : spanStyle, spanStartStyle, pos + tokenText.length == nextChange ? spanEndStyle : \"\", css, attributes);\n          }\n\n          if (end >= upto) {\n            text = text.slice(upto - pos);\n            pos = upto;\n            break;\n          }\n\n          pos = end;\n          spanStartStyle = \"\";\n        }\n\n        text = allText.slice(at, at = styles[i++]);\n        style = interpretTokenStyle(styles[i++], builder.cm.options);\n      }\n    }\n  } // These objects are used to represent the visible (currently drawn)\n  // part of the document. A LineView may correspond to multiple\n  // logical lines, if those are connected by collapsed ranges.\n\n\n  function LineView(doc, line, lineN) {\n    // The starting line\n    this.line = line; // Continuing lines, if any\n\n    this.rest = visualLineContinued(line); // Number of logical lines in this visual line\n\n    this.size = this.rest ? lineNo(lst(this.rest)) - lineN + 1 : 1;\n    this.node = this.text = null;\n    this.hidden = lineIsHidden(doc, line);\n  } // Create a range of LineView objects for the given lines.\n\n\n  function buildViewArray(cm, from, to) {\n    var array = [],\n        nextPos;\n\n    for (var pos = from; pos < to; pos = nextPos) {\n      var view = new LineView(cm.doc, getLine(cm.doc, pos), pos);\n      nextPos = pos + view.size;\n      array.push(view);\n    }\n\n    return array;\n  }\n\n  var operationGroup = null;\n\n  function pushOperation(op) {\n    if (operationGroup) {\n      operationGroup.ops.push(op);\n    } else {\n      op.ownsGroup = operationGroup = {\n        ops: [op],\n        delayedCallbacks: []\n      };\n    }\n  }\n\n  function fireCallbacksForOps(group) {\n    // Calls delayed callbacks and cursorActivity handlers until no\n    // new ones appear\n    var callbacks = group.delayedCallbacks,\n        i = 0;\n\n    do {\n      for (; i < callbacks.length; i++) {\n        callbacks[i].call(null);\n      }\n\n      for (var j = 0; j < group.ops.length; j++) {\n        var op = group.ops[j];\n\n        if (op.cursorActivityHandlers) {\n          while (op.cursorActivityCalled < op.cursorActivityHandlers.length) {\n            op.cursorActivityHandlers[op.cursorActivityCalled++].call(null, op.cm);\n          }\n        }\n      }\n    } while (i < callbacks.length);\n  }\n\n  function finishOperation(op, endCb) {\n    var group = op.ownsGroup;\n\n    if (!group) {\n      return;\n    }\n\n    try {\n      fireCallbacksForOps(group);\n    } finally {\n      operationGroup = null;\n      endCb(group);\n    }\n  }\n\n  var orphanDelayedCallbacks = null; // Often, we want to signal events at a point where we are in the\n  // middle of some work, but don't want the handler to start calling\n  // other methods on the editor, which might be in an inconsistent\n  // state or simply not expect any other events to happen.\n  // signalLater looks whether there are any handlers, and schedules\n  // them to be executed when the last operation ends, or, if no\n  // operation is active, when a timeout fires.\n\n  function signalLater(emitter, type\n  /*, values...*/\n  ) {\n    var arr = getHandlers(emitter, type);\n\n    if (!arr.length) {\n      return;\n    }\n\n    var args = Array.prototype.slice.call(arguments, 2),\n        list;\n\n    if (operationGroup) {\n      list = operationGroup.delayedCallbacks;\n    } else if (orphanDelayedCallbacks) {\n      list = orphanDelayedCallbacks;\n    } else {\n      list = orphanDelayedCallbacks = [];\n      setTimeout(fireOrphanDelayed, 0);\n    }\n\n    var loop = function (i) {\n      list.push(function () {\n        return arr[i].apply(null, args);\n      });\n    };\n\n    for (var i = 0; i < arr.length; ++i) loop(i);\n  }\n\n  function fireOrphanDelayed() {\n    var delayed = orphanDelayedCallbacks;\n    orphanDelayedCallbacks = null;\n\n    for (var i = 0; i < delayed.length; ++i) {\n      delayed[i]();\n    }\n  } // When an aspect of a line changes, a string is added to\n  // lineView.changes. This updates the relevant part of the line's\n  // DOM structure.\n\n\n  function updateLineForChanges(cm, lineView, lineN, dims) {\n    for (var j = 0; j < lineView.changes.length; j++) {\n      var type = lineView.changes[j];\n\n      if (type == \"text\") {\n        updateLineText(cm, lineView);\n      } else if (type == \"gutter\") {\n        updateLineGutter(cm, lineView, lineN, dims);\n      } else if (type == \"class\") {\n        updateLineClasses(cm, lineView);\n      } else if (type == \"widget\") {\n        updateLineWidgets(cm, lineView, dims);\n      }\n    }\n\n    lineView.changes = null;\n  } // Lines with gutter elements, widgets or a background class need to\n  // be wrapped, and have the extra elements added to the wrapper div\n\n\n  function ensureLineWrapped(lineView) {\n    if (lineView.node == lineView.text) {\n      lineView.node = elt(\"div\", null, null, \"position: relative\");\n\n      if (lineView.text.parentNode) {\n        lineView.text.parentNode.replaceChild(lineView.node, lineView.text);\n      }\n\n      lineView.node.appendChild(lineView.text);\n\n      if (ie && ie_version < 8) {\n        lineView.node.style.zIndex = 2;\n      }\n    }\n\n    return lineView.node;\n  }\n\n  function updateLineBackground(cm, lineView) {\n    var cls = lineView.bgClass ? lineView.bgClass + \" \" + (lineView.line.bgClass || \"\") : lineView.line.bgClass;\n\n    if (cls) {\n      cls += \" CodeMirror-linebackground\";\n    }\n\n    if (lineView.background) {\n      if (cls) {\n        lineView.background.className = cls;\n      } else {\n        lineView.background.parentNode.removeChild(lineView.background);\n        lineView.background = null;\n      }\n    } else if (cls) {\n      var wrap = ensureLineWrapped(lineView);\n      lineView.background = wrap.insertBefore(elt(\"div\", null, cls), wrap.firstChild);\n      cm.display.input.setUneditable(lineView.background);\n    }\n  } // Wrapper around buildLineContent which will reuse the structure\n  // in display.externalMeasured when possible.\n\n\n  function getLineContent(cm, lineView) {\n    var ext = cm.display.externalMeasured;\n\n    if (ext && ext.line == lineView.line) {\n      cm.display.externalMeasured = null;\n      lineView.measure = ext.measure;\n      return ext.built;\n    }\n\n    return buildLineContent(cm, lineView);\n  } // Redraw the line's text. Interacts with the background and text\n  // classes because the mode may output tokens that influence these\n  // classes.\n\n\n  function updateLineText(cm, lineView) {\n    var cls = lineView.text.className;\n    var built = getLineContent(cm, lineView);\n\n    if (lineView.text == lineView.node) {\n      lineView.node = built.pre;\n    }\n\n    lineView.text.parentNode.replaceChild(built.pre, lineView.text);\n    lineView.text = built.pre;\n\n    if (built.bgClass != lineView.bgClass || built.textClass != lineView.textClass) {\n      lineView.bgClass = built.bgClass;\n      lineView.textClass = built.textClass;\n      updateLineClasses(cm, lineView);\n    } else if (cls) {\n      lineView.text.className = cls;\n    }\n  }\n\n  function updateLineClasses(cm, lineView) {\n    updateLineBackground(cm, lineView);\n\n    if (lineView.line.wrapClass) {\n      ensureLineWrapped(lineView).className = lineView.line.wrapClass;\n    } else if (lineView.node != lineView.text) {\n      lineView.node.className = \"\";\n    }\n\n    var textClass = lineView.textClass ? lineView.textClass + \" \" + (lineView.line.textClass || \"\") : lineView.line.textClass;\n    lineView.text.className = textClass || \"\";\n  }\n\n  function updateLineGutter(cm, lineView, lineN, dims) {\n    if (lineView.gutter) {\n      lineView.node.removeChild(lineView.gutter);\n      lineView.gutter = null;\n    }\n\n    if (lineView.gutterBackground) {\n      lineView.node.removeChild(lineView.gutterBackground);\n      lineView.gutterBackground = null;\n    }\n\n    if (lineView.line.gutterClass) {\n      var wrap = ensureLineWrapped(lineView);\n      lineView.gutterBackground = elt(\"div\", null, \"CodeMirror-gutter-background \" + lineView.line.gutterClass, \"left: \" + (cm.options.fixedGutter ? dims.fixedPos : -dims.gutterTotalWidth) + \"px; width: \" + dims.gutterTotalWidth + \"px\");\n      cm.display.input.setUneditable(lineView.gutterBackground);\n      wrap.insertBefore(lineView.gutterBackground, lineView.text);\n    }\n\n    var markers = lineView.line.gutterMarkers;\n\n    if (cm.options.lineNumbers || markers) {\n      var wrap$1 = ensureLineWrapped(lineView);\n      var gutterWrap = lineView.gutter = elt(\"div\", null, \"CodeMirror-gutter-wrapper\", \"left: \" + (cm.options.fixedGutter ? dims.fixedPos : -dims.gutterTotalWidth) + \"px\");\n      cm.display.input.setUneditable(gutterWrap);\n      wrap$1.insertBefore(gutterWrap, lineView.text);\n\n      if (lineView.line.gutterClass) {\n        gutterWrap.className += \" \" + lineView.line.gutterClass;\n      }\n\n      if (cm.options.lineNumbers && (!markers || !markers[\"CodeMirror-linenumbers\"])) {\n        lineView.lineNumber = gutterWrap.appendChild(elt(\"div\", lineNumberFor(cm.options, lineN), \"CodeMirror-linenumber CodeMirror-gutter-elt\", \"left: \" + dims.gutterLeft[\"CodeMirror-linenumbers\"] + \"px; width: \" + cm.display.lineNumInnerWidth + \"px\"));\n      }\n\n      if (markers) {\n        for (var k = 0; k < cm.display.gutterSpecs.length; ++k) {\n          var id = cm.display.gutterSpecs[k].className,\n              found = markers.hasOwnProperty(id) && markers[id];\n\n          if (found) {\n            gutterWrap.appendChild(elt(\"div\", [found], \"CodeMirror-gutter-elt\", \"left: \" + dims.gutterLeft[id] + \"px; width: \" + dims.gutterWidth[id] + \"px\"));\n          }\n        }\n      }\n    }\n  }\n\n  function updateLineWidgets(cm, lineView, dims) {\n    if (lineView.alignable) {\n      lineView.alignable = null;\n    }\n\n    var isWidget = classTest(\"CodeMirror-linewidget\");\n\n    for (var node = lineView.node.firstChild, next = void 0; node; node = next) {\n      next = node.nextSibling;\n\n      if (isWidget.test(node.className)) {\n        lineView.node.removeChild(node);\n      }\n    }\n\n    insertLineWidgets(cm, lineView, dims);\n  } // Build a line's DOM representation from scratch\n\n\n  function buildLineElement(cm, lineView, lineN, dims) {\n    var built = getLineContent(cm, lineView);\n    lineView.text = lineView.node = built.pre;\n\n    if (built.bgClass) {\n      lineView.bgClass = built.bgClass;\n    }\n\n    if (built.textClass) {\n      lineView.textClass = built.textClass;\n    }\n\n    updateLineClasses(cm, lineView);\n    updateLineGutter(cm, lineView, lineN, dims);\n    insertLineWidgets(cm, lineView, dims);\n    return lineView.node;\n  } // A lineView may contain multiple logical lines (when merged by\n  // collapsed spans). The widgets for all of them need to be drawn.\n\n\n  function insertLineWidgets(cm, lineView, dims) {\n    insertLineWidgetsFor(cm, lineView.line, lineView, dims, true);\n\n    if (lineView.rest) {\n      for (var i = 0; i < lineView.rest.length; i++) {\n        insertLineWidgetsFor(cm, lineView.rest[i], lineView, dims, false);\n      }\n    }\n  }\n\n  function insertLineWidgetsFor(cm, line, lineView, dims, allowAbove) {\n    if (!line.widgets) {\n      return;\n    }\n\n    var wrap = ensureLineWrapped(lineView);\n\n    for (var i = 0, ws = line.widgets; i < ws.length; ++i) {\n      var widget = ws[i],\n          node = elt(\"div\", [widget.node], \"CodeMirror-linewidget\" + (widget.className ? \" \" + widget.className : \"\"));\n\n      if (!widget.handleMouseEvents) {\n        node.setAttribute(\"cm-ignore-events\", \"true\");\n      }\n\n      positionLineWidget(widget, node, lineView, dims);\n      cm.display.input.setUneditable(node);\n\n      if (allowAbove && widget.above) {\n        wrap.insertBefore(node, lineView.gutter || lineView.text);\n      } else {\n        wrap.appendChild(node);\n      }\n\n      signalLater(widget, \"redraw\");\n    }\n  }\n\n  function positionLineWidget(widget, node, lineView, dims) {\n    if (widget.noHScroll) {\n      (lineView.alignable || (lineView.alignable = [])).push(node);\n      var width = dims.wrapperWidth;\n      node.style.left = dims.fixedPos + \"px\";\n\n      if (!widget.coverGutter) {\n        width -= dims.gutterTotalWidth;\n        node.style.paddingLeft = dims.gutterTotalWidth + \"px\";\n      }\n\n      node.style.width = width + \"px\";\n    }\n\n    if (widget.coverGutter) {\n      node.style.zIndex = 5;\n      node.style.position = \"relative\";\n\n      if (!widget.noHScroll) {\n        node.style.marginLeft = -dims.gutterTotalWidth + \"px\";\n      }\n    }\n  }\n\n  function widgetHeight(widget) {\n    if (widget.height != null) {\n      return widget.height;\n    }\n\n    var cm = widget.doc.cm;\n\n    if (!cm) {\n      return 0;\n    }\n\n    if (!contains(document.body, widget.node)) {\n      var parentStyle = \"position: relative;\";\n\n      if (widget.coverGutter) {\n        parentStyle += \"margin-left: -\" + cm.display.gutters.offsetWidth + \"px;\";\n      }\n\n      if (widget.noHScroll) {\n        parentStyle += \"width: \" + cm.display.wrapper.clientWidth + \"px;\";\n      }\n\n      removeChildrenAndAdd(cm.display.measure, elt(\"div\", [widget.node], null, parentStyle));\n    }\n\n    return widget.height = widget.node.parentNode.offsetHeight;\n  } // Return true when the given mouse event happened in a widget\n\n\n  function eventInWidget(display, e) {\n    for (var n = e_target(e); n != display.wrapper; n = n.parentNode) {\n      if (!n || n.nodeType == 1 && n.getAttribute(\"cm-ignore-events\") == \"true\" || n.parentNode == display.sizer && n != display.mover) {\n        return true;\n      }\n    }\n  } // POSITION MEASUREMENT\n\n\n  function paddingTop(display) {\n    return display.lineSpace.offsetTop;\n  }\n\n  function paddingVert(display) {\n    return display.mover.offsetHeight - display.lineSpace.offsetHeight;\n  }\n\n  function paddingH(display) {\n    if (display.cachedPaddingH) {\n      return display.cachedPaddingH;\n    }\n\n    var e = removeChildrenAndAdd(display.measure, elt(\"pre\", \"x\", \"CodeMirror-line-like\"));\n    var style = window.getComputedStyle ? window.getComputedStyle(e) : e.currentStyle;\n    var data = {\n      left: parseInt(style.paddingLeft),\n      right: parseInt(style.paddingRight)\n    };\n\n    if (!isNaN(data.left) && !isNaN(data.right)) {\n      display.cachedPaddingH = data;\n    }\n\n    return data;\n  }\n\n  function scrollGap(cm) {\n    return scrollerGap - cm.display.nativeBarWidth;\n  }\n\n  function displayWidth(cm) {\n    return cm.display.scroller.clientWidth - scrollGap(cm) - cm.display.barWidth;\n  }\n\n  function displayHeight(cm) {\n    return cm.display.scroller.clientHeight - scrollGap(cm) - cm.display.barHeight;\n  } // Ensure the lineView.wrapping.heights array is populated. This is\n  // an array of bottom offsets for the lines that make up a drawn\n  // line. When lineWrapping is on, there might be more than one\n  // height.\n\n\n  function ensureLineHeights(cm, lineView, rect) {\n    var wrapping = cm.options.lineWrapping;\n    var curWidth = wrapping && displayWidth(cm);\n\n    if (!lineView.measure.heights || wrapping && lineView.measure.width != curWidth) {\n      var heights = lineView.measure.heights = [];\n\n      if (wrapping) {\n        lineView.measure.width = curWidth;\n        var rects = lineView.text.firstChild.getClientRects();\n\n        for (var i = 0; i < rects.length - 1; i++) {\n          var cur = rects[i],\n              next = rects[i + 1];\n\n          if (Math.abs(cur.bottom - next.bottom) > 2) {\n            heights.push((cur.bottom + next.top) / 2 - rect.top);\n          }\n        }\n      }\n\n      heights.push(rect.bottom - rect.top);\n    }\n  } // Find a line map (mapping character offsets to text nodes) and a\n  // measurement cache for the given line number. (A line view might\n  // contain multiple lines when collapsed ranges are present.)\n\n\n  function mapFromLineView(lineView, line, lineN) {\n    if (lineView.line == line) {\n      return {\n        map: lineView.measure.map,\n        cache: lineView.measure.cache\n      };\n    }\n\n    for (var i = 0; i < lineView.rest.length; i++) {\n      if (lineView.rest[i] == line) {\n        return {\n          map: lineView.measure.maps[i],\n          cache: lineView.measure.caches[i]\n        };\n      }\n    }\n\n    for (var i$1 = 0; i$1 < lineView.rest.length; i$1++) {\n      if (lineNo(lineView.rest[i$1]) > lineN) {\n        return {\n          map: lineView.measure.maps[i$1],\n          cache: lineView.measure.caches[i$1],\n          before: true\n        };\n      }\n    }\n  } // Render a line into the hidden node display.externalMeasured. Used\n  // when measurement is needed for a line that's not in the viewport.\n\n\n  function updateExternalMeasurement(cm, line) {\n    line = visualLine(line);\n    var lineN = lineNo(line);\n    var view = cm.display.externalMeasured = new LineView(cm.doc, line, lineN);\n    view.lineN = lineN;\n    var built = view.built = buildLineContent(cm, view);\n    view.text = built.pre;\n    removeChildrenAndAdd(cm.display.lineMeasure, built.pre);\n    return view;\n  } // Get a {top, bottom, left, right} box (in line-local coordinates)\n  // for a given character.\n\n\n  function measureChar(cm, line, ch, bias) {\n    return measureCharPrepared(cm, prepareMeasureForLine(cm, line), ch, bias);\n  } // Find a line view that corresponds to the given line number.\n\n\n  function findViewForLine(cm, lineN) {\n    if (lineN >= cm.display.viewFrom && lineN < cm.display.viewTo) {\n      return cm.display.view[findViewIndex(cm, lineN)];\n    }\n\n    var ext = cm.display.externalMeasured;\n\n    if (ext && lineN >= ext.lineN && lineN < ext.lineN + ext.size) {\n      return ext;\n    }\n  } // Measurement can be split in two steps, the set-up work that\n  // applies to the whole line, and the measurement of the actual\n  // character. Functions like coordsChar, that need to do a lot of\n  // measurements in a row, can thus ensure that the set-up work is\n  // only done once.\n\n\n  function prepareMeasureForLine(cm, line) {\n    var lineN = lineNo(line);\n    var view = findViewForLine(cm, lineN);\n\n    if (view && !view.text) {\n      view = null;\n    } else if (view && view.changes) {\n      updateLineForChanges(cm, view, lineN, getDimensions(cm));\n      cm.curOp.forceUpdate = true;\n    }\n\n    if (!view) {\n      view = updateExternalMeasurement(cm, line);\n    }\n\n    var info = mapFromLineView(view, line, lineN);\n    return {\n      line: line,\n      view: view,\n      rect: null,\n      map: info.map,\n      cache: info.cache,\n      before: info.before,\n      hasHeights: false\n    };\n  } // Given a prepared measurement object, measures the position of an\n  // actual character (or fetches it from the cache).\n\n\n  function measureCharPrepared(cm, prepared, ch, bias, varHeight) {\n    if (prepared.before) {\n      ch = -1;\n    }\n\n    var key = ch + (bias || \"\"),\n        found;\n\n    if (prepared.cache.hasOwnProperty(key)) {\n      found = prepared.cache[key];\n    } else {\n      if (!prepared.rect) {\n        prepared.rect = prepared.view.text.getBoundingClientRect();\n      }\n\n      if (!prepared.hasHeights) {\n        ensureLineHeights(cm, prepared.view, prepared.rect);\n        prepared.hasHeights = true;\n      }\n\n      found = measureCharInner(cm, prepared, ch, bias);\n\n      if (!found.bogus) {\n        prepared.cache[key] = found;\n      }\n    }\n\n    return {\n      left: found.left,\n      right: found.right,\n      top: varHeight ? found.rtop : found.top,\n      bottom: varHeight ? found.rbottom : found.bottom\n    };\n  }\n\n  var nullRect = {\n    left: 0,\n    right: 0,\n    top: 0,\n    bottom: 0\n  };\n\n  function nodeAndOffsetInLineMap(map, ch, bias) {\n    var node, start, end, collapse, mStart, mEnd; // First, search the line map for the text node corresponding to,\n    // or closest to, the target character.\n\n    for (var i = 0; i < map.length; i += 3) {\n      mStart = map[i];\n      mEnd = map[i + 1];\n\n      if (ch < mStart) {\n        start = 0;\n        end = 1;\n        collapse = \"left\";\n      } else if (ch < mEnd) {\n        start = ch - mStart;\n        end = start + 1;\n      } else if (i == map.length - 3 || ch == mEnd && map[i + 3] > ch) {\n        end = mEnd - mStart;\n        start = end - 1;\n\n        if (ch >= mEnd) {\n          collapse = \"right\";\n        }\n      }\n\n      if (start != null) {\n        node = map[i + 2];\n\n        if (mStart == mEnd && bias == (node.insertLeft ? \"left\" : \"right\")) {\n          collapse = bias;\n        }\n\n        if (bias == \"left\" && start == 0) {\n          while (i && map[i - 2] == map[i - 3] && map[i - 1].insertLeft) {\n            node = map[(i -= 3) + 2];\n            collapse = \"left\";\n          }\n        }\n\n        if (bias == \"right\" && start == mEnd - mStart) {\n          while (i < map.length - 3 && map[i + 3] == map[i + 4] && !map[i + 5].insertLeft) {\n            node = map[(i += 3) + 2];\n            collapse = \"right\";\n          }\n        }\n\n        break;\n      }\n    }\n\n    return {\n      node: node,\n      start: start,\n      end: end,\n      collapse: collapse,\n      coverStart: mStart,\n      coverEnd: mEnd\n    };\n  }\n\n  function getUsefulRect(rects, bias) {\n    var rect = nullRect;\n\n    if (bias == \"left\") {\n      for (var i = 0; i < rects.length; i++) {\n        if ((rect = rects[i]).left != rect.right) {\n          break;\n        }\n      }\n    } else {\n      for (var i$1 = rects.length - 1; i$1 >= 0; i$1--) {\n        if ((rect = rects[i$1]).left != rect.right) {\n          break;\n        }\n      }\n    }\n\n    return rect;\n  }\n\n  function measureCharInner(cm, prepared, ch, bias) {\n    var place = nodeAndOffsetInLineMap(prepared.map, ch, bias);\n    var node = place.node,\n        start = place.start,\n        end = place.end,\n        collapse = place.collapse;\n    var rect;\n\n    if (node.nodeType == 3) {\n      // If it is a text node, use a range to retrieve the coordinates.\n      for (var i$1 = 0; i$1 < 4; i$1++) {\n        // Retry a maximum of 4 times when nonsense rectangles are returned\n        while (start && isExtendingChar(prepared.line.text.charAt(place.coverStart + start))) {\n          --start;\n        }\n\n        while (place.coverStart + end < place.coverEnd && isExtendingChar(prepared.line.text.charAt(place.coverStart + end))) {\n          ++end;\n        }\n\n        if (ie && ie_version < 9 && start == 0 && end == place.coverEnd - place.coverStart) {\n          rect = node.parentNode.getBoundingClientRect();\n        } else {\n          rect = getUsefulRect(range(node, start, end).getClientRects(), bias);\n        }\n\n        if (rect.left || rect.right || start == 0) {\n          break;\n        }\n\n        end = start;\n        start = start - 1;\n        collapse = \"right\";\n      }\n\n      if (ie && ie_version < 11) {\n        rect = maybeUpdateRectForZooming(cm.display.measure, rect);\n      }\n    } else {\n      // If it is a widget, simply get the box for the whole widget.\n      if (start > 0) {\n        collapse = bias = \"right\";\n      }\n\n      var rects;\n\n      if (cm.options.lineWrapping && (rects = node.getClientRects()).length > 1) {\n        rect = rects[bias == \"right\" ? rects.length - 1 : 0];\n      } else {\n        rect = node.getBoundingClientRect();\n      }\n    }\n\n    if (ie && ie_version < 9 && !start && (!rect || !rect.left && !rect.right)) {\n      var rSpan = node.parentNode.getClientRects()[0];\n\n      if (rSpan) {\n        rect = {\n          left: rSpan.left,\n          right: rSpan.left + charWidth(cm.display),\n          top: rSpan.top,\n          bottom: rSpan.bottom\n        };\n      } else {\n        rect = nullRect;\n      }\n    }\n\n    var rtop = rect.top - prepared.rect.top,\n        rbot = rect.bottom - prepared.rect.top;\n    var mid = (rtop + rbot) / 2;\n    var heights = prepared.view.measure.heights;\n    var i = 0;\n\n    for (; i < heights.length - 1; i++) {\n      if (mid < heights[i]) {\n        break;\n      }\n    }\n\n    var top = i ? heights[i - 1] : 0,\n        bot = heights[i];\n    var result = {\n      left: (collapse == \"right\" ? rect.right : rect.left) - prepared.rect.left,\n      right: (collapse == \"left\" ? rect.left : rect.right) - prepared.rect.left,\n      top: top,\n      bottom: bot\n    };\n\n    if (!rect.left && !rect.right) {\n      result.bogus = true;\n    }\n\n    if (!cm.options.singleCursorHeightPerLine) {\n      result.rtop = rtop;\n      result.rbottom = rbot;\n    }\n\n    return result;\n  } // Work around problem with bounding client rects on ranges being\n  // returned incorrectly when zoomed on IE10 and below.\n\n\n  function maybeUpdateRectForZooming(measure, rect) {\n    if (!window.screen || screen.logicalXDPI == null || screen.logicalXDPI == screen.deviceXDPI || !hasBadZoomedRects(measure)) {\n      return rect;\n    }\n\n    var scaleX = screen.logicalXDPI / screen.deviceXDPI;\n    var scaleY = screen.logicalYDPI / screen.deviceYDPI;\n    return {\n      left: rect.left * scaleX,\n      right: rect.right * scaleX,\n      top: rect.top * scaleY,\n      bottom: rect.bottom * scaleY\n    };\n  }\n\n  function clearLineMeasurementCacheFor(lineView) {\n    if (lineView.measure) {\n      lineView.measure.cache = {};\n      lineView.measure.heights = null;\n\n      if (lineView.rest) {\n        for (var i = 0; i < lineView.rest.length; i++) {\n          lineView.measure.caches[i] = {};\n        }\n      }\n    }\n  }\n\n  function clearLineMeasurementCache(cm) {\n    cm.display.externalMeasure = null;\n    removeChildren(cm.display.lineMeasure);\n\n    for (var i = 0; i < cm.display.view.length; i++) {\n      clearLineMeasurementCacheFor(cm.display.view[i]);\n    }\n  }\n\n  function clearCaches(cm) {\n    clearLineMeasurementCache(cm);\n    cm.display.cachedCharWidth = cm.display.cachedTextHeight = cm.display.cachedPaddingH = null;\n\n    if (!cm.options.lineWrapping) {\n      cm.display.maxLineChanged = true;\n    }\n\n    cm.display.lineNumChars = null;\n  }\n\n  function pageScrollX() {\n    // Work around https://bugs.chromium.org/p/chromium/issues/detail?id=489206\n    // which causes page_Offset and bounding client rects to use\n    // different reference viewports and invalidate our calculations.\n    if (chrome && android) {\n      return -(document.body.getBoundingClientRect().left - parseInt(getComputedStyle(document.body).marginLeft));\n    }\n\n    return window.pageXOffset || (document.documentElement || document.body).scrollLeft;\n  }\n\n  function pageScrollY() {\n    if (chrome && android) {\n      return -(document.body.getBoundingClientRect().top - parseInt(getComputedStyle(document.body).marginTop));\n    }\n\n    return window.pageYOffset || (document.documentElement || document.body).scrollTop;\n  }\n\n  function widgetTopHeight(lineObj) {\n    var height = 0;\n\n    if (lineObj.widgets) {\n      for (var i = 0; i < lineObj.widgets.length; ++i) {\n        if (lineObj.widgets[i].above) {\n          height += widgetHeight(lineObj.widgets[i]);\n        }\n      }\n    }\n\n    return height;\n  } // Converts a {top, bottom, left, right} box from line-local\n  // coordinates into another coordinate system. Context may be one of\n  // \"line\", \"div\" (display.lineDiv), \"local\"./null (editor), \"window\",\n  // or \"page\".\n\n\n  function intoCoordSystem(cm, lineObj, rect, context, includeWidgets) {\n    if (!includeWidgets) {\n      var height = widgetTopHeight(lineObj);\n      rect.top += height;\n      rect.bottom += height;\n    }\n\n    if (context == \"line\") {\n      return rect;\n    }\n\n    if (!context) {\n      context = \"local\";\n    }\n\n    var yOff = heightAtLine(lineObj);\n\n    if (context == \"local\") {\n      yOff += paddingTop(cm.display);\n    } else {\n      yOff -= cm.display.viewOffset;\n    }\n\n    if (context == \"page\" || context == \"window\") {\n      var lOff = cm.display.lineSpace.getBoundingClientRect();\n      yOff += lOff.top + (context == \"window\" ? 0 : pageScrollY());\n      var xOff = lOff.left + (context == \"window\" ? 0 : pageScrollX());\n      rect.left += xOff;\n      rect.right += xOff;\n    }\n\n    rect.top += yOff;\n    rect.bottom += yOff;\n    return rect;\n  } // Coverts a box from \"div\" coords to another coordinate system.\n  // Context may be \"window\", \"page\", \"div\", or \"local\"./null.\n\n\n  function fromCoordSystem(cm, coords, context) {\n    if (context == \"div\") {\n      return coords;\n    }\n\n    var left = coords.left,\n        top = coords.top; // First move into \"page\" coordinate system\n\n    if (context == \"page\") {\n      left -= pageScrollX();\n      top -= pageScrollY();\n    } else if (context == \"local\" || !context) {\n      var localBox = cm.display.sizer.getBoundingClientRect();\n      left += localBox.left;\n      top += localBox.top;\n    }\n\n    var lineSpaceBox = cm.display.lineSpace.getBoundingClientRect();\n    return {\n      left: left - lineSpaceBox.left,\n      top: top - lineSpaceBox.top\n    };\n  }\n\n  function charCoords(cm, pos, context, lineObj, bias) {\n    if (!lineObj) {\n      lineObj = getLine(cm.doc, pos.line);\n    }\n\n    return intoCoordSystem(cm, lineObj, measureChar(cm, lineObj, pos.ch, bias), context);\n  } // Returns a box for a given cursor position, which may have an\n  // 'other' property containing the position of the secondary cursor\n  // on a bidi boundary.\n  // A cursor Pos(line, char, \"before\") is on the same visual line as `char - 1`\n  // and after `char - 1` in writing order of `char - 1`\n  // A cursor Pos(line, char, \"after\") is on the same visual line as `char`\n  // and before `char` in writing order of `char`\n  // Examples (upper-case letters are RTL, lower-case are LTR):\n  //     Pos(0, 1, ...)\n  //     before   after\n  // ab     a|b     a|b\n  // aB     a|B     aB|\n  // Ab     |Ab     A|b\n  // AB     B|A     B|A\n  // Every position after the last character on a line is considered to stick\n  // to the last character on the line.\n\n\n  function cursorCoords(cm, pos, context, lineObj, preparedMeasure, varHeight) {\n    lineObj = lineObj || getLine(cm.doc, pos.line);\n\n    if (!preparedMeasure) {\n      preparedMeasure = prepareMeasureForLine(cm, lineObj);\n    }\n\n    function get(ch, right) {\n      var m = measureCharPrepared(cm, preparedMeasure, ch, right ? \"right\" : \"left\", varHeight);\n\n      if (right) {\n        m.left = m.right;\n      } else {\n        m.right = m.left;\n      }\n\n      return intoCoordSystem(cm, lineObj, m, context);\n    }\n\n    var order = getOrder(lineObj, cm.doc.direction),\n        ch = pos.ch,\n        sticky = pos.sticky;\n\n    if (ch >= lineObj.text.length) {\n      ch = lineObj.text.length;\n      sticky = \"before\";\n    } else if (ch <= 0) {\n      ch = 0;\n      sticky = \"after\";\n    }\n\n    if (!order) {\n      return get(sticky == \"before\" ? ch - 1 : ch, sticky == \"before\");\n    }\n\n    function getBidi(ch, partPos, invert) {\n      var part = order[partPos],\n          right = part.level == 1;\n      return get(invert ? ch - 1 : ch, right != invert);\n    }\n\n    var partPos = getBidiPartAt(order, ch, sticky);\n    var other = bidiOther;\n    var val = getBidi(ch, partPos, sticky == \"before\");\n\n    if (other != null) {\n      val.other = getBidi(ch, other, sticky != \"before\");\n    }\n\n    return val;\n  } // Used to cheaply estimate the coordinates for a position. Used for\n  // intermediate scroll updates.\n\n\n  function estimateCoords(cm, pos) {\n    var left = 0;\n    pos = clipPos(cm.doc, pos);\n\n    if (!cm.options.lineWrapping) {\n      left = charWidth(cm.display) * pos.ch;\n    }\n\n    var lineObj = getLine(cm.doc, pos.line);\n    var top = heightAtLine(lineObj) + paddingTop(cm.display);\n    return {\n      left: left,\n      right: left,\n      top: top,\n      bottom: top + lineObj.height\n    };\n  } // Positions returned by coordsChar contain some extra information.\n  // xRel is the relative x position of the input coordinates compared\n  // to the found position (so xRel > 0 means the coordinates are to\n  // the right of the character position, for example). When outside\n  // is true, that means the coordinates lie outside the line's\n  // vertical range.\n\n\n  function PosWithInfo(line, ch, sticky, outside, xRel) {\n    var pos = Pos(line, ch, sticky);\n    pos.xRel = xRel;\n\n    if (outside) {\n      pos.outside = outside;\n    }\n\n    return pos;\n  } // Compute the character position closest to the given coordinates.\n  // Input must be lineSpace-local (\"div\" coordinate system).\n\n\n  function coordsChar(cm, x, y) {\n    var doc = cm.doc;\n    y += cm.display.viewOffset;\n\n    if (y < 0) {\n      return PosWithInfo(doc.first, 0, null, -1, -1);\n    }\n\n    var lineN = lineAtHeight(doc, y),\n        last = doc.first + doc.size - 1;\n\n    if (lineN > last) {\n      return PosWithInfo(doc.first + doc.size - 1, getLine(doc, last).text.length, null, 1, 1);\n    }\n\n    if (x < 0) {\n      x = 0;\n    }\n\n    var lineObj = getLine(doc, lineN);\n\n    for (;;) {\n      var found = coordsCharInner(cm, lineObj, lineN, x, y);\n      var collapsed = collapsedSpanAround(lineObj, found.ch + (found.xRel > 0 || found.outside > 0 ? 1 : 0));\n\n      if (!collapsed) {\n        return found;\n      }\n\n      var rangeEnd = collapsed.find(1);\n\n      if (rangeEnd.line == lineN) {\n        return rangeEnd;\n      }\n\n      lineObj = getLine(doc, lineN = rangeEnd.line);\n    }\n  }\n\n  function wrappedLineExtent(cm, lineObj, preparedMeasure, y) {\n    y -= widgetTopHeight(lineObj);\n    var end = lineObj.text.length;\n    var begin = findFirst(function (ch) {\n      return measureCharPrepared(cm, preparedMeasure, ch - 1).bottom <= y;\n    }, end, 0);\n    end = findFirst(function (ch) {\n      return measureCharPrepared(cm, preparedMeasure, ch).top > y;\n    }, begin, end);\n    return {\n      begin: begin,\n      end: end\n    };\n  }\n\n  function wrappedLineExtentChar(cm, lineObj, preparedMeasure, target) {\n    if (!preparedMeasure) {\n      preparedMeasure = prepareMeasureForLine(cm, lineObj);\n    }\n\n    var targetTop = intoCoordSystem(cm, lineObj, measureCharPrepared(cm, preparedMeasure, target), \"line\").top;\n    return wrappedLineExtent(cm, lineObj, preparedMeasure, targetTop);\n  } // Returns true if the given side of a box is after the given\n  // coordinates, in top-to-bottom, left-to-right order.\n\n\n  function boxIsAfter(box, x, y, left) {\n    return box.bottom <= y ? false : box.top > y ? true : (left ? box.left : box.right) > x;\n  }\n\n  function coordsCharInner(cm, lineObj, lineNo, x, y) {\n    // Move y into line-local coordinate space\n    y -= heightAtLine(lineObj);\n    var preparedMeasure = prepareMeasureForLine(cm, lineObj); // When directly calling `measureCharPrepared`, we have to adjust\n    // for the widgets at this line.\n\n    var widgetHeight = widgetTopHeight(lineObj);\n    var begin = 0,\n        end = lineObj.text.length,\n        ltr = true;\n    var order = getOrder(lineObj, cm.doc.direction); // If the line isn't plain left-to-right text, first figure out\n    // which bidi section the coordinates fall into.\n\n    if (order) {\n      var part = (cm.options.lineWrapping ? coordsBidiPartWrapped : coordsBidiPart)(cm, lineObj, lineNo, preparedMeasure, order, x, y);\n      ltr = part.level != 1; // The awkward -1 offsets are needed because findFirst (called\n      // on these below) will treat its first bound as inclusive,\n      // second as exclusive, but we want to actually address the\n      // characters in the part's range\n\n      begin = ltr ? part.from : part.to - 1;\n      end = ltr ? part.to : part.from - 1;\n    } // A binary search to find the first character whose bounding box\n    // starts after the coordinates. If we run across any whose box wrap\n    // the coordinates, store that.\n\n\n    var chAround = null,\n        boxAround = null;\n    var ch = findFirst(function (ch) {\n      var box = measureCharPrepared(cm, preparedMeasure, ch);\n      box.top += widgetHeight;\n      box.bottom += widgetHeight;\n\n      if (!boxIsAfter(box, x, y, false)) {\n        return false;\n      }\n\n      if (box.top <= y && box.left <= x) {\n        chAround = ch;\n        boxAround = box;\n      }\n\n      return true;\n    }, begin, end);\n    var baseX,\n        sticky,\n        outside = false; // If a box around the coordinates was found, use that\n\n    if (boxAround) {\n      // Distinguish coordinates nearer to the left or right side of the box\n      var atLeft = x - boxAround.left < boxAround.right - x,\n          atStart = atLeft == ltr;\n      ch = chAround + (atStart ? 0 : 1);\n      sticky = atStart ? \"after\" : \"before\";\n      baseX = atLeft ? boxAround.left : boxAround.right;\n    } else {\n      // (Adjust for extended bound, if necessary.)\n      if (!ltr && (ch == end || ch == begin)) {\n        ch++;\n      } // To determine which side to associate with, get the box to the\n      // left of the character and compare it's vertical position to the\n      // coordinates\n\n\n      sticky = ch == 0 ? \"after\" : ch == lineObj.text.length ? \"before\" : measureCharPrepared(cm, preparedMeasure, ch - (ltr ? 1 : 0)).bottom + widgetHeight <= y == ltr ? \"after\" : \"before\"; // Now get accurate coordinates for this place, in order to get a\n      // base X position\n\n      var coords = cursorCoords(cm, Pos(lineNo, ch, sticky), \"line\", lineObj, preparedMeasure);\n      baseX = coords.left;\n      outside = y < coords.top ? -1 : y >= coords.bottom ? 1 : 0;\n    }\n\n    ch = skipExtendingChars(lineObj.text, ch, 1);\n    return PosWithInfo(lineNo, ch, sticky, outside, x - baseX);\n  }\n\n  function coordsBidiPart(cm, lineObj, lineNo, preparedMeasure, order, x, y) {\n    // Bidi parts are sorted left-to-right, and in a non-line-wrapping\n    // situation, we can take this ordering to correspond to the visual\n    // ordering. This finds the first part whose end is after the given\n    // coordinates.\n    var index = findFirst(function (i) {\n      var part = order[i],\n          ltr = part.level != 1;\n      return boxIsAfter(cursorCoords(cm, Pos(lineNo, ltr ? part.to : part.from, ltr ? \"before\" : \"after\"), \"line\", lineObj, preparedMeasure), x, y, true);\n    }, 0, order.length - 1);\n    var part = order[index]; // If this isn't the first part, the part's start is also after\n    // the coordinates, and the coordinates aren't on the same line as\n    // that start, move one part back.\n\n    if (index > 0) {\n      var ltr = part.level != 1;\n      var start = cursorCoords(cm, Pos(lineNo, ltr ? part.from : part.to, ltr ? \"after\" : \"before\"), \"line\", lineObj, preparedMeasure);\n\n      if (boxIsAfter(start, x, y, true) && start.top > y) {\n        part = order[index - 1];\n      }\n    }\n\n    return part;\n  }\n\n  function coordsBidiPartWrapped(cm, lineObj, _lineNo, preparedMeasure, order, x, y) {\n    // In a wrapped line, rtl text on wrapping boundaries can do things\n    // that don't correspond to the ordering in our `order` array at\n    // all, so a binary search doesn't work, and we want to return a\n    // part that only spans one line so that the binary search in\n    // coordsCharInner is safe. As such, we first find the extent of the\n    // wrapped line, and then do a flat search in which we discard any\n    // spans that aren't on the line.\n    var ref = wrappedLineExtent(cm, lineObj, preparedMeasure, y);\n    var begin = ref.begin;\n    var end = ref.end;\n\n    if (/\\s/.test(lineObj.text.charAt(end - 1))) {\n      end--;\n    }\n\n    var part = null,\n        closestDist = null;\n\n    for (var i = 0; i < order.length; i++) {\n      var p = order[i];\n\n      if (p.from >= end || p.to <= begin) {\n        continue;\n      }\n\n      var ltr = p.level != 1;\n      var endX = measureCharPrepared(cm, preparedMeasure, ltr ? Math.min(end, p.to) - 1 : Math.max(begin, p.from)).right; // Weigh against spans ending before this, so that they are only\n      // picked if nothing ends after\n\n      var dist = endX < x ? x - endX + 1e9 : endX - x;\n\n      if (!part || closestDist > dist) {\n        part = p;\n        closestDist = dist;\n      }\n    }\n\n    if (!part) {\n      part = order[order.length - 1];\n    } // Clip the part to the wrapped line.\n\n\n    if (part.from < begin) {\n      part = {\n        from: begin,\n        to: part.to,\n        level: part.level\n      };\n    }\n\n    if (part.to > end) {\n      part = {\n        from: part.from,\n        to: end,\n        level: part.level\n      };\n    }\n\n    return part;\n  }\n\n  var measureText; // Compute the default text height.\n\n  function textHeight(display) {\n    if (display.cachedTextHeight != null) {\n      return display.cachedTextHeight;\n    }\n\n    if (measureText == null) {\n      measureText = elt(\"pre\", null, \"CodeMirror-line-like\"); // Measure a bunch of lines, for browsers that compute\n      // fractional heights.\n\n      for (var i = 0; i < 49; ++i) {\n        measureText.appendChild(document.createTextNode(\"x\"));\n        measureText.appendChild(elt(\"br\"));\n      }\n\n      measureText.appendChild(document.createTextNode(\"x\"));\n    }\n\n    removeChildrenAndAdd(display.measure, measureText);\n    var height = measureText.offsetHeight / 50;\n\n    if (height > 3) {\n      display.cachedTextHeight = height;\n    }\n\n    removeChildren(display.measure);\n    return height || 1;\n  } // Compute the default character width.\n\n\n  function charWidth(display) {\n    if (display.cachedCharWidth != null) {\n      return display.cachedCharWidth;\n    }\n\n    var anchor = elt(\"span\", \"xxxxxxxxxx\");\n    var pre = elt(\"pre\", [anchor], \"CodeMirror-line-like\");\n    removeChildrenAndAdd(display.measure, pre);\n    var rect = anchor.getBoundingClientRect(),\n        width = (rect.right - rect.left) / 10;\n\n    if (width > 2) {\n      display.cachedCharWidth = width;\n    }\n\n    return width || 10;\n  } // Do a bulk-read of the DOM positions and sizes needed to draw the\n  // view, so that we don't interleave reading and writing to the DOM.\n\n\n  function getDimensions(cm) {\n    var d = cm.display,\n        left = {},\n        width = {};\n    var gutterLeft = d.gutters.clientLeft;\n\n    for (var n = d.gutters.firstChild, i = 0; n; n = n.nextSibling, ++i) {\n      var id = cm.display.gutterSpecs[i].className;\n      left[id] = n.offsetLeft + n.clientLeft + gutterLeft;\n      width[id] = n.clientWidth;\n    }\n\n    return {\n      fixedPos: compensateForHScroll(d),\n      gutterTotalWidth: d.gutters.offsetWidth,\n      gutterLeft: left,\n      gutterWidth: width,\n      wrapperWidth: d.wrapper.clientWidth\n    };\n  } // Computes display.scroller.scrollLeft + display.gutters.offsetWidth,\n  // but using getBoundingClientRect to get a sub-pixel-accurate\n  // result.\n\n\n  function compensateForHScroll(display) {\n    return display.scroller.getBoundingClientRect().left - display.sizer.getBoundingClientRect().left;\n  } // Returns a function that estimates the height of a line, to use as\n  // first approximation until the line becomes visible (and is thus\n  // properly measurable).\n\n\n  function estimateHeight(cm) {\n    var th = textHeight(cm.display),\n        wrapping = cm.options.lineWrapping;\n    var perLine = wrapping && Math.max(5, cm.display.scroller.clientWidth / charWidth(cm.display) - 3);\n    return function (line) {\n      if (lineIsHidden(cm.doc, line)) {\n        return 0;\n      }\n\n      var widgetsHeight = 0;\n\n      if (line.widgets) {\n        for (var i = 0; i < line.widgets.length; i++) {\n          if (line.widgets[i].height) {\n            widgetsHeight += line.widgets[i].height;\n          }\n        }\n      }\n\n      if (wrapping) {\n        return widgetsHeight + (Math.ceil(line.text.length / perLine) || 1) * th;\n      } else {\n        return widgetsHeight + th;\n      }\n    };\n  }\n\n  function estimateLineHeights(cm) {\n    var doc = cm.doc,\n        est = estimateHeight(cm);\n    doc.iter(function (line) {\n      var estHeight = est(line);\n\n      if (estHeight != line.height) {\n        updateLineHeight(line, estHeight);\n      }\n    });\n  } // Given a mouse event, find the corresponding position. If liberal\n  // is false, it checks whether a gutter or scrollbar was clicked,\n  // and returns null if it was. forRect is used by rectangular\n  // selections, and tries to estimate a character position even for\n  // coordinates beyond the right of the text.\n\n\n  function posFromMouse(cm, e, liberal, forRect) {\n    var display = cm.display;\n\n    if (!liberal && e_target(e).getAttribute(\"cm-not-content\") == \"true\") {\n      return null;\n    }\n\n    var x,\n        y,\n        space = display.lineSpace.getBoundingClientRect(); // Fails unpredictably on IE[67] when mouse is dragged around quickly.\n\n    try {\n      x = e.clientX - space.left;\n      y = e.clientY - space.top;\n    } catch (e) {\n      return null;\n    }\n\n    var coords = coordsChar(cm, x, y),\n        line;\n\n    if (forRect && coords.xRel > 0 && (line = getLine(cm.doc, coords.line).text).length == coords.ch) {\n      var colDiff = countColumn(line, line.length, cm.options.tabSize) - line.length;\n      coords = Pos(coords.line, Math.max(0, Math.round((x - paddingH(cm.display).left) / charWidth(cm.display)) - colDiff));\n    }\n\n    return coords;\n  } // Find the view element corresponding to a given line. Return null\n  // when the line isn't visible.\n\n\n  function findViewIndex(cm, n) {\n    if (n >= cm.display.viewTo) {\n      return null;\n    }\n\n    n -= cm.display.viewFrom;\n\n    if (n < 0) {\n      return null;\n    }\n\n    var view = cm.display.view;\n\n    for (var i = 0; i < view.length; i++) {\n      n -= view[i].size;\n\n      if (n < 0) {\n        return i;\n      }\n    }\n  } // Updates the display.view data structure for a given change to the\n  // document. From and to are in pre-change coordinates. Lendiff is\n  // the amount of lines added or subtracted by the change. This is\n  // used for changes that span multiple lines, or change the way\n  // lines are divided into visual lines. regLineChange (below)\n  // registers single-line changes.\n\n\n  function regChange(cm, from, to, lendiff) {\n    if (from == null) {\n      from = cm.doc.first;\n    }\n\n    if (to == null) {\n      to = cm.doc.first + cm.doc.size;\n    }\n\n    if (!lendiff) {\n      lendiff = 0;\n    }\n\n    var display = cm.display;\n\n    if (lendiff && to < display.viewTo && (display.updateLineNumbers == null || display.updateLineNumbers > from)) {\n      display.updateLineNumbers = from;\n    }\n\n    cm.curOp.viewChanged = true;\n\n    if (from >= display.viewTo) {\n      // Change after\n      if (sawCollapsedSpans && visualLineNo(cm.doc, from) < display.viewTo) {\n        resetView(cm);\n      }\n    } else if (to <= display.viewFrom) {\n      // Change before\n      if (sawCollapsedSpans && visualLineEndNo(cm.doc, to + lendiff) > display.viewFrom) {\n        resetView(cm);\n      } else {\n        display.viewFrom += lendiff;\n        display.viewTo += lendiff;\n      }\n    } else if (from <= display.viewFrom && to >= display.viewTo) {\n      // Full overlap\n      resetView(cm);\n    } else if (from <= display.viewFrom) {\n      // Top overlap\n      var cut = viewCuttingPoint(cm, to, to + lendiff, 1);\n\n      if (cut) {\n        display.view = display.view.slice(cut.index);\n        display.viewFrom = cut.lineN;\n        display.viewTo += lendiff;\n      } else {\n        resetView(cm);\n      }\n    } else if (to >= display.viewTo) {\n      // Bottom overlap\n      var cut$1 = viewCuttingPoint(cm, from, from, -1);\n\n      if (cut$1) {\n        display.view = display.view.slice(0, cut$1.index);\n        display.viewTo = cut$1.lineN;\n      } else {\n        resetView(cm);\n      }\n    } else {\n      // Gap in the middle\n      var cutTop = viewCuttingPoint(cm, from, from, -1);\n      var cutBot = viewCuttingPoint(cm, to, to + lendiff, 1);\n\n      if (cutTop && cutBot) {\n        display.view = display.view.slice(0, cutTop.index).concat(buildViewArray(cm, cutTop.lineN, cutBot.lineN)).concat(display.view.slice(cutBot.index));\n        display.viewTo += lendiff;\n      } else {\n        resetView(cm);\n      }\n    }\n\n    var ext = display.externalMeasured;\n\n    if (ext) {\n      if (to < ext.lineN) {\n        ext.lineN += lendiff;\n      } else if (from < ext.lineN + ext.size) {\n        display.externalMeasured = null;\n      }\n    }\n  } // Register a change to a single line. Type must be one of \"text\",\n  // \"gutter\", \"class\", \"widget\"\n\n\n  function regLineChange(cm, line, type) {\n    cm.curOp.viewChanged = true;\n    var display = cm.display,\n        ext = cm.display.externalMeasured;\n\n    if (ext && line >= ext.lineN && line < ext.lineN + ext.size) {\n      display.externalMeasured = null;\n    }\n\n    if (line < display.viewFrom || line >= display.viewTo) {\n      return;\n    }\n\n    var lineView = display.view[findViewIndex(cm, line)];\n\n    if (lineView.node == null) {\n      return;\n    }\n\n    var arr = lineView.changes || (lineView.changes = []);\n\n    if (indexOf(arr, type) == -1) {\n      arr.push(type);\n    }\n  } // Clear the view.\n\n\n  function resetView(cm) {\n    cm.display.viewFrom = cm.display.viewTo = cm.doc.first;\n    cm.display.view = [];\n    cm.display.viewOffset = 0;\n  }\n\n  function viewCuttingPoint(cm, oldN, newN, dir) {\n    var index = findViewIndex(cm, oldN),\n        diff,\n        view = cm.display.view;\n\n    if (!sawCollapsedSpans || newN == cm.doc.first + cm.doc.size) {\n      return {\n        index: index,\n        lineN: newN\n      };\n    }\n\n    var n = cm.display.viewFrom;\n\n    for (var i = 0; i < index; i++) {\n      n += view[i].size;\n    }\n\n    if (n != oldN) {\n      if (dir > 0) {\n        if (index == view.length - 1) {\n          return null;\n        }\n\n        diff = n + view[index].size - oldN;\n        index++;\n      } else {\n        diff = n - oldN;\n      }\n\n      oldN += diff;\n      newN += diff;\n    }\n\n    while (visualLineNo(cm.doc, newN) != newN) {\n      if (index == (dir < 0 ? 0 : view.length - 1)) {\n        return null;\n      }\n\n      newN += dir * view[index - (dir < 0 ? 1 : 0)].size;\n      index += dir;\n    }\n\n    return {\n      index: index,\n      lineN: newN\n    };\n  } // Force the view to cover a given range, adding empty view element\n  // or clipping off existing ones as needed.\n\n\n  function adjustView(cm, from, to) {\n    var display = cm.display,\n        view = display.view;\n\n    if (view.length == 0 || from >= display.viewTo || to <= display.viewFrom) {\n      display.view = buildViewArray(cm, from, to);\n      display.viewFrom = from;\n    } else {\n      if (display.viewFrom > from) {\n        display.view = buildViewArray(cm, from, display.viewFrom).concat(display.view);\n      } else if (display.viewFrom < from) {\n        display.view = display.view.slice(findViewIndex(cm, from));\n      }\n\n      display.viewFrom = from;\n\n      if (display.viewTo < to) {\n        display.view = display.view.concat(buildViewArray(cm, display.viewTo, to));\n      } else if (display.viewTo > to) {\n        display.view = display.view.slice(0, findViewIndex(cm, to));\n      }\n    }\n\n    display.viewTo = to;\n  } // Count the number of lines in the view whose DOM representation is\n  // out of date (or nonexistent).\n\n\n  function countDirtyView(cm) {\n    var view = cm.display.view,\n        dirty = 0;\n\n    for (var i = 0; i < view.length; i++) {\n      var lineView = view[i];\n\n      if (!lineView.hidden && (!lineView.node || lineView.changes)) {\n        ++dirty;\n      }\n    }\n\n    return dirty;\n  }\n\n  function updateSelection(cm) {\n    cm.display.input.showSelection(cm.display.input.prepareSelection());\n  }\n\n  function prepareSelection(cm, primary) {\n    if (primary === void 0) primary = true;\n    var doc = cm.doc,\n        result = {};\n    var curFragment = result.cursors = document.createDocumentFragment();\n    var selFragment = result.selection = document.createDocumentFragment();\n\n    for (var i = 0; i < doc.sel.ranges.length; i++) {\n      if (!primary && i == doc.sel.primIndex) {\n        continue;\n      }\n\n      var range = doc.sel.ranges[i];\n\n      if (range.from().line >= cm.display.viewTo || range.to().line < cm.display.viewFrom) {\n        continue;\n      }\n\n      var collapsed = range.empty();\n\n      if (collapsed || cm.options.showCursorWhenSelecting) {\n        drawSelectionCursor(cm, range.head, curFragment);\n      }\n\n      if (!collapsed) {\n        drawSelectionRange(cm, range, selFragment);\n      }\n    }\n\n    return result;\n  } // Draws a cursor for the given range\n\n\n  function drawSelectionCursor(cm, head, output) {\n    var pos = cursorCoords(cm, head, \"div\", null, null, !cm.options.singleCursorHeightPerLine);\n    var cursor = output.appendChild(elt(\"div\", \"\\u00a0\", \"CodeMirror-cursor\"));\n    cursor.style.left = pos.left + \"px\";\n    cursor.style.top = pos.top + \"px\";\n    cursor.style.height = Math.max(0, pos.bottom - pos.top) * cm.options.cursorHeight + \"px\";\n\n    if (pos.other) {\n      // Secondary cursor, shown when on a 'jump' in bi-directional text\n      var otherCursor = output.appendChild(elt(\"div\", \"\\u00a0\", \"CodeMirror-cursor CodeMirror-secondarycursor\"));\n      otherCursor.style.display = \"\";\n      otherCursor.style.left = pos.other.left + \"px\";\n      otherCursor.style.top = pos.other.top + \"px\";\n      otherCursor.style.height = (pos.other.bottom - pos.other.top) * .85 + \"px\";\n    }\n  }\n\n  function cmpCoords(a, b) {\n    return a.top - b.top || a.left - b.left;\n  } // Draws the given range as a highlighted selection\n\n\n  function drawSelectionRange(cm, range, output) {\n    var display = cm.display,\n        doc = cm.doc;\n    var fragment = document.createDocumentFragment();\n    var padding = paddingH(cm.display),\n        leftSide = padding.left;\n    var rightSide = Math.max(display.sizerWidth, displayWidth(cm) - display.sizer.offsetLeft) - padding.right;\n    var docLTR = doc.direction == \"ltr\";\n\n    function add(left, top, width, bottom) {\n      if (top < 0) {\n        top = 0;\n      }\n\n      top = Math.round(top);\n      bottom = Math.round(bottom);\n      fragment.appendChild(elt(\"div\", null, \"CodeMirror-selected\", \"position: absolute; left: \" + left + \"px;\\n                             top: \" + top + \"px; width: \" + (width == null ? rightSide - left : width) + \"px;\\n                             height: \" + (bottom - top) + \"px\"));\n    }\n\n    function drawForLine(line, fromArg, toArg) {\n      var lineObj = getLine(doc, line);\n      var lineLen = lineObj.text.length;\n      var start, end;\n\n      function coords(ch, bias) {\n        return charCoords(cm, Pos(line, ch), \"div\", lineObj, bias);\n      }\n\n      function wrapX(pos, dir, side) {\n        var extent = wrappedLineExtentChar(cm, lineObj, null, pos);\n        var prop = dir == \"ltr\" == (side == \"after\") ? \"left\" : \"right\";\n        var ch = side == \"after\" ? extent.begin : extent.end - (/\\s/.test(lineObj.text.charAt(extent.end - 1)) ? 2 : 1);\n        return coords(ch, prop)[prop];\n      }\n\n      var order = getOrder(lineObj, doc.direction);\n      iterateBidiSections(order, fromArg || 0, toArg == null ? lineLen : toArg, function (from, to, dir, i) {\n        var ltr = dir == \"ltr\";\n        var fromPos = coords(from, ltr ? \"left\" : \"right\");\n        var toPos = coords(to - 1, ltr ? \"right\" : \"left\");\n        var openStart = fromArg == null && from == 0,\n            openEnd = toArg == null && to == lineLen;\n        var first = i == 0,\n            last = !order || i == order.length - 1;\n\n        if (toPos.top - fromPos.top <= 3) {\n          // Single line\n          var openLeft = (docLTR ? openStart : openEnd) && first;\n          var openRight = (docLTR ? openEnd : openStart) && last;\n          var left = openLeft ? leftSide : (ltr ? fromPos : toPos).left;\n          var right = openRight ? rightSide : (ltr ? toPos : fromPos).right;\n          add(left, fromPos.top, right - left, fromPos.bottom);\n        } else {\n          // Multiple lines\n          var topLeft, topRight, botLeft, botRight;\n\n          if (ltr) {\n            topLeft = docLTR && openStart && first ? leftSide : fromPos.left;\n            topRight = docLTR ? rightSide : wrapX(from, dir, \"before\");\n            botLeft = docLTR ? leftSide : wrapX(to, dir, \"after\");\n            botRight = docLTR && openEnd && last ? rightSide : toPos.right;\n          } else {\n            topLeft = !docLTR ? leftSide : wrapX(from, dir, \"before\");\n            topRight = !docLTR && openStart && first ? rightSide : fromPos.right;\n            botLeft = !docLTR && openEnd && last ? leftSide : toPos.left;\n            botRight = !docLTR ? rightSide : wrapX(to, dir, \"after\");\n          }\n\n          add(topLeft, fromPos.top, topRight - topLeft, fromPos.bottom);\n\n          if (fromPos.bottom < toPos.top) {\n            add(leftSide, fromPos.bottom, null, toPos.top);\n          }\n\n          add(botLeft, toPos.top, botRight - botLeft, toPos.bottom);\n        }\n\n        if (!start || cmpCoords(fromPos, start) < 0) {\n          start = fromPos;\n        }\n\n        if (cmpCoords(toPos, start) < 0) {\n          start = toPos;\n        }\n\n        if (!end || cmpCoords(fromPos, end) < 0) {\n          end = fromPos;\n        }\n\n        if (cmpCoords(toPos, end) < 0) {\n          end = toPos;\n        }\n      });\n      return {\n        start: start,\n        end: end\n      };\n    }\n\n    var sFrom = range.from(),\n        sTo = range.to();\n\n    if (sFrom.line == sTo.line) {\n      drawForLine(sFrom.line, sFrom.ch, sTo.ch);\n    } else {\n      var fromLine = getLine(doc, sFrom.line),\n          toLine = getLine(doc, sTo.line);\n      var singleVLine = visualLine(fromLine) == visualLine(toLine);\n      var leftEnd = drawForLine(sFrom.line, sFrom.ch, singleVLine ? fromLine.text.length + 1 : null).end;\n      var rightStart = drawForLine(sTo.line, singleVLine ? 0 : null, sTo.ch).start;\n\n      if (singleVLine) {\n        if (leftEnd.top < rightStart.top - 2) {\n          add(leftEnd.right, leftEnd.top, null, leftEnd.bottom);\n          add(leftSide, rightStart.top, rightStart.left, rightStart.bottom);\n        } else {\n          add(leftEnd.right, leftEnd.top, rightStart.left - leftEnd.right, leftEnd.bottom);\n        }\n      }\n\n      if (leftEnd.bottom < rightStart.top) {\n        add(leftSide, leftEnd.bottom, null, rightStart.top);\n      }\n    }\n\n    output.appendChild(fragment);\n  } // Cursor-blinking\n\n\n  function restartBlink(cm) {\n    if (!cm.state.focused) {\n      return;\n    }\n\n    var display = cm.display;\n    clearInterval(display.blinker);\n    var on = true;\n    display.cursorDiv.style.visibility = \"\";\n\n    if (cm.options.cursorBlinkRate > 0) {\n      display.blinker = setInterval(function () {\n        return display.cursorDiv.style.visibility = (on = !on) ? \"\" : \"hidden\";\n      }, cm.options.cursorBlinkRate);\n    } else if (cm.options.cursorBlinkRate < 0) {\n      display.cursorDiv.style.visibility = \"hidden\";\n    }\n  }\n\n  function ensureFocus(cm) {\n    if (!cm.state.focused) {\n      cm.display.input.focus();\n      onFocus(cm);\n    }\n  }\n\n  function delayBlurEvent(cm) {\n    cm.state.delayingBlurEvent = true;\n    setTimeout(function () {\n      if (cm.state.delayingBlurEvent) {\n        cm.state.delayingBlurEvent = false;\n        onBlur(cm);\n      }\n    }, 100);\n  }\n\n  function onFocus(cm, e) {\n    if (cm.state.delayingBlurEvent) {\n      cm.state.delayingBlurEvent = false;\n    }\n\n    if (cm.options.readOnly == \"nocursor\") {\n      return;\n    }\n\n    if (!cm.state.focused) {\n      signal(cm, \"focus\", cm, e);\n      cm.state.focused = true;\n      addClass(cm.display.wrapper, \"CodeMirror-focused\"); // This test prevents this from firing when a context\n      // menu is closed (since the input reset would kill the\n      // select-all detection hack)\n\n      if (!cm.curOp && cm.display.selForContextMenu != cm.doc.sel) {\n        cm.display.input.reset();\n\n        if (webkit) {\n          setTimeout(function () {\n            return cm.display.input.reset(true);\n          }, 20);\n        } // Issue #1730\n\n      }\n\n      cm.display.input.receivedFocus();\n    }\n\n    restartBlink(cm);\n  }\n\n  function onBlur(cm, e) {\n    if (cm.state.delayingBlurEvent) {\n      return;\n    }\n\n    if (cm.state.focused) {\n      signal(cm, \"blur\", cm, e);\n      cm.state.focused = false;\n      rmClass(cm.display.wrapper, \"CodeMirror-focused\");\n    }\n\n    clearInterval(cm.display.blinker);\n    setTimeout(function () {\n      if (!cm.state.focused) {\n        cm.display.shift = false;\n      }\n    }, 150);\n  } // Read the actual heights of the rendered lines, and update their\n  // stored heights to match.\n\n\n  function updateHeightsInViewport(cm) {\n    var display = cm.display;\n    var prevBottom = display.lineDiv.offsetTop;\n\n    for (var i = 0; i < display.view.length; i++) {\n      var cur = display.view[i],\n          wrapping = cm.options.lineWrapping;\n      var height = void 0,\n          width = 0;\n\n      if (cur.hidden) {\n        continue;\n      }\n\n      if (ie && ie_version < 8) {\n        var bot = cur.node.offsetTop + cur.node.offsetHeight;\n        height = bot - prevBottom;\n        prevBottom = bot;\n      } else {\n        var box = cur.node.getBoundingClientRect();\n        height = box.bottom - box.top; // Check that lines don't extend past the right of the current\n        // editor width\n\n        if (!wrapping && cur.text.firstChild) {\n          width = cur.text.firstChild.getBoundingClientRect().right - box.left - 1;\n        }\n      }\n\n      var diff = cur.line.height - height;\n\n      if (diff > .005 || diff < -.005) {\n        updateLineHeight(cur.line, height);\n        updateWidgetHeight(cur.line);\n\n        if (cur.rest) {\n          for (var j = 0; j < cur.rest.length; j++) {\n            updateWidgetHeight(cur.rest[j]);\n          }\n        }\n      }\n\n      if (width > cm.display.sizerWidth) {\n        var chWidth = Math.ceil(width / charWidth(cm.display));\n\n        if (chWidth > cm.display.maxLineLength) {\n          cm.display.maxLineLength = chWidth;\n          cm.display.maxLine = cur.line;\n          cm.display.maxLineChanged = true;\n        }\n      }\n    }\n  } // Read and store the height of line widgets associated with the\n  // given line.\n\n\n  function updateWidgetHeight(line) {\n    if (line.widgets) {\n      for (var i = 0; i < line.widgets.length; ++i) {\n        var w = line.widgets[i],\n            parent = w.node.parentNode;\n\n        if (parent) {\n          w.height = parent.offsetHeight;\n        }\n      }\n    }\n  } // Compute the lines that are visible in a given viewport (defaults\n  // the the current scroll position). viewport may contain top,\n  // height, and ensure (see op.scrollToPos) properties.\n\n\n  function visibleLines(display, doc, viewport) {\n    var top = viewport && viewport.top != null ? Math.max(0, viewport.top) : display.scroller.scrollTop;\n    top = Math.floor(top - paddingTop(display));\n    var bottom = viewport && viewport.bottom != null ? viewport.bottom : top + display.wrapper.clientHeight;\n    var from = lineAtHeight(doc, top),\n        to = lineAtHeight(doc, bottom); // Ensure is a {from: {line, ch}, to: {line, ch}} object, and\n    // forces those lines into the viewport (if possible).\n\n    if (viewport && viewport.ensure) {\n      var ensureFrom = viewport.ensure.from.line,\n          ensureTo = viewport.ensure.to.line;\n\n      if (ensureFrom < from) {\n        from = ensureFrom;\n        to = lineAtHeight(doc, heightAtLine(getLine(doc, ensureFrom)) + display.wrapper.clientHeight);\n      } else if (Math.min(ensureTo, doc.lastLine()) >= to) {\n        from = lineAtHeight(doc, heightAtLine(getLine(doc, ensureTo)) - display.wrapper.clientHeight);\n        to = ensureTo;\n      }\n    }\n\n    return {\n      from: from,\n      to: Math.max(to, from + 1)\n    };\n  } // SCROLLING THINGS INTO VIEW\n  // If an editor sits on the top or bottom of the window, partially\n  // scrolled out of view, this ensures that the cursor is visible.\n\n\n  function maybeScrollWindow(cm, rect) {\n    if (signalDOMEvent(cm, \"scrollCursorIntoView\")) {\n      return;\n    }\n\n    var display = cm.display,\n        box = display.sizer.getBoundingClientRect(),\n        doScroll = null;\n\n    if (rect.top + box.top < 0) {\n      doScroll = true;\n    } else if (rect.bottom + box.top > (window.innerHeight || document.documentElement.clientHeight)) {\n      doScroll = false;\n    }\n\n    if (doScroll != null && !phantom) {\n      var scrollNode = elt(\"div\", \"\\u200b\", null, \"position: absolute;\\n                         top: \" + (rect.top - display.viewOffset - paddingTop(cm.display)) + \"px;\\n                         height: \" + (rect.bottom - rect.top + scrollGap(cm) + display.barHeight) + \"px;\\n                         left: \" + rect.left + \"px; width: \" + Math.max(2, rect.right - rect.left) + \"px;\");\n      cm.display.lineSpace.appendChild(scrollNode);\n      scrollNode.scrollIntoView(doScroll);\n      cm.display.lineSpace.removeChild(scrollNode);\n    }\n  } // Scroll a given position into view (immediately), verifying that\n  // it actually became visible (as line heights are accurately\n  // measured, the position of something may 'drift' during drawing).\n\n\n  function scrollPosIntoView(cm, pos, end, margin) {\n    if (margin == null) {\n      margin = 0;\n    }\n\n    var rect;\n\n    if (!cm.options.lineWrapping && pos == end) {\n      // Set pos and end to the cursor positions around the character pos sticks to\n      // If pos.sticky == \"before\", that is around pos.ch - 1, otherwise around pos.ch\n      // If pos == Pos(_, 0, \"before\"), pos and end are unchanged\n      pos = pos.ch ? Pos(pos.line, pos.sticky == \"before\" ? pos.ch - 1 : pos.ch, \"after\") : pos;\n      end = pos.sticky == \"before\" ? Pos(pos.line, pos.ch + 1, \"before\") : pos;\n    }\n\n    for (var limit = 0; limit < 5; limit++) {\n      var changed = false;\n      var coords = cursorCoords(cm, pos);\n      var endCoords = !end || end == pos ? coords : cursorCoords(cm, end);\n      rect = {\n        left: Math.min(coords.left, endCoords.left),\n        top: Math.min(coords.top, endCoords.top) - margin,\n        right: Math.max(coords.left, endCoords.left),\n        bottom: Math.max(coords.bottom, endCoords.bottom) + margin\n      };\n      var scrollPos = calculateScrollPos(cm, rect);\n      var startTop = cm.doc.scrollTop,\n          startLeft = cm.doc.scrollLeft;\n\n      if (scrollPos.scrollTop != null) {\n        updateScrollTop(cm, scrollPos.scrollTop);\n\n        if (Math.abs(cm.doc.scrollTop - startTop) > 1) {\n          changed = true;\n        }\n      }\n\n      if (scrollPos.scrollLeft != null) {\n        setScrollLeft(cm, scrollPos.scrollLeft);\n\n        if (Math.abs(cm.doc.scrollLeft - startLeft) > 1) {\n          changed = true;\n        }\n      }\n\n      if (!changed) {\n        break;\n      }\n    }\n\n    return rect;\n  } // Scroll a given set of coordinates into view (immediately).\n\n\n  function scrollIntoView(cm, rect) {\n    var scrollPos = calculateScrollPos(cm, rect);\n\n    if (scrollPos.scrollTop != null) {\n      updateScrollTop(cm, scrollPos.scrollTop);\n    }\n\n    if (scrollPos.scrollLeft != null) {\n      setScrollLeft(cm, scrollPos.scrollLeft);\n    }\n  } // Calculate a new scroll position needed to scroll the given\n  // rectangle into view. Returns an object with scrollTop and\n  // scrollLeft properties. When these are undefined, the\n  // vertical/horizontal position does not need to be adjusted.\n\n\n  function calculateScrollPos(cm, rect) {\n    var display = cm.display,\n        snapMargin = textHeight(cm.display);\n\n    if (rect.top < 0) {\n      rect.top = 0;\n    }\n\n    var screentop = cm.curOp && cm.curOp.scrollTop != null ? cm.curOp.scrollTop : display.scroller.scrollTop;\n    var screen = displayHeight(cm),\n        result = {};\n\n    if (rect.bottom - rect.top > screen) {\n      rect.bottom = rect.top + screen;\n    }\n\n    var docBottom = cm.doc.height + paddingVert(display);\n    var atTop = rect.top < snapMargin,\n        atBottom = rect.bottom > docBottom - snapMargin;\n\n    if (rect.top < screentop) {\n      result.scrollTop = atTop ? 0 : rect.top;\n    } else if (rect.bottom > screentop + screen) {\n      var newTop = Math.min(rect.top, (atBottom ? docBottom : rect.bottom) - screen);\n\n      if (newTop != screentop) {\n        result.scrollTop = newTop;\n      }\n    }\n\n    var screenleft = cm.curOp && cm.curOp.scrollLeft != null ? cm.curOp.scrollLeft : display.scroller.scrollLeft;\n    var screenw = displayWidth(cm) - (cm.options.fixedGutter ? display.gutters.offsetWidth : 0);\n    var tooWide = rect.right - rect.left > screenw;\n\n    if (tooWide) {\n      rect.right = rect.left + screenw;\n    }\n\n    if (rect.left < 10) {\n      result.scrollLeft = 0;\n    } else if (rect.left < screenleft) {\n      result.scrollLeft = Math.max(0, rect.left - (tooWide ? 0 : 10));\n    } else if (rect.right > screenw + screenleft - 3) {\n      result.scrollLeft = rect.right + (tooWide ? 0 : 10) - screenw;\n    }\n\n    return result;\n  } // Store a relative adjustment to the scroll position in the current\n  // operation (to be applied when the operation finishes).\n\n\n  function addToScrollTop(cm, top) {\n    if (top == null) {\n      return;\n    }\n\n    resolveScrollToPos(cm);\n    cm.curOp.scrollTop = (cm.curOp.scrollTop == null ? cm.doc.scrollTop : cm.curOp.scrollTop) + top;\n  } // Make sure that at the end of the operation the current cursor is\n  // shown.\n\n\n  function ensureCursorVisible(cm) {\n    resolveScrollToPos(cm);\n    var cur = cm.getCursor();\n    cm.curOp.scrollToPos = {\n      from: cur,\n      to: cur,\n      margin: cm.options.cursorScrollMargin\n    };\n  }\n\n  function scrollToCoords(cm, x, y) {\n    if (x != null || y != null) {\n      resolveScrollToPos(cm);\n    }\n\n    if (x != null) {\n      cm.curOp.scrollLeft = x;\n    }\n\n    if (y != null) {\n      cm.curOp.scrollTop = y;\n    }\n  }\n\n  function scrollToRange(cm, range) {\n    resolveScrollToPos(cm);\n    cm.curOp.scrollToPos = range;\n  } // When an operation has its scrollToPos property set, and another\n  // scroll action is applied before the end of the operation, this\n  // 'simulates' scrolling that position into view in a cheap way, so\n  // that the effect of intermediate scroll commands is not ignored.\n\n\n  function resolveScrollToPos(cm) {\n    var range = cm.curOp.scrollToPos;\n\n    if (range) {\n      cm.curOp.scrollToPos = null;\n      var from = estimateCoords(cm, range.from),\n          to = estimateCoords(cm, range.to);\n      scrollToCoordsRange(cm, from, to, range.margin);\n    }\n  }\n\n  function scrollToCoordsRange(cm, from, to, margin) {\n    var sPos = calculateScrollPos(cm, {\n      left: Math.min(from.left, to.left),\n      top: Math.min(from.top, to.top) - margin,\n      right: Math.max(from.right, to.right),\n      bottom: Math.max(from.bottom, to.bottom) + margin\n    });\n    scrollToCoords(cm, sPos.scrollLeft, sPos.scrollTop);\n  } // Sync the scrollable area and scrollbars, ensure the viewport\n  // covers the visible area.\n\n\n  function updateScrollTop(cm, val) {\n    if (Math.abs(cm.doc.scrollTop - val) < 2) {\n      return;\n    }\n\n    if (!gecko) {\n      updateDisplaySimple(cm, {\n        top: val\n      });\n    }\n\n    setScrollTop(cm, val, true);\n\n    if (gecko) {\n      updateDisplaySimple(cm);\n    }\n\n    startWorker(cm, 100);\n  }\n\n  function setScrollTop(cm, val, forceScroll) {\n    val = Math.max(0, Math.min(cm.display.scroller.scrollHeight - cm.display.scroller.clientHeight, val));\n\n    if (cm.display.scroller.scrollTop == val && !forceScroll) {\n      return;\n    }\n\n    cm.doc.scrollTop = val;\n    cm.display.scrollbars.setScrollTop(val);\n\n    if (cm.display.scroller.scrollTop != val) {\n      cm.display.scroller.scrollTop = val;\n    }\n  } // Sync scroller and scrollbar, ensure the gutter elements are\n  // aligned.\n\n\n  function setScrollLeft(cm, val, isScroller, forceScroll) {\n    val = Math.max(0, Math.min(val, cm.display.scroller.scrollWidth - cm.display.scroller.clientWidth));\n\n    if ((isScroller ? val == cm.doc.scrollLeft : Math.abs(cm.doc.scrollLeft - val) < 2) && !forceScroll) {\n      return;\n    }\n\n    cm.doc.scrollLeft = val;\n    alignHorizontally(cm);\n\n    if (cm.display.scroller.scrollLeft != val) {\n      cm.display.scroller.scrollLeft = val;\n    }\n\n    cm.display.scrollbars.setScrollLeft(val);\n  } // SCROLLBARS\n  // Prepare DOM reads needed to update the scrollbars. Done in one\n  // shot to minimize update/measure roundtrips.\n\n\n  function measureForScrollbars(cm) {\n    var d = cm.display,\n        gutterW = d.gutters.offsetWidth;\n    var docH = Math.round(cm.doc.height + paddingVert(cm.display));\n    return {\n      clientHeight: d.scroller.clientHeight,\n      viewHeight: d.wrapper.clientHeight,\n      scrollWidth: d.scroller.scrollWidth,\n      clientWidth: d.scroller.clientWidth,\n      viewWidth: d.wrapper.clientWidth,\n      barLeft: cm.options.fixedGutter ? gutterW : 0,\n      docHeight: docH,\n      scrollHeight: docH + scrollGap(cm) + d.barHeight,\n      nativeBarWidth: d.nativeBarWidth,\n      gutterWidth: gutterW\n    };\n  }\n\n  var NativeScrollbars = function (place, scroll, cm) {\n    this.cm = cm;\n    var vert = this.vert = elt(\"div\", [elt(\"div\", null, null, \"min-width: 1px\")], \"CodeMirror-vscrollbar\");\n    var horiz = this.horiz = elt(\"div\", [elt(\"div\", null, null, \"height: 100%; min-height: 1px\")], \"CodeMirror-hscrollbar\");\n    vert.tabIndex = horiz.tabIndex = -1;\n    place(vert);\n    place(horiz);\n    on(vert, \"scroll\", function () {\n      if (vert.clientHeight) {\n        scroll(vert.scrollTop, \"vertical\");\n      }\n    });\n    on(horiz, \"scroll\", function () {\n      if (horiz.clientWidth) {\n        scroll(horiz.scrollLeft, \"horizontal\");\n      }\n    });\n    this.checkedZeroWidth = false; // Need to set a minimum width to see the scrollbar on IE7 (but must not set it on IE8).\n\n    if (ie && ie_version < 8) {\n      this.horiz.style.minHeight = this.vert.style.minWidth = \"18px\";\n    }\n  };\n\n  NativeScrollbars.prototype.update = function (measure) {\n    var needsH = measure.scrollWidth > measure.clientWidth + 1;\n    var needsV = measure.scrollHeight > measure.clientHeight + 1;\n    var sWidth = measure.nativeBarWidth;\n\n    if (needsV) {\n      this.vert.style.display = \"block\";\n      this.vert.style.bottom = needsH ? sWidth + \"px\" : \"0\";\n      var totalHeight = measure.viewHeight - (needsH ? sWidth : 0); // A bug in IE8 can cause this value to be negative, so guard it.\n\n      this.vert.firstChild.style.height = Math.max(0, measure.scrollHeight - measure.clientHeight + totalHeight) + \"px\";\n    } else {\n      this.vert.style.display = \"\";\n      this.vert.firstChild.style.height = \"0\";\n    }\n\n    if (needsH) {\n      this.horiz.style.display = \"block\";\n      this.horiz.style.right = needsV ? sWidth + \"px\" : \"0\";\n      this.horiz.style.left = measure.barLeft + \"px\";\n      var totalWidth = measure.viewWidth - measure.barLeft - (needsV ? sWidth : 0);\n      this.horiz.firstChild.style.width = Math.max(0, measure.scrollWidth - measure.clientWidth + totalWidth) + \"px\";\n    } else {\n      this.horiz.style.display = \"\";\n      this.horiz.firstChild.style.width = \"0\";\n    }\n\n    if (!this.checkedZeroWidth && measure.clientHeight > 0) {\n      if (sWidth == 0) {\n        this.zeroWidthHack();\n      }\n\n      this.checkedZeroWidth = true;\n    }\n\n    return {\n      right: needsV ? sWidth : 0,\n      bottom: needsH ? sWidth : 0\n    };\n  };\n\n  NativeScrollbars.prototype.setScrollLeft = function (pos) {\n    if (this.horiz.scrollLeft != pos) {\n      this.horiz.scrollLeft = pos;\n    }\n\n    if (this.disableHoriz) {\n      this.enableZeroWidthBar(this.horiz, this.disableHoriz, \"horiz\");\n    }\n  };\n\n  NativeScrollbars.prototype.setScrollTop = function (pos) {\n    if (this.vert.scrollTop != pos) {\n      this.vert.scrollTop = pos;\n    }\n\n    if (this.disableVert) {\n      this.enableZeroWidthBar(this.vert, this.disableVert, \"vert\");\n    }\n  };\n\n  NativeScrollbars.prototype.zeroWidthHack = function () {\n    var w = mac && !mac_geMountainLion ? \"12px\" : \"18px\";\n    this.horiz.style.height = this.vert.style.width = w;\n    this.horiz.style.pointerEvents = this.vert.style.pointerEvents = \"none\";\n    this.disableHoriz = new Delayed();\n    this.disableVert = new Delayed();\n  };\n\n  NativeScrollbars.prototype.enableZeroWidthBar = function (bar, delay, type) {\n    bar.style.pointerEvents = \"auto\";\n\n    function maybeDisable() {\n      // To find out whether the scrollbar is still visible, we\n      // check whether the element under the pixel in the bottom\n      // right corner of the scrollbar box is the scrollbar box\n      // itself (when the bar is still visible) or its filler child\n      // (when the bar is hidden). If it is still visible, we keep\n      // it enabled, if it's hidden, we disable pointer events.\n      var box = bar.getBoundingClientRect();\n      var elt = type == \"vert\" ? document.elementFromPoint(box.right - 1, (box.top + box.bottom) / 2) : document.elementFromPoint((box.right + box.left) / 2, box.bottom - 1);\n\n      if (elt != bar) {\n        bar.style.pointerEvents = \"none\";\n      } else {\n        delay.set(1000, maybeDisable);\n      }\n    }\n\n    delay.set(1000, maybeDisable);\n  };\n\n  NativeScrollbars.prototype.clear = function () {\n    var parent = this.horiz.parentNode;\n    parent.removeChild(this.horiz);\n    parent.removeChild(this.vert);\n  };\n\n  var NullScrollbars = function () {};\n\n  NullScrollbars.prototype.update = function () {\n    return {\n      bottom: 0,\n      right: 0\n    };\n  };\n\n  NullScrollbars.prototype.setScrollLeft = function () {};\n\n  NullScrollbars.prototype.setScrollTop = function () {};\n\n  NullScrollbars.prototype.clear = function () {};\n\n  function updateScrollbars(cm, measure) {\n    if (!measure) {\n      measure = measureForScrollbars(cm);\n    }\n\n    var startWidth = cm.display.barWidth,\n        startHeight = cm.display.barHeight;\n    updateScrollbarsInner(cm, measure);\n\n    for (var i = 0; i < 4 && startWidth != cm.display.barWidth || startHeight != cm.display.barHeight; i++) {\n      if (startWidth != cm.display.barWidth && cm.options.lineWrapping) {\n        updateHeightsInViewport(cm);\n      }\n\n      updateScrollbarsInner(cm, measureForScrollbars(cm));\n      startWidth = cm.display.barWidth;\n      startHeight = cm.display.barHeight;\n    }\n  } // Re-synchronize the fake scrollbars with the actual size of the\n  // content.\n\n\n  function updateScrollbarsInner(cm, measure) {\n    var d = cm.display;\n    var sizes = d.scrollbars.update(measure);\n    d.sizer.style.paddingRight = (d.barWidth = sizes.right) + \"px\";\n    d.sizer.style.paddingBottom = (d.barHeight = sizes.bottom) + \"px\";\n    d.heightForcer.style.borderBottom = sizes.bottom + \"px solid transparent\";\n\n    if (sizes.right && sizes.bottom) {\n      d.scrollbarFiller.style.display = \"block\";\n      d.scrollbarFiller.style.height = sizes.bottom + \"px\";\n      d.scrollbarFiller.style.width = sizes.right + \"px\";\n    } else {\n      d.scrollbarFiller.style.display = \"\";\n    }\n\n    if (sizes.bottom && cm.options.coverGutterNextToScrollbar && cm.options.fixedGutter) {\n      d.gutterFiller.style.display = \"block\";\n      d.gutterFiller.style.height = sizes.bottom + \"px\";\n      d.gutterFiller.style.width = measure.gutterWidth + \"px\";\n    } else {\n      d.gutterFiller.style.display = \"\";\n    }\n  }\n\n  var scrollbarModel = {\n    \"native\": NativeScrollbars,\n    \"null\": NullScrollbars\n  };\n\n  function initScrollbars(cm) {\n    if (cm.display.scrollbars) {\n      cm.display.scrollbars.clear();\n\n      if (cm.display.scrollbars.addClass) {\n        rmClass(cm.display.wrapper, cm.display.scrollbars.addClass);\n      }\n    }\n\n    cm.display.scrollbars = new scrollbarModel[cm.options.scrollbarStyle](function (node) {\n      cm.display.wrapper.insertBefore(node, cm.display.scrollbarFiller); // Prevent clicks in the scrollbars from killing focus\n\n      on(node, \"mousedown\", function () {\n        if (cm.state.focused) {\n          setTimeout(function () {\n            return cm.display.input.focus();\n          }, 0);\n        }\n      });\n      node.setAttribute(\"cm-not-content\", \"true\");\n    }, function (pos, axis) {\n      if (axis == \"horizontal\") {\n        setScrollLeft(cm, pos);\n      } else {\n        updateScrollTop(cm, pos);\n      }\n    }, cm);\n\n    if (cm.display.scrollbars.addClass) {\n      addClass(cm.display.wrapper, cm.display.scrollbars.addClass);\n    }\n  } // Operations are used to wrap a series of changes to the editor\n  // state in such a way that each change won't have to update the\n  // cursor and display (which would be awkward, slow, and\n  // error-prone). Instead, display updates are batched and then all\n  // combined and executed at once.\n\n\n  var nextOpId = 0; // Start a new operation.\n\n  function startOperation(cm) {\n    cm.curOp = {\n      cm: cm,\n      viewChanged: false,\n      // Flag that indicates that lines might need to be redrawn\n      startHeight: cm.doc.height,\n      // Used to detect need to update scrollbar\n      forceUpdate: false,\n      // Used to force a redraw\n      updateInput: 0,\n      // Whether to reset the input textarea\n      typing: false,\n      // Whether this reset should be careful to leave existing text (for compositing)\n      changeObjs: null,\n      // Accumulated changes, for firing change events\n      cursorActivityHandlers: null,\n      // Set of handlers to fire cursorActivity on\n      cursorActivityCalled: 0,\n      // Tracks which cursorActivity handlers have been called already\n      selectionChanged: false,\n      // Whether the selection needs to be redrawn\n      updateMaxLine: false,\n      // Set when the widest line needs to be determined anew\n      scrollLeft: null,\n      scrollTop: null,\n      // Intermediate scroll position, not pushed to DOM yet\n      scrollToPos: null,\n      // Used to scroll to a specific position\n      focus: false,\n      id: ++nextOpId // Unique ID\n\n    };\n    pushOperation(cm.curOp);\n  } // Finish an operation, updating the display and signalling delayed events\n\n\n  function endOperation(cm) {\n    var op = cm.curOp;\n\n    if (op) {\n      finishOperation(op, function (group) {\n        for (var i = 0; i < group.ops.length; i++) {\n          group.ops[i].cm.curOp = null;\n        }\n\n        endOperations(group);\n      });\n    }\n  } // The DOM updates done when an operation finishes are batched so\n  // that the minimum number of relayouts are required.\n\n\n  function endOperations(group) {\n    var ops = group.ops;\n\n    for (var i = 0; i < ops.length; i++) // Read DOM\n    {\n      endOperation_R1(ops[i]);\n    }\n\n    for (var i$1 = 0; i$1 < ops.length; i$1++) // Write DOM (maybe)\n    {\n      endOperation_W1(ops[i$1]);\n    }\n\n    for (var i$2 = 0; i$2 < ops.length; i$2++) // Read DOM\n    {\n      endOperation_R2(ops[i$2]);\n    }\n\n    for (var i$3 = 0; i$3 < ops.length; i$3++) // Write DOM (maybe)\n    {\n      endOperation_W2(ops[i$3]);\n    }\n\n    for (var i$4 = 0; i$4 < ops.length; i$4++) // Read DOM\n    {\n      endOperation_finish(ops[i$4]);\n    }\n  }\n\n  function endOperation_R1(op) {\n    var cm = op.cm,\n        display = cm.display;\n    maybeClipScrollbars(cm);\n\n    if (op.updateMaxLine) {\n      findMaxLine(cm);\n    }\n\n    op.mustUpdate = op.viewChanged || op.forceUpdate || op.scrollTop != null || op.scrollToPos && (op.scrollToPos.from.line < display.viewFrom || op.scrollToPos.to.line >= display.viewTo) || display.maxLineChanged && cm.options.lineWrapping;\n    op.update = op.mustUpdate && new DisplayUpdate(cm, op.mustUpdate && {\n      top: op.scrollTop,\n      ensure: op.scrollToPos\n    }, op.forceUpdate);\n  }\n\n  function endOperation_W1(op) {\n    op.updatedDisplay = op.mustUpdate && updateDisplayIfNeeded(op.cm, op.update);\n  }\n\n  function endOperation_R2(op) {\n    var cm = op.cm,\n        display = cm.display;\n\n    if (op.updatedDisplay) {\n      updateHeightsInViewport(cm);\n    }\n\n    op.barMeasure = measureForScrollbars(cm); // If the max line changed since it was last measured, measure it,\n    // and ensure the document's width matches it.\n    // updateDisplay_W2 will use these properties to do the actual resizing\n\n    if (display.maxLineChanged && !cm.options.lineWrapping) {\n      op.adjustWidthTo = measureChar(cm, display.maxLine, display.maxLine.text.length).left + 3;\n      cm.display.sizerWidth = op.adjustWidthTo;\n      op.barMeasure.scrollWidth = Math.max(display.scroller.clientWidth, display.sizer.offsetLeft + op.adjustWidthTo + scrollGap(cm) + cm.display.barWidth);\n      op.maxScrollLeft = Math.max(0, display.sizer.offsetLeft + op.adjustWidthTo - displayWidth(cm));\n    }\n\n    if (op.updatedDisplay || op.selectionChanged) {\n      op.preparedSelection = display.input.prepareSelection();\n    }\n  }\n\n  function endOperation_W2(op) {\n    var cm = op.cm;\n\n    if (op.adjustWidthTo != null) {\n      cm.display.sizer.style.minWidth = op.adjustWidthTo + \"px\";\n\n      if (op.maxScrollLeft < cm.doc.scrollLeft) {\n        setScrollLeft(cm, Math.min(cm.display.scroller.scrollLeft, op.maxScrollLeft), true);\n      }\n\n      cm.display.maxLineChanged = false;\n    }\n\n    var takeFocus = op.focus && op.focus == activeElt();\n\n    if (op.preparedSelection) {\n      cm.display.input.showSelection(op.preparedSelection, takeFocus);\n    }\n\n    if (op.updatedDisplay || op.startHeight != cm.doc.height) {\n      updateScrollbars(cm, op.barMeasure);\n    }\n\n    if (op.updatedDisplay) {\n      setDocumentHeight(cm, op.barMeasure);\n    }\n\n    if (op.selectionChanged) {\n      restartBlink(cm);\n    }\n\n    if (cm.state.focused && op.updateInput) {\n      cm.display.input.reset(op.typing);\n    }\n\n    if (takeFocus) {\n      ensureFocus(op.cm);\n    }\n  }\n\n  function endOperation_finish(op) {\n    var cm = op.cm,\n        display = cm.display,\n        doc = cm.doc;\n\n    if (op.updatedDisplay) {\n      postUpdateDisplay(cm, op.update);\n    } // Abort mouse wheel delta measurement, when scrolling explicitly\n\n\n    if (display.wheelStartX != null && (op.scrollTop != null || op.scrollLeft != null || op.scrollToPos)) {\n      display.wheelStartX = display.wheelStartY = null;\n    } // Propagate the scroll position to the actual DOM scroller\n\n\n    if (op.scrollTop != null) {\n      setScrollTop(cm, op.scrollTop, op.forceScroll);\n    }\n\n    if (op.scrollLeft != null) {\n      setScrollLeft(cm, op.scrollLeft, true, true);\n    } // If we need to scroll a specific position into view, do so.\n\n\n    if (op.scrollToPos) {\n      var rect = scrollPosIntoView(cm, clipPos(doc, op.scrollToPos.from), clipPos(doc, op.scrollToPos.to), op.scrollToPos.margin);\n      maybeScrollWindow(cm, rect);\n    } // Fire events for markers that are hidden/unidden by editing or\n    // undoing\n\n\n    var hidden = op.maybeHiddenMarkers,\n        unhidden = op.maybeUnhiddenMarkers;\n\n    if (hidden) {\n      for (var i = 0; i < hidden.length; ++i) {\n        if (!hidden[i].lines.length) {\n          signal(hidden[i], \"hide\");\n        }\n      }\n    }\n\n    if (unhidden) {\n      for (var i$1 = 0; i$1 < unhidden.length; ++i$1) {\n        if (unhidden[i$1].lines.length) {\n          signal(unhidden[i$1], \"unhide\");\n        }\n      }\n    }\n\n    if (display.wrapper.offsetHeight) {\n      doc.scrollTop = cm.display.scroller.scrollTop;\n    } // Fire change events, and delayed event handlers\n\n\n    if (op.changeObjs) {\n      signal(cm, \"changes\", cm, op.changeObjs);\n    }\n\n    if (op.update) {\n      op.update.finish();\n    }\n  } // Run the given function in an operation\n\n\n  function runInOp(cm, f) {\n    if (cm.curOp) {\n      return f();\n    }\n\n    startOperation(cm);\n\n    try {\n      return f();\n    } finally {\n      endOperation(cm);\n    }\n  } // Wraps a function in an operation. Returns the wrapped function.\n\n\n  function operation(cm, f) {\n    return function () {\n      if (cm.curOp) {\n        return f.apply(cm, arguments);\n      }\n\n      startOperation(cm);\n\n      try {\n        return f.apply(cm, arguments);\n      } finally {\n        endOperation(cm);\n      }\n    };\n  } // Used to add methods to editor and doc instances, wrapping them in\n  // operations.\n\n\n  function methodOp(f) {\n    return function () {\n      if (this.curOp) {\n        return f.apply(this, arguments);\n      }\n\n      startOperation(this);\n\n      try {\n        return f.apply(this, arguments);\n      } finally {\n        endOperation(this);\n      }\n    };\n  }\n\n  function docMethodOp(f) {\n    return function () {\n      var cm = this.cm;\n\n      if (!cm || cm.curOp) {\n        return f.apply(this, arguments);\n      }\n\n      startOperation(cm);\n\n      try {\n        return f.apply(this, arguments);\n      } finally {\n        endOperation(cm);\n      }\n    };\n  } // HIGHLIGHT WORKER\n\n\n  function startWorker(cm, time) {\n    if (cm.doc.highlightFrontier < cm.display.viewTo) {\n      cm.state.highlight.set(time, bind(highlightWorker, cm));\n    }\n  }\n\n  function highlightWorker(cm) {\n    var doc = cm.doc;\n\n    if (doc.highlightFrontier >= cm.display.viewTo) {\n      return;\n    }\n\n    var end = +new Date() + cm.options.workTime;\n    var context = getContextBefore(cm, doc.highlightFrontier);\n    var changedLines = [];\n    doc.iter(context.line, Math.min(doc.first + doc.size, cm.display.viewTo + 500), function (line) {\n      if (context.line >= cm.display.viewFrom) {\n        // Visible\n        var oldStyles = line.styles;\n        var resetState = line.text.length > cm.options.maxHighlightLength ? copyState(doc.mode, context.state) : null;\n        var highlighted = highlightLine(cm, line, context, true);\n\n        if (resetState) {\n          context.state = resetState;\n        }\n\n        line.styles = highlighted.styles;\n        var oldCls = line.styleClasses,\n            newCls = highlighted.classes;\n\n        if (newCls) {\n          line.styleClasses = newCls;\n        } else if (oldCls) {\n          line.styleClasses = null;\n        }\n\n        var ischange = !oldStyles || oldStyles.length != line.styles.length || oldCls != newCls && (!oldCls || !newCls || oldCls.bgClass != newCls.bgClass || oldCls.textClass != newCls.textClass);\n\n        for (var i = 0; !ischange && i < oldStyles.length; ++i) {\n          ischange = oldStyles[i] != line.styles[i];\n        }\n\n        if (ischange) {\n          changedLines.push(context.line);\n        }\n\n        line.stateAfter = context.save();\n        context.nextLine();\n      } else {\n        if (line.text.length <= cm.options.maxHighlightLength) {\n          processLine(cm, line.text, context);\n        }\n\n        line.stateAfter = context.line % 5 == 0 ? context.save() : null;\n        context.nextLine();\n      }\n\n      if (+new Date() > end) {\n        startWorker(cm, cm.options.workDelay);\n        return true;\n      }\n    });\n    doc.highlightFrontier = context.line;\n    doc.modeFrontier = Math.max(doc.modeFrontier, context.line);\n\n    if (changedLines.length) {\n      runInOp(cm, function () {\n        for (var i = 0; i < changedLines.length; i++) {\n          regLineChange(cm, changedLines[i], \"text\");\n        }\n      });\n    }\n  } // DISPLAY DRAWING\n\n\n  var DisplayUpdate = function (cm, viewport, force) {\n    var display = cm.display;\n    this.viewport = viewport; // Store some values that we'll need later (but don't want to force a relayout for)\n\n    this.visible = visibleLines(display, cm.doc, viewport);\n    this.editorIsHidden = !display.wrapper.offsetWidth;\n    this.wrapperHeight = display.wrapper.clientHeight;\n    this.wrapperWidth = display.wrapper.clientWidth;\n    this.oldDisplayWidth = displayWidth(cm);\n    this.force = force;\n    this.dims = getDimensions(cm);\n    this.events = [];\n  };\n\n  DisplayUpdate.prototype.signal = function (emitter, type) {\n    if (hasHandler(emitter, type)) {\n      this.events.push(arguments);\n    }\n  };\n\n  DisplayUpdate.prototype.finish = function () {\n    for (var i = 0; i < this.events.length; i++) {\n      signal.apply(null, this.events[i]);\n    }\n  };\n\n  function maybeClipScrollbars(cm) {\n    var display = cm.display;\n\n    if (!display.scrollbarsClipped && display.scroller.offsetWidth) {\n      display.nativeBarWidth = display.scroller.offsetWidth - display.scroller.clientWidth;\n      display.heightForcer.style.height = scrollGap(cm) + \"px\";\n      display.sizer.style.marginBottom = -display.nativeBarWidth + \"px\";\n      display.sizer.style.borderRightWidth = scrollGap(cm) + \"px\";\n      display.scrollbarsClipped = true;\n    }\n  }\n\n  function selectionSnapshot(cm) {\n    if (cm.hasFocus()) {\n      return null;\n    }\n\n    var active = activeElt();\n\n    if (!active || !contains(cm.display.lineDiv, active)) {\n      return null;\n    }\n\n    var result = {\n      activeElt: active\n    };\n\n    if (window.getSelection) {\n      var sel = window.getSelection();\n\n      if (sel.anchorNode && sel.extend && contains(cm.display.lineDiv, sel.anchorNode)) {\n        result.anchorNode = sel.anchorNode;\n        result.anchorOffset = sel.anchorOffset;\n        result.focusNode = sel.focusNode;\n        result.focusOffset = sel.focusOffset;\n      }\n    }\n\n    return result;\n  }\n\n  function restoreSelection(snapshot) {\n    if (!snapshot || !snapshot.activeElt || snapshot.activeElt == activeElt()) {\n      return;\n    }\n\n    snapshot.activeElt.focus();\n\n    if (snapshot.anchorNode && contains(document.body, snapshot.anchorNode) && contains(document.body, snapshot.focusNode)) {\n      var sel = window.getSelection(),\n          range = document.createRange();\n      range.setEnd(snapshot.anchorNode, snapshot.anchorOffset);\n      range.collapse(false);\n      sel.removeAllRanges();\n      sel.addRange(range);\n      sel.extend(snapshot.focusNode, snapshot.focusOffset);\n    }\n  } // Does the actual updating of the line display. Bails out\n  // (returning false) when there is nothing to be done and forced is\n  // false.\n\n\n  function updateDisplayIfNeeded(cm, update) {\n    var display = cm.display,\n        doc = cm.doc;\n\n    if (update.editorIsHidden) {\n      resetView(cm);\n      return false;\n    } // Bail out if the visible area is already rendered and nothing changed.\n\n\n    if (!update.force && update.visible.from >= display.viewFrom && update.visible.to <= display.viewTo && (display.updateLineNumbers == null || display.updateLineNumbers >= display.viewTo) && display.renderedView == display.view && countDirtyView(cm) == 0) {\n      return false;\n    }\n\n    if (maybeUpdateLineNumberWidth(cm)) {\n      resetView(cm);\n      update.dims = getDimensions(cm);\n    } // Compute a suitable new viewport (from & to)\n\n\n    var end = doc.first + doc.size;\n    var from = Math.max(update.visible.from - cm.options.viewportMargin, doc.first);\n    var to = Math.min(end, update.visible.to + cm.options.viewportMargin);\n\n    if (display.viewFrom < from && from - display.viewFrom < 20) {\n      from = Math.max(doc.first, display.viewFrom);\n    }\n\n    if (display.viewTo > to && display.viewTo - to < 20) {\n      to = Math.min(end, display.viewTo);\n    }\n\n    if (sawCollapsedSpans) {\n      from = visualLineNo(cm.doc, from);\n      to = visualLineEndNo(cm.doc, to);\n    }\n\n    var different = from != display.viewFrom || to != display.viewTo || display.lastWrapHeight != update.wrapperHeight || display.lastWrapWidth != update.wrapperWidth;\n    adjustView(cm, from, to);\n    display.viewOffset = heightAtLine(getLine(cm.doc, display.viewFrom)); // Position the mover div to align with the current scroll position\n\n    cm.display.mover.style.top = display.viewOffset + \"px\";\n    var toUpdate = countDirtyView(cm);\n\n    if (!different && toUpdate == 0 && !update.force && display.renderedView == display.view && (display.updateLineNumbers == null || display.updateLineNumbers >= display.viewTo)) {\n      return false;\n    } // For big changes, we hide the enclosing element during the\n    // update, since that speeds up the operations on most browsers.\n\n\n    var selSnapshot = selectionSnapshot(cm);\n\n    if (toUpdate > 4) {\n      display.lineDiv.style.display = \"none\";\n    }\n\n    patchDisplay(cm, display.updateLineNumbers, update.dims);\n\n    if (toUpdate > 4) {\n      display.lineDiv.style.display = \"\";\n    }\n\n    display.renderedView = display.view; // There might have been a widget with a focused element that got\n    // hidden or updated, if so re-focus it.\n\n    restoreSelection(selSnapshot); // Prevent selection and cursors from interfering with the scroll\n    // width and height.\n\n    removeChildren(display.cursorDiv);\n    removeChildren(display.selectionDiv);\n    display.gutters.style.height = display.sizer.style.minHeight = 0;\n\n    if (different) {\n      display.lastWrapHeight = update.wrapperHeight;\n      display.lastWrapWidth = update.wrapperWidth;\n      startWorker(cm, 400);\n    }\n\n    display.updateLineNumbers = null;\n    return true;\n  }\n\n  function postUpdateDisplay(cm, update) {\n    var viewport = update.viewport;\n\n    for (var first = true;; first = false) {\n      if (!first || !cm.options.lineWrapping || update.oldDisplayWidth == displayWidth(cm)) {\n        // Clip forced viewport to actual scrollable area.\n        if (viewport && viewport.top != null) {\n          viewport = {\n            top: Math.min(cm.doc.height + paddingVert(cm.display) - displayHeight(cm), viewport.top)\n          };\n        } // Updated line heights might result in the drawn area not\n        // actually covering the viewport. Keep looping until it does.\n\n\n        update.visible = visibleLines(cm.display, cm.doc, viewport);\n\n        if (update.visible.from >= cm.display.viewFrom && update.visible.to <= cm.display.viewTo) {\n          break;\n        }\n      } else if (first) {\n        update.visible = visibleLines(cm.display, cm.doc, viewport);\n      }\n\n      if (!updateDisplayIfNeeded(cm, update)) {\n        break;\n      }\n\n      updateHeightsInViewport(cm);\n      var barMeasure = measureForScrollbars(cm);\n      updateSelection(cm);\n      updateScrollbars(cm, barMeasure);\n      setDocumentHeight(cm, barMeasure);\n      update.force = false;\n    }\n\n    update.signal(cm, \"update\", cm);\n\n    if (cm.display.viewFrom != cm.display.reportedViewFrom || cm.display.viewTo != cm.display.reportedViewTo) {\n      update.signal(cm, \"viewportChange\", cm, cm.display.viewFrom, cm.display.viewTo);\n      cm.display.reportedViewFrom = cm.display.viewFrom;\n      cm.display.reportedViewTo = cm.display.viewTo;\n    }\n  }\n\n  function updateDisplaySimple(cm, viewport) {\n    var update = new DisplayUpdate(cm, viewport);\n\n    if (updateDisplayIfNeeded(cm, update)) {\n      updateHeightsInViewport(cm);\n      postUpdateDisplay(cm, update);\n      var barMeasure = measureForScrollbars(cm);\n      updateSelection(cm);\n      updateScrollbars(cm, barMeasure);\n      setDocumentHeight(cm, barMeasure);\n      update.finish();\n    }\n  } // Sync the actual display DOM structure with display.view, removing\n  // nodes for lines that are no longer in view, and creating the ones\n  // that are not there yet, and updating the ones that are out of\n  // date.\n\n\n  function patchDisplay(cm, updateNumbersFrom, dims) {\n    var display = cm.display,\n        lineNumbers = cm.options.lineNumbers;\n    var container = display.lineDiv,\n        cur = container.firstChild;\n\n    function rm(node) {\n      var next = node.nextSibling; // Works around a throw-scroll bug in OS X Webkit\n\n      if (webkit && mac && cm.display.currentWheelTarget == node) {\n        node.style.display = \"none\";\n      } else {\n        node.parentNode.removeChild(node);\n      }\n\n      return next;\n    }\n\n    var view = display.view,\n        lineN = display.viewFrom; // Loop over the elements in the view, syncing cur (the DOM nodes\n    // in display.lineDiv) with the view as we go.\n\n    for (var i = 0; i < view.length; i++) {\n      var lineView = view[i];\n      if (lineView.hidden) ;else if (!lineView.node || lineView.node.parentNode != container) {\n        // Not drawn yet\n        var node = buildLineElement(cm, lineView, lineN, dims);\n        container.insertBefore(node, cur);\n      } else {\n        // Already drawn\n        while (cur != lineView.node) {\n          cur = rm(cur);\n        }\n\n        var updateNumber = lineNumbers && updateNumbersFrom != null && updateNumbersFrom <= lineN && lineView.lineNumber;\n\n        if (lineView.changes) {\n          if (indexOf(lineView.changes, \"gutter\") > -1) {\n            updateNumber = false;\n          }\n\n          updateLineForChanges(cm, lineView, lineN, dims);\n        }\n\n        if (updateNumber) {\n          removeChildren(lineView.lineNumber);\n          lineView.lineNumber.appendChild(document.createTextNode(lineNumberFor(cm.options, lineN)));\n        }\n\n        cur = lineView.node.nextSibling;\n      }\n      lineN += lineView.size;\n    }\n\n    while (cur) {\n      cur = rm(cur);\n    }\n  }\n\n  function updateGutterSpace(display) {\n    var width = display.gutters.offsetWidth;\n    display.sizer.style.marginLeft = width + \"px\";\n  }\n\n  function setDocumentHeight(cm, measure) {\n    cm.display.sizer.style.minHeight = measure.docHeight + \"px\";\n    cm.display.heightForcer.style.top = measure.docHeight + \"px\";\n    cm.display.gutters.style.height = measure.docHeight + cm.display.barHeight + scrollGap(cm) + \"px\";\n  } // Re-align line numbers and gutter marks to compensate for\n  // horizontal scrolling.\n\n\n  function alignHorizontally(cm) {\n    var display = cm.display,\n        view = display.view;\n\n    if (!display.alignWidgets && (!display.gutters.firstChild || !cm.options.fixedGutter)) {\n      return;\n    }\n\n    var comp = compensateForHScroll(display) - display.scroller.scrollLeft + cm.doc.scrollLeft;\n    var gutterW = display.gutters.offsetWidth,\n        left = comp + \"px\";\n\n    for (var i = 0; i < view.length; i++) {\n      if (!view[i].hidden) {\n        if (cm.options.fixedGutter) {\n          if (view[i].gutter) {\n            view[i].gutter.style.left = left;\n          }\n\n          if (view[i].gutterBackground) {\n            view[i].gutterBackground.style.left = left;\n          }\n        }\n\n        var align = view[i].alignable;\n\n        if (align) {\n          for (var j = 0; j < align.length; j++) {\n            align[j].style.left = left;\n          }\n        }\n      }\n    }\n\n    if (cm.options.fixedGutter) {\n      display.gutters.style.left = comp + gutterW + \"px\";\n    }\n  } // Used to ensure that the line number gutter is still the right\n  // size for the current document size. Returns true when an update\n  // is needed.\n\n\n  function maybeUpdateLineNumberWidth(cm) {\n    if (!cm.options.lineNumbers) {\n      return false;\n    }\n\n    var doc = cm.doc,\n        last = lineNumberFor(cm.options, doc.first + doc.size - 1),\n        display = cm.display;\n\n    if (last.length != display.lineNumChars) {\n      var test = display.measure.appendChild(elt(\"div\", [elt(\"div\", last)], \"CodeMirror-linenumber CodeMirror-gutter-elt\"));\n      var innerW = test.firstChild.offsetWidth,\n          padding = test.offsetWidth - innerW;\n      display.lineGutter.style.width = \"\";\n      display.lineNumInnerWidth = Math.max(innerW, display.lineGutter.offsetWidth - padding) + 1;\n      display.lineNumWidth = display.lineNumInnerWidth + padding;\n      display.lineNumChars = display.lineNumInnerWidth ? last.length : -1;\n      display.lineGutter.style.width = display.lineNumWidth + \"px\";\n      updateGutterSpace(cm.display);\n      return true;\n    }\n\n    return false;\n  }\n\n  function getGutters(gutters, lineNumbers) {\n    var result = [],\n        sawLineNumbers = false;\n\n    for (var i = 0; i < gutters.length; i++) {\n      var name = gutters[i],\n          style = null;\n\n      if (typeof name != \"string\") {\n        style = name.style;\n        name = name.className;\n      }\n\n      if (name == \"CodeMirror-linenumbers\") {\n        if (!lineNumbers) {\n          continue;\n        } else {\n          sawLineNumbers = true;\n        }\n      }\n\n      result.push({\n        className: name,\n        style: style\n      });\n    }\n\n    if (lineNumbers && !sawLineNumbers) {\n      result.push({\n        className: \"CodeMirror-linenumbers\",\n        style: null\n      });\n    }\n\n    return result;\n  } // Rebuild the gutter elements, ensure the margin to the left of the\n  // code matches their width.\n\n\n  function renderGutters(display) {\n    var gutters = display.gutters,\n        specs = display.gutterSpecs;\n    removeChildren(gutters);\n    display.lineGutter = null;\n\n    for (var i = 0; i < specs.length; ++i) {\n      var ref = specs[i];\n      var className = ref.className;\n      var style = ref.style;\n      var gElt = gutters.appendChild(elt(\"div\", null, \"CodeMirror-gutter \" + className));\n\n      if (style) {\n        gElt.style.cssText = style;\n      }\n\n      if (className == \"CodeMirror-linenumbers\") {\n        display.lineGutter = gElt;\n        gElt.style.width = (display.lineNumWidth || 1) + \"px\";\n      }\n    }\n\n    gutters.style.display = specs.length ? \"\" : \"none\";\n    updateGutterSpace(display);\n  }\n\n  function updateGutters(cm) {\n    renderGutters(cm.display);\n    regChange(cm);\n    alignHorizontally(cm);\n  } // The display handles the DOM integration, both for input reading\n  // and content drawing. It holds references to DOM nodes and\n  // display-related state.\n\n\n  function Display(place, doc, input, options) {\n    var d = this;\n    this.input = input; // Covers bottom-right square when both scrollbars are present.\n\n    d.scrollbarFiller = elt(\"div\", null, \"CodeMirror-scrollbar-filler\");\n    d.scrollbarFiller.setAttribute(\"cm-not-content\", \"true\"); // Covers bottom of gutter when coverGutterNextToScrollbar is on\n    // and h scrollbar is present.\n\n    d.gutterFiller = elt(\"div\", null, \"CodeMirror-gutter-filler\");\n    d.gutterFiller.setAttribute(\"cm-not-content\", \"true\"); // Will contain the actual code, positioned to cover the viewport.\n\n    d.lineDiv = eltP(\"div\", null, \"CodeMirror-code\"); // Elements are added to these to represent selection and cursors.\n\n    d.selectionDiv = elt(\"div\", null, null, \"position: relative; z-index: 1\");\n    d.cursorDiv = elt(\"div\", null, \"CodeMirror-cursors\"); // A visibility: hidden element used to find the size of things.\n\n    d.measure = elt(\"div\", null, \"CodeMirror-measure\"); // When lines outside of the viewport are measured, they are drawn in this.\n\n    d.lineMeasure = elt(\"div\", null, \"CodeMirror-measure\"); // Wraps everything that needs to exist inside the vertically-padded coordinate system\n\n    d.lineSpace = eltP(\"div\", [d.measure, d.lineMeasure, d.selectionDiv, d.cursorDiv, d.lineDiv], null, \"position: relative; outline: none\");\n    var lines = eltP(\"div\", [d.lineSpace], \"CodeMirror-lines\"); // Moved around its parent to cover visible view.\n\n    d.mover = elt(\"div\", [lines], null, \"position: relative\"); // Set to the height of the document, allowing scrolling.\n\n    d.sizer = elt(\"div\", [d.mover], \"CodeMirror-sizer\");\n    d.sizerWidth = null; // Behavior of elts with overflow: auto and padding is\n    // inconsistent across browsers. This is used to ensure the\n    // scrollable area is big enough.\n\n    d.heightForcer = elt(\"div\", null, null, \"position: absolute; height: \" + scrollerGap + \"px; width: 1px;\"); // Will contain the gutters, if any.\n\n    d.gutters = elt(\"div\", null, \"CodeMirror-gutters\");\n    d.lineGutter = null; // Actual scrollable element.\n\n    d.scroller = elt(\"div\", [d.sizer, d.heightForcer, d.gutters], \"CodeMirror-scroll\");\n    d.scroller.setAttribute(\"tabIndex\", \"-1\"); // The element in which the editor lives.\n\n    d.wrapper = elt(\"div\", [d.scrollbarFiller, d.gutterFiller, d.scroller], \"CodeMirror\"); // Work around IE7 z-index bug (not perfect, hence IE7 not really being supported)\n\n    if (ie && ie_version < 8) {\n      d.gutters.style.zIndex = -1;\n      d.scroller.style.paddingRight = 0;\n    }\n\n    if (!webkit && !(gecko && mobile)) {\n      d.scroller.draggable = true;\n    }\n\n    if (place) {\n      if (place.appendChild) {\n        place.appendChild(d.wrapper);\n      } else {\n        place(d.wrapper);\n      }\n    } // Current rendered range (may be bigger than the view window).\n\n\n    d.viewFrom = d.viewTo = doc.first;\n    d.reportedViewFrom = d.reportedViewTo = doc.first; // Information about the rendered lines.\n\n    d.view = [];\n    d.renderedView = null; // Holds info about a single rendered line when it was rendered\n    // for measurement, while not in view.\n\n    d.externalMeasured = null; // Empty space (in pixels) above the view\n\n    d.viewOffset = 0;\n    d.lastWrapHeight = d.lastWrapWidth = 0;\n    d.updateLineNumbers = null;\n    d.nativeBarWidth = d.barHeight = d.barWidth = 0;\n    d.scrollbarsClipped = false; // Used to only resize the line number gutter when necessary (when\n    // the amount of lines crosses a boundary that makes its width change)\n\n    d.lineNumWidth = d.lineNumInnerWidth = d.lineNumChars = null; // Set to true when a non-horizontal-scrolling line widget is\n    // added. As an optimization, line widget aligning is skipped when\n    // this is false.\n\n    d.alignWidgets = false;\n    d.cachedCharWidth = d.cachedTextHeight = d.cachedPaddingH = null; // Tracks the maximum line length so that the horizontal scrollbar\n    // can be kept static when scrolling.\n\n    d.maxLine = null;\n    d.maxLineLength = 0;\n    d.maxLineChanged = false; // Used for measuring wheel scrolling granularity\n\n    d.wheelDX = d.wheelDY = d.wheelStartX = d.wheelStartY = null; // True when shift is held down.\n\n    d.shift = false; // Used to track whether anything happened since the context menu\n    // was opened.\n\n    d.selForContextMenu = null;\n    d.activeTouch = null;\n    d.gutterSpecs = getGutters(options.gutters, options.lineNumbers);\n    renderGutters(d);\n    input.init(d);\n  } // Since the delta values reported on mouse wheel events are\n  // unstandardized between browsers and even browser versions, and\n  // generally horribly unpredictable, this code starts by measuring\n  // the scroll effect that the first few mouse wheel events have,\n  // and, from that, detects the way it can convert deltas to pixel\n  // offsets afterwards.\n  //\n  // The reason we want to know the amount a wheel event will scroll\n  // is that it gives us a chance to update the display before the\n  // actual scrolling happens, reducing flickering.\n\n\n  var wheelSamples = 0,\n      wheelPixelsPerUnit = null; // Fill in a browser-detected starting value on browsers where we\n  // know one. These don't have to be accurate -- the result of them\n  // being wrong would just be a slight flicker on the first wheel\n  // scroll (if it is large enough).\n\n  if (ie) {\n    wheelPixelsPerUnit = -.53;\n  } else if (gecko) {\n    wheelPixelsPerUnit = 15;\n  } else if (chrome) {\n    wheelPixelsPerUnit = -.7;\n  } else if (safari) {\n    wheelPixelsPerUnit = -1 / 3;\n  }\n\n  function wheelEventDelta(e) {\n    var dx = e.wheelDeltaX,\n        dy = e.wheelDeltaY;\n\n    if (dx == null && e.detail && e.axis == e.HORIZONTAL_AXIS) {\n      dx = e.detail;\n    }\n\n    if (dy == null && e.detail && e.axis == e.VERTICAL_AXIS) {\n      dy = e.detail;\n    } else if (dy == null) {\n      dy = e.wheelDelta;\n    }\n\n    return {\n      x: dx,\n      y: dy\n    };\n  }\n\n  function wheelEventPixels(e) {\n    var delta = wheelEventDelta(e);\n    delta.x *= wheelPixelsPerUnit;\n    delta.y *= wheelPixelsPerUnit;\n    return delta;\n  }\n\n  function onScrollWheel(cm, e) {\n    var delta = wheelEventDelta(e),\n        dx = delta.x,\n        dy = delta.y;\n    var display = cm.display,\n        scroll = display.scroller; // Quit if there's nothing to scroll here\n\n    var canScrollX = scroll.scrollWidth > scroll.clientWidth;\n    var canScrollY = scroll.scrollHeight > scroll.clientHeight;\n\n    if (!(dx && canScrollX || dy && canScrollY)) {\n      return;\n    } // Webkit browsers on OS X abort momentum scrolls when the target\n    // of the scroll event is removed from the scrollable element.\n    // This hack (see related code in patchDisplay) makes sure the\n    // element is kept around.\n\n\n    if (dy && mac && webkit) {\n      outer: for (var cur = e.target, view = display.view; cur != scroll; cur = cur.parentNode) {\n        for (var i = 0; i < view.length; i++) {\n          if (view[i].node == cur) {\n            cm.display.currentWheelTarget = cur;\n            break outer;\n          }\n        }\n      }\n    } // On some browsers, horizontal scrolling will cause redraws to\n    // happen before the gutter has been realigned, causing it to\n    // wriggle around in a most unseemly way. When we have an\n    // estimated pixels/delta value, we just handle horizontal\n    // scrolling entirely here. It'll be slightly off from native, but\n    // better than glitching out.\n\n\n    if (dx && !gecko && !presto && wheelPixelsPerUnit != null) {\n      if (dy && canScrollY) {\n        updateScrollTop(cm, Math.max(0, scroll.scrollTop + dy * wheelPixelsPerUnit));\n      }\n\n      setScrollLeft(cm, Math.max(0, scroll.scrollLeft + dx * wheelPixelsPerUnit)); // Only prevent default scrolling if vertical scrolling is\n      // actually possible. Otherwise, it causes vertical scroll\n      // jitter on OSX trackpads when deltaX is small and deltaY\n      // is large (issue #3579)\n\n      if (!dy || dy && canScrollY) {\n        e_preventDefault(e);\n      }\n\n      display.wheelStartX = null; // Abort measurement, if in progress\n\n      return;\n    } // 'Project' the visible viewport to cover the area that is being\n    // scrolled into view (if we know enough to estimate it).\n\n\n    if (dy && wheelPixelsPerUnit != null) {\n      var pixels = dy * wheelPixelsPerUnit;\n      var top = cm.doc.scrollTop,\n          bot = top + display.wrapper.clientHeight;\n\n      if (pixels < 0) {\n        top = Math.max(0, top + pixels - 50);\n      } else {\n        bot = Math.min(cm.doc.height, bot + pixels + 50);\n      }\n\n      updateDisplaySimple(cm, {\n        top: top,\n        bottom: bot\n      });\n    }\n\n    if (wheelSamples < 20) {\n      if (display.wheelStartX == null) {\n        display.wheelStartX = scroll.scrollLeft;\n        display.wheelStartY = scroll.scrollTop;\n        display.wheelDX = dx;\n        display.wheelDY = dy;\n        setTimeout(function () {\n          if (display.wheelStartX == null) {\n            return;\n          }\n\n          var movedX = scroll.scrollLeft - display.wheelStartX;\n          var movedY = scroll.scrollTop - display.wheelStartY;\n          var sample = movedY && display.wheelDY && movedY / display.wheelDY || movedX && display.wheelDX && movedX / display.wheelDX;\n          display.wheelStartX = display.wheelStartY = null;\n\n          if (!sample) {\n            return;\n          }\n\n          wheelPixelsPerUnit = (wheelPixelsPerUnit * wheelSamples + sample) / (wheelSamples + 1);\n          ++wheelSamples;\n        }, 200);\n      } else {\n        display.wheelDX += dx;\n        display.wheelDY += dy;\n      }\n    }\n  } // Selection objects are immutable. A new one is created every time\n  // the selection changes. A selection is one or more non-overlapping\n  // (and non-touching) ranges, sorted, and an integer that indicates\n  // which one is the primary selection (the one that's scrolled into\n  // view, that getCursor returns, etc).\n\n\n  var Selection = function (ranges, primIndex) {\n    this.ranges = ranges;\n    this.primIndex = primIndex;\n  };\n\n  Selection.prototype.primary = function () {\n    return this.ranges[this.primIndex];\n  };\n\n  Selection.prototype.equals = function (other) {\n    if (other == this) {\n      return true;\n    }\n\n    if (other.primIndex != this.primIndex || other.ranges.length != this.ranges.length) {\n      return false;\n    }\n\n    for (var i = 0; i < this.ranges.length; i++) {\n      var here = this.ranges[i],\n          there = other.ranges[i];\n\n      if (!equalCursorPos(here.anchor, there.anchor) || !equalCursorPos(here.head, there.head)) {\n        return false;\n      }\n    }\n\n    return true;\n  };\n\n  Selection.prototype.deepCopy = function () {\n    var out = [];\n\n    for (var i = 0; i < this.ranges.length; i++) {\n      out[i] = new Range(copyPos(this.ranges[i].anchor), copyPos(this.ranges[i].head));\n    }\n\n    return new Selection(out, this.primIndex);\n  };\n\n  Selection.prototype.somethingSelected = function () {\n    for (var i = 0; i < this.ranges.length; i++) {\n      if (!this.ranges[i].empty()) {\n        return true;\n      }\n    }\n\n    return false;\n  };\n\n  Selection.prototype.contains = function (pos, end) {\n    if (!end) {\n      end = pos;\n    }\n\n    for (var i = 0; i < this.ranges.length; i++) {\n      var range = this.ranges[i];\n\n      if (cmp(end, range.from()) >= 0 && cmp(pos, range.to()) <= 0) {\n        return i;\n      }\n    }\n\n    return -1;\n  };\n\n  var Range = function (anchor, head) {\n    this.anchor = anchor;\n    this.head = head;\n  };\n\n  Range.prototype.from = function () {\n    return minPos(this.anchor, this.head);\n  };\n\n  Range.prototype.to = function () {\n    return maxPos(this.anchor, this.head);\n  };\n\n  Range.prototype.empty = function () {\n    return this.head.line == this.anchor.line && this.head.ch == this.anchor.ch;\n  }; // Take an unsorted, potentially overlapping set of ranges, and\n  // build a selection out of it. 'Consumes' ranges array (modifying\n  // it).\n\n\n  function normalizeSelection(cm, ranges, primIndex) {\n    var mayTouch = cm && cm.options.selectionsMayTouch;\n    var prim = ranges[primIndex];\n    ranges.sort(function (a, b) {\n      return cmp(a.from(), b.from());\n    });\n    primIndex = indexOf(ranges, prim);\n\n    for (var i = 1; i < ranges.length; i++) {\n      var cur = ranges[i],\n          prev = ranges[i - 1];\n      var diff = cmp(prev.to(), cur.from());\n\n      if (mayTouch && !cur.empty() ? diff > 0 : diff >= 0) {\n        var from = minPos(prev.from(), cur.from()),\n            to = maxPos(prev.to(), cur.to());\n        var inv = prev.empty() ? cur.from() == cur.head : prev.from() == prev.head;\n\n        if (i <= primIndex) {\n          --primIndex;\n        }\n\n        ranges.splice(--i, 2, new Range(inv ? to : from, inv ? from : to));\n      }\n    }\n\n    return new Selection(ranges, primIndex);\n  }\n\n  function simpleSelection(anchor, head) {\n    return new Selection([new Range(anchor, head || anchor)], 0);\n  } // Compute the position of the end of a change (its 'to' property\n  // refers to the pre-change end).\n\n\n  function changeEnd(change) {\n    if (!change.text) {\n      return change.to;\n    }\n\n    return Pos(change.from.line + change.text.length - 1, lst(change.text).length + (change.text.length == 1 ? change.from.ch : 0));\n  } // Adjust a position to refer to the post-change position of the\n  // same text, or the end of the change if the change covers it.\n\n\n  function adjustForChange(pos, change) {\n    if (cmp(pos, change.from) < 0) {\n      return pos;\n    }\n\n    if (cmp(pos, change.to) <= 0) {\n      return changeEnd(change);\n    }\n\n    var line = pos.line + change.text.length - (change.to.line - change.from.line) - 1,\n        ch = pos.ch;\n\n    if (pos.line == change.to.line) {\n      ch += changeEnd(change).ch - change.to.ch;\n    }\n\n    return Pos(line, ch);\n  }\n\n  function computeSelAfterChange(doc, change) {\n    var out = [];\n\n    for (var i = 0; i < doc.sel.ranges.length; i++) {\n      var range = doc.sel.ranges[i];\n      out.push(new Range(adjustForChange(range.anchor, change), adjustForChange(range.head, change)));\n    }\n\n    return normalizeSelection(doc.cm, out, doc.sel.primIndex);\n  }\n\n  function offsetPos(pos, old, nw) {\n    if (pos.line == old.line) {\n      return Pos(nw.line, pos.ch - old.ch + nw.ch);\n    } else {\n      return Pos(nw.line + (pos.line - old.line), pos.ch);\n    }\n  } // Used by replaceSelections to allow moving the selection to the\n  // start or around the replaced test. Hint may be \"start\" or \"around\".\n\n\n  function computeReplacedSel(doc, changes, hint) {\n    var out = [];\n    var oldPrev = Pos(doc.first, 0),\n        newPrev = oldPrev;\n\n    for (var i = 0; i < changes.length; i++) {\n      var change = changes[i];\n      var from = offsetPos(change.from, oldPrev, newPrev);\n      var to = offsetPos(changeEnd(change), oldPrev, newPrev);\n      oldPrev = change.to;\n      newPrev = to;\n\n      if (hint == \"around\") {\n        var range = doc.sel.ranges[i],\n            inv = cmp(range.head, range.anchor) < 0;\n        out[i] = new Range(inv ? to : from, inv ? from : to);\n      } else {\n        out[i] = new Range(from, from);\n      }\n    }\n\n    return new Selection(out, doc.sel.primIndex);\n  } // Used to get the editor into a consistent state again when options change.\n\n\n  function loadMode(cm) {\n    cm.doc.mode = getMode(cm.options, cm.doc.modeOption);\n    resetModeState(cm);\n  }\n\n  function resetModeState(cm) {\n    cm.doc.iter(function (line) {\n      if (line.stateAfter) {\n        line.stateAfter = null;\n      }\n\n      if (line.styles) {\n        line.styles = null;\n      }\n    });\n    cm.doc.modeFrontier = cm.doc.highlightFrontier = cm.doc.first;\n    startWorker(cm, 100);\n    cm.state.modeGen++;\n\n    if (cm.curOp) {\n      regChange(cm);\n    }\n  } // DOCUMENT DATA STRUCTURE\n  // By default, updates that start and end at the beginning of a line\n  // are treated specially, in order to make the association of line\n  // widgets and marker elements with the text behave more intuitive.\n\n\n  function isWholeLineUpdate(doc, change) {\n    return change.from.ch == 0 && change.to.ch == 0 && lst(change.text) == \"\" && (!doc.cm || doc.cm.options.wholeLineUpdateBefore);\n  } // Perform a change on the document data structure.\n\n\n  function updateDoc(doc, change, markedSpans, estimateHeight) {\n    function spansFor(n) {\n      return markedSpans ? markedSpans[n] : null;\n    }\n\n    function update(line, text, spans) {\n      updateLine(line, text, spans, estimateHeight);\n      signalLater(line, \"change\", line, change);\n    }\n\n    function linesFor(start, end) {\n      var result = [];\n\n      for (var i = start; i < end; ++i) {\n        result.push(new Line(text[i], spansFor(i), estimateHeight));\n      }\n\n      return result;\n    }\n\n    var from = change.from,\n        to = change.to,\n        text = change.text;\n    var firstLine = getLine(doc, from.line),\n        lastLine = getLine(doc, to.line);\n    var lastText = lst(text),\n        lastSpans = spansFor(text.length - 1),\n        nlines = to.line - from.line; // Adjust the line structure\n\n    if (change.full) {\n      doc.insert(0, linesFor(0, text.length));\n      doc.remove(text.length, doc.size - text.length);\n    } else if (isWholeLineUpdate(doc, change)) {\n      // This is a whole-line replace. Treated specially to make\n      // sure line objects move the way they are supposed to.\n      var added = linesFor(0, text.length - 1);\n      update(lastLine, lastLine.text, lastSpans);\n\n      if (nlines) {\n        doc.remove(from.line, nlines);\n      }\n\n      if (added.length) {\n        doc.insert(from.line, added);\n      }\n    } else if (firstLine == lastLine) {\n      if (text.length == 1) {\n        update(firstLine, firstLine.text.slice(0, from.ch) + lastText + firstLine.text.slice(to.ch), lastSpans);\n      } else {\n        var added$1 = linesFor(1, text.length - 1);\n        added$1.push(new Line(lastText + firstLine.text.slice(to.ch), lastSpans, estimateHeight));\n        update(firstLine, firstLine.text.slice(0, from.ch) + text[0], spansFor(0));\n        doc.insert(from.line + 1, added$1);\n      }\n    } else if (text.length == 1) {\n      update(firstLine, firstLine.text.slice(0, from.ch) + text[0] + lastLine.text.slice(to.ch), spansFor(0));\n      doc.remove(from.line + 1, nlines);\n    } else {\n      update(firstLine, firstLine.text.slice(0, from.ch) + text[0], spansFor(0));\n      update(lastLine, lastText + lastLine.text.slice(to.ch), lastSpans);\n      var added$2 = linesFor(1, text.length - 1);\n\n      if (nlines > 1) {\n        doc.remove(from.line + 1, nlines - 1);\n      }\n\n      doc.insert(from.line + 1, added$2);\n    }\n\n    signalLater(doc, \"change\", doc, change);\n  } // Call f for all linked documents.\n\n\n  function linkedDocs(doc, f, sharedHistOnly) {\n    function propagate(doc, skip, sharedHist) {\n      if (doc.linked) {\n        for (var i = 0; i < doc.linked.length; ++i) {\n          var rel = doc.linked[i];\n\n          if (rel.doc == skip) {\n            continue;\n          }\n\n          var shared = sharedHist && rel.sharedHist;\n\n          if (sharedHistOnly && !shared) {\n            continue;\n          }\n\n          f(rel.doc, shared);\n          propagate(rel.doc, doc, shared);\n        }\n      }\n    }\n\n    propagate(doc, null, true);\n  } // Attach a document to an editor.\n\n\n  function attachDoc(cm, doc) {\n    if (doc.cm) {\n      throw new Error(\"This document is already in use.\");\n    }\n\n    cm.doc = doc;\n    doc.cm = cm;\n    estimateLineHeights(cm);\n    loadMode(cm);\n    setDirectionClass(cm);\n\n    if (!cm.options.lineWrapping) {\n      findMaxLine(cm);\n    }\n\n    cm.options.mode = doc.modeOption;\n    regChange(cm);\n  }\n\n  function setDirectionClass(cm) {\n    (cm.doc.direction == \"rtl\" ? addClass : rmClass)(cm.display.lineDiv, \"CodeMirror-rtl\");\n  }\n\n  function directionChanged(cm) {\n    runInOp(cm, function () {\n      setDirectionClass(cm);\n      regChange(cm);\n    });\n  }\n\n  function History(startGen) {\n    // Arrays of change events and selections. Doing something adds an\n    // event to done and clears undo. Undoing moves events from done\n    // to undone, redoing moves them in the other direction.\n    this.done = [];\n    this.undone = [];\n    this.undoDepth = Infinity; // Used to track when changes can be merged into a single undo\n    // event\n\n    this.lastModTime = this.lastSelTime = 0;\n    this.lastOp = this.lastSelOp = null;\n    this.lastOrigin = this.lastSelOrigin = null; // Used by the isClean() method\n\n    this.generation = this.maxGeneration = startGen || 1;\n  } // Create a history change event from an updateDoc-style change\n  // object.\n\n\n  function historyChangeFromChange(doc, change) {\n    var histChange = {\n      from: copyPos(change.from),\n      to: changeEnd(change),\n      text: getBetween(doc, change.from, change.to)\n    };\n    attachLocalSpans(doc, histChange, change.from.line, change.to.line + 1);\n    linkedDocs(doc, function (doc) {\n      return attachLocalSpans(doc, histChange, change.from.line, change.to.line + 1);\n    }, true);\n    return histChange;\n  } // Pop all selection events off the end of a history array. Stop at\n  // a change event.\n\n\n  function clearSelectionEvents(array) {\n    while (array.length) {\n      var last = lst(array);\n\n      if (last.ranges) {\n        array.pop();\n      } else {\n        break;\n      }\n    }\n  } // Find the top change event in the history. Pop off selection\n  // events that are in the way.\n\n\n  function lastChangeEvent(hist, force) {\n    if (force) {\n      clearSelectionEvents(hist.done);\n      return lst(hist.done);\n    } else if (hist.done.length && !lst(hist.done).ranges) {\n      return lst(hist.done);\n    } else if (hist.done.length > 1 && !hist.done[hist.done.length - 2].ranges) {\n      hist.done.pop();\n      return lst(hist.done);\n    }\n  } // Register a change in the history. Merges changes that are within\n  // a single operation, or are close together with an origin that\n  // allows merging (starting with \"+\") into a single event.\n\n\n  function addChangeToHistory(doc, change, selAfter, opId) {\n    var hist = doc.history;\n    hist.undone.length = 0;\n    var time = +new Date(),\n        cur;\n    var last;\n\n    if ((hist.lastOp == opId || hist.lastOrigin == change.origin && change.origin && (change.origin.charAt(0) == \"+\" && hist.lastModTime > time - (doc.cm ? doc.cm.options.historyEventDelay : 500) || change.origin.charAt(0) == \"*\")) && (cur = lastChangeEvent(hist, hist.lastOp == opId))) {\n      // Merge this change into the last event\n      last = lst(cur.changes);\n\n      if (cmp(change.from, change.to) == 0 && cmp(change.from, last.to) == 0) {\n        // Optimized case for simple insertion -- don't want to add\n        // new changesets for every character typed\n        last.to = changeEnd(change);\n      } else {\n        // Add new sub-event\n        cur.changes.push(historyChangeFromChange(doc, change));\n      }\n    } else {\n      // Can not be merged, start a new event.\n      var before = lst(hist.done);\n\n      if (!before || !before.ranges) {\n        pushSelectionToHistory(doc.sel, hist.done);\n      }\n\n      cur = {\n        changes: [historyChangeFromChange(doc, change)],\n        generation: hist.generation\n      };\n      hist.done.push(cur);\n\n      while (hist.done.length > hist.undoDepth) {\n        hist.done.shift();\n\n        if (!hist.done[0].ranges) {\n          hist.done.shift();\n        }\n      }\n    }\n\n    hist.done.push(selAfter);\n    hist.generation = ++hist.maxGeneration;\n    hist.lastModTime = hist.lastSelTime = time;\n    hist.lastOp = hist.lastSelOp = opId;\n    hist.lastOrigin = hist.lastSelOrigin = change.origin;\n\n    if (!last) {\n      signal(doc, \"historyAdded\");\n    }\n  }\n\n  function selectionEventCanBeMerged(doc, origin, prev, sel) {\n    var ch = origin.charAt(0);\n    return ch == \"*\" || ch == \"+\" && prev.ranges.length == sel.ranges.length && prev.somethingSelected() == sel.somethingSelected() && new Date() - doc.history.lastSelTime <= (doc.cm ? doc.cm.options.historyEventDelay : 500);\n  } // Called whenever the selection changes, sets the new selection as\n  // the pending selection in the history, and pushes the old pending\n  // selection into the 'done' array when it was significantly\n  // different (in number of selected ranges, emptiness, or time).\n\n\n  function addSelectionToHistory(doc, sel, opId, options) {\n    var hist = doc.history,\n        origin = options && options.origin; // A new event is started when the previous origin does not match\n    // the current, or the origins don't allow matching. Origins\n    // starting with * are always merged, those starting with + are\n    // merged when similar and close together in time.\n\n    if (opId == hist.lastSelOp || origin && hist.lastSelOrigin == origin && (hist.lastModTime == hist.lastSelTime && hist.lastOrigin == origin || selectionEventCanBeMerged(doc, origin, lst(hist.done), sel))) {\n      hist.done[hist.done.length - 1] = sel;\n    } else {\n      pushSelectionToHistory(sel, hist.done);\n    }\n\n    hist.lastSelTime = +new Date();\n    hist.lastSelOrigin = origin;\n    hist.lastSelOp = opId;\n\n    if (options && options.clearRedo !== false) {\n      clearSelectionEvents(hist.undone);\n    }\n  }\n\n  function pushSelectionToHistory(sel, dest) {\n    var top = lst(dest);\n\n    if (!(top && top.ranges && top.equals(sel))) {\n      dest.push(sel);\n    }\n  } // Used to store marked span information in the history.\n\n\n  function attachLocalSpans(doc, change, from, to) {\n    var existing = change[\"spans_\" + doc.id],\n        n = 0;\n    doc.iter(Math.max(doc.first, from), Math.min(doc.first + doc.size, to), function (line) {\n      if (line.markedSpans) {\n        (existing || (existing = change[\"spans_\" + doc.id] = {}))[n] = line.markedSpans;\n      }\n\n      ++n;\n    });\n  } // When un/re-doing restores text containing marked spans, those\n  // that have been explicitly cleared should not be restored.\n\n\n  function removeClearedSpans(spans) {\n    if (!spans) {\n      return null;\n    }\n\n    var out;\n\n    for (var i = 0; i < spans.length; ++i) {\n      if (spans[i].marker.explicitlyCleared) {\n        if (!out) {\n          out = spans.slice(0, i);\n        }\n      } else if (out) {\n        out.push(spans[i]);\n      }\n    }\n\n    return !out ? spans : out.length ? out : null;\n  } // Retrieve and filter the old marked spans stored in a change event.\n\n\n  function getOldSpans(doc, change) {\n    var found = change[\"spans_\" + doc.id];\n\n    if (!found) {\n      return null;\n    }\n\n    var nw = [];\n\n    for (var i = 0; i < change.text.length; ++i) {\n      nw.push(removeClearedSpans(found[i]));\n    }\n\n    return nw;\n  } // Used for un/re-doing changes from the history. Combines the\n  // result of computing the existing spans with the set of spans that\n  // existed in the history (so that deleting around a span and then\n  // undoing brings back the span).\n\n\n  function mergeOldSpans(doc, change) {\n    var old = getOldSpans(doc, change);\n    var stretched = stretchSpansOverChange(doc, change);\n\n    if (!old) {\n      return stretched;\n    }\n\n    if (!stretched) {\n      return old;\n    }\n\n    for (var i = 0; i < old.length; ++i) {\n      var oldCur = old[i],\n          stretchCur = stretched[i];\n\n      if (oldCur && stretchCur) {\n        spans: for (var j = 0; j < stretchCur.length; ++j) {\n          var span = stretchCur[j];\n\n          for (var k = 0; k < oldCur.length; ++k) {\n            if (oldCur[k].marker == span.marker) {\n              continue spans;\n            }\n          }\n\n          oldCur.push(span);\n        }\n      } else if (stretchCur) {\n        old[i] = stretchCur;\n      }\n    }\n\n    return old;\n  } // Used both to provide a JSON-safe object in .getHistory, and, when\n  // detaching a document, to split the history in two\n\n\n  function copyHistoryArray(events, newGroup, instantiateSel) {\n    var copy = [];\n\n    for (var i = 0; i < events.length; ++i) {\n      var event = events[i];\n\n      if (event.ranges) {\n        copy.push(instantiateSel ? Selection.prototype.deepCopy.call(event) : event);\n        continue;\n      }\n\n      var changes = event.changes,\n          newChanges = [];\n      copy.push({\n        changes: newChanges\n      });\n\n      for (var j = 0; j < changes.length; ++j) {\n        var change = changes[j],\n            m = void 0;\n        newChanges.push({\n          from: change.from,\n          to: change.to,\n          text: change.text\n        });\n\n        if (newGroup) {\n          for (var prop in change) {\n            if (m = prop.match(/^spans_(\\d+)$/)) {\n              if (indexOf(newGroup, Number(m[1])) > -1) {\n                lst(newChanges)[prop] = change[prop];\n                delete change[prop];\n              }\n            }\n          }\n        }\n      }\n    }\n\n    return copy;\n  } // The 'scroll' parameter given to many of these indicated whether\n  // the new cursor position should be scrolled into view after\n  // modifying the selection.\n  // If shift is held or the extend flag is set, extends a range to\n  // include a given position (and optionally a second position).\n  // Otherwise, simply returns the range between the given positions.\n  // Used for cursor motion and such.\n\n\n  function extendRange(range, head, other, extend) {\n    if (extend) {\n      var anchor = range.anchor;\n\n      if (other) {\n        var posBefore = cmp(head, anchor) < 0;\n\n        if (posBefore != cmp(other, anchor) < 0) {\n          anchor = head;\n          head = other;\n        } else if (posBefore != cmp(head, other) < 0) {\n          head = other;\n        }\n      }\n\n      return new Range(anchor, head);\n    } else {\n      return new Range(other || head, head);\n    }\n  } // Extend the primary selection range, discard the rest.\n\n\n  function extendSelection(doc, head, other, options, extend) {\n    if (extend == null) {\n      extend = doc.cm && (doc.cm.display.shift || doc.extend);\n    }\n\n    setSelection(doc, new Selection([extendRange(doc.sel.primary(), head, other, extend)], 0), options);\n  } // Extend all selections (pos is an array of selections with length\n  // equal the number of selections)\n\n\n  function extendSelections(doc, heads, options) {\n    var out = [];\n    var extend = doc.cm && (doc.cm.display.shift || doc.extend);\n\n    for (var i = 0; i < doc.sel.ranges.length; i++) {\n      out[i] = extendRange(doc.sel.ranges[i], heads[i], null, extend);\n    }\n\n    var newSel = normalizeSelection(doc.cm, out, doc.sel.primIndex);\n    setSelection(doc, newSel, options);\n  } // Updates a single range in the selection.\n\n\n  function replaceOneSelection(doc, i, range, options) {\n    var ranges = doc.sel.ranges.slice(0);\n    ranges[i] = range;\n    setSelection(doc, normalizeSelection(doc.cm, ranges, doc.sel.primIndex), options);\n  } // Reset the selection to a single range.\n\n\n  function setSimpleSelection(doc, anchor, head, options) {\n    setSelection(doc, simpleSelection(anchor, head), options);\n  } // Give beforeSelectionChange handlers a change to influence a\n  // selection update.\n\n\n  function filterSelectionChange(doc, sel, options) {\n    var obj = {\n      ranges: sel.ranges,\n      update: function (ranges) {\n        this.ranges = [];\n\n        for (var i = 0; i < ranges.length; i++) {\n          this.ranges[i] = new Range(clipPos(doc, ranges[i].anchor), clipPos(doc, ranges[i].head));\n        }\n      },\n      origin: options && options.origin\n    };\n    signal(doc, \"beforeSelectionChange\", doc, obj);\n\n    if (doc.cm) {\n      signal(doc.cm, \"beforeSelectionChange\", doc.cm, obj);\n    }\n\n    if (obj.ranges != sel.ranges) {\n      return normalizeSelection(doc.cm, obj.ranges, obj.ranges.length - 1);\n    } else {\n      return sel;\n    }\n  }\n\n  function setSelectionReplaceHistory(doc, sel, options) {\n    var done = doc.history.done,\n        last = lst(done);\n\n    if (last && last.ranges) {\n      done[done.length - 1] = sel;\n      setSelectionNoUndo(doc, sel, options);\n    } else {\n      setSelection(doc, sel, options);\n    }\n  } // Set a new selection.\n\n\n  function setSelection(doc, sel, options) {\n    setSelectionNoUndo(doc, sel, options);\n    addSelectionToHistory(doc, doc.sel, doc.cm ? doc.cm.curOp.id : NaN, options);\n  }\n\n  function setSelectionNoUndo(doc, sel, options) {\n    if (hasHandler(doc, \"beforeSelectionChange\") || doc.cm && hasHandler(doc.cm, \"beforeSelectionChange\")) {\n      sel = filterSelectionChange(doc, sel, options);\n    }\n\n    var bias = options && options.bias || (cmp(sel.primary().head, doc.sel.primary().head) < 0 ? -1 : 1);\n    setSelectionInner(doc, skipAtomicInSelection(doc, sel, bias, true));\n\n    if (!(options && options.scroll === false) && doc.cm) {\n      ensureCursorVisible(doc.cm);\n    }\n  }\n\n  function setSelectionInner(doc, sel) {\n    if (sel.equals(doc.sel)) {\n      return;\n    }\n\n    doc.sel = sel;\n\n    if (doc.cm) {\n      doc.cm.curOp.updateInput = 1;\n      doc.cm.curOp.selectionChanged = true;\n      signalCursorActivity(doc.cm);\n    }\n\n    signalLater(doc, \"cursorActivity\", doc);\n  } // Verify that the selection does not partially select any atomic\n  // marked ranges.\n\n\n  function reCheckSelection(doc) {\n    setSelectionInner(doc, skipAtomicInSelection(doc, doc.sel, null, false));\n  } // Return a selection that does not partially select any atomic\n  // ranges.\n\n\n  function skipAtomicInSelection(doc, sel, bias, mayClear) {\n    var out;\n\n    for (var i = 0; i < sel.ranges.length; i++) {\n      var range = sel.ranges[i];\n      var old = sel.ranges.length == doc.sel.ranges.length && doc.sel.ranges[i];\n      var newAnchor = skipAtomic(doc, range.anchor, old && old.anchor, bias, mayClear);\n      var newHead = skipAtomic(doc, range.head, old && old.head, bias, mayClear);\n\n      if (out || newAnchor != range.anchor || newHead != range.head) {\n        if (!out) {\n          out = sel.ranges.slice(0, i);\n        }\n\n        out[i] = new Range(newAnchor, newHead);\n      }\n    }\n\n    return out ? normalizeSelection(doc.cm, out, sel.primIndex) : sel;\n  }\n\n  function skipAtomicInner(doc, pos, oldPos, dir, mayClear) {\n    var line = getLine(doc, pos.line);\n\n    if (line.markedSpans) {\n      for (var i = 0; i < line.markedSpans.length; ++i) {\n        var sp = line.markedSpans[i],\n            m = sp.marker; // Determine if we should prevent the cursor being placed to the left/right of an atomic marker\n        // Historically this was determined using the inclusiveLeft/Right option, but the new way to control it\n        // is with selectLeft/Right\n\n        var preventCursorLeft = \"selectLeft\" in m ? !m.selectLeft : m.inclusiveLeft;\n        var preventCursorRight = \"selectRight\" in m ? !m.selectRight : m.inclusiveRight;\n\n        if ((sp.from == null || (preventCursorLeft ? sp.from <= pos.ch : sp.from < pos.ch)) && (sp.to == null || (preventCursorRight ? sp.to >= pos.ch : sp.to > pos.ch))) {\n          if (mayClear) {\n            signal(m, \"beforeCursorEnter\");\n\n            if (m.explicitlyCleared) {\n              if (!line.markedSpans) {\n                break;\n              } else {\n                --i;\n                continue;\n              }\n            }\n          }\n\n          if (!m.atomic) {\n            continue;\n          }\n\n          if (oldPos) {\n            var near = m.find(dir < 0 ? 1 : -1),\n                diff = void 0;\n\n            if (dir < 0 ? preventCursorRight : preventCursorLeft) {\n              near = movePos(doc, near, -dir, near && near.line == pos.line ? line : null);\n            }\n\n            if (near && near.line == pos.line && (diff = cmp(near, oldPos)) && (dir < 0 ? diff < 0 : diff > 0)) {\n              return skipAtomicInner(doc, near, pos, dir, mayClear);\n            }\n          }\n\n          var far = m.find(dir < 0 ? -1 : 1);\n\n          if (dir < 0 ? preventCursorLeft : preventCursorRight) {\n            far = movePos(doc, far, dir, far.line == pos.line ? line : null);\n          }\n\n          return far ? skipAtomicInner(doc, far, pos, dir, mayClear) : null;\n        }\n      }\n    }\n\n    return pos;\n  } // Ensure a given position is not inside an atomic range.\n\n\n  function skipAtomic(doc, pos, oldPos, bias, mayClear) {\n    var dir = bias || 1;\n    var found = skipAtomicInner(doc, pos, oldPos, dir, mayClear) || !mayClear && skipAtomicInner(doc, pos, oldPos, dir, true) || skipAtomicInner(doc, pos, oldPos, -dir, mayClear) || !mayClear && skipAtomicInner(doc, pos, oldPos, -dir, true);\n\n    if (!found) {\n      doc.cantEdit = true;\n      return Pos(doc.first, 0);\n    }\n\n    return found;\n  }\n\n  function movePos(doc, pos, dir, line) {\n    if (dir < 0 && pos.ch == 0) {\n      if (pos.line > doc.first) {\n        return clipPos(doc, Pos(pos.line - 1));\n      } else {\n        return null;\n      }\n    } else if (dir > 0 && pos.ch == (line || getLine(doc, pos.line)).text.length) {\n      if (pos.line < doc.first + doc.size - 1) {\n        return Pos(pos.line + 1, 0);\n      } else {\n        return null;\n      }\n    } else {\n      return new Pos(pos.line, pos.ch + dir);\n    }\n  }\n\n  function selectAll(cm) {\n    cm.setSelection(Pos(cm.firstLine(), 0), Pos(cm.lastLine()), sel_dontScroll);\n  } // UPDATING\n  // Allow \"beforeChange\" event handlers to influence a change\n\n\n  function filterChange(doc, change, update) {\n    var obj = {\n      canceled: false,\n      from: change.from,\n      to: change.to,\n      text: change.text,\n      origin: change.origin,\n      cancel: function () {\n        return obj.canceled = true;\n      }\n    };\n\n    if (update) {\n      obj.update = function (from, to, text, origin) {\n        if (from) {\n          obj.from = clipPos(doc, from);\n        }\n\n        if (to) {\n          obj.to = clipPos(doc, to);\n        }\n\n        if (text) {\n          obj.text = text;\n        }\n\n        if (origin !== undefined) {\n          obj.origin = origin;\n        }\n      };\n    }\n\n    signal(doc, \"beforeChange\", doc, obj);\n\n    if (doc.cm) {\n      signal(doc.cm, \"beforeChange\", doc.cm, obj);\n    }\n\n    if (obj.canceled) {\n      if (doc.cm) {\n        doc.cm.curOp.updateInput = 2;\n      }\n\n      return null;\n    }\n\n    return {\n      from: obj.from,\n      to: obj.to,\n      text: obj.text,\n      origin: obj.origin\n    };\n  } // Apply a change to a document, and add it to the document's\n  // history, and propagating it to all linked documents.\n\n\n  function makeChange(doc, change, ignoreReadOnly) {\n    if (doc.cm) {\n      if (!doc.cm.curOp) {\n        return operation(doc.cm, makeChange)(doc, change, ignoreReadOnly);\n      }\n\n      if (doc.cm.state.suppressEdits) {\n        return;\n      }\n    }\n\n    if (hasHandler(doc, \"beforeChange\") || doc.cm && hasHandler(doc.cm, \"beforeChange\")) {\n      change = filterChange(doc, change, true);\n\n      if (!change) {\n        return;\n      }\n    } // Possibly split or suppress the update based on the presence\n    // of read-only spans in its range.\n\n\n    var split = sawReadOnlySpans && !ignoreReadOnly && removeReadOnlyRanges(doc, change.from, change.to);\n\n    if (split) {\n      for (var i = split.length - 1; i >= 0; --i) {\n        makeChangeInner(doc, {\n          from: split[i].from,\n          to: split[i].to,\n          text: i ? [\"\"] : change.text,\n          origin: change.origin\n        });\n      }\n    } else {\n      makeChangeInner(doc, change);\n    }\n  }\n\n  function makeChangeInner(doc, change) {\n    if (change.text.length == 1 && change.text[0] == \"\" && cmp(change.from, change.to) == 0) {\n      return;\n    }\n\n    var selAfter = computeSelAfterChange(doc, change);\n    addChangeToHistory(doc, change, selAfter, doc.cm ? doc.cm.curOp.id : NaN);\n    makeChangeSingleDoc(doc, change, selAfter, stretchSpansOverChange(doc, change));\n    var rebased = [];\n    linkedDocs(doc, function (doc, sharedHist) {\n      if (!sharedHist && indexOf(rebased, doc.history) == -1) {\n        rebaseHist(doc.history, change);\n        rebased.push(doc.history);\n      }\n\n      makeChangeSingleDoc(doc, change, null, stretchSpansOverChange(doc, change));\n    });\n  } // Revert a change stored in a document's history.\n\n\n  function makeChangeFromHistory(doc, type, allowSelectionOnly) {\n    var suppress = doc.cm && doc.cm.state.suppressEdits;\n\n    if (suppress && !allowSelectionOnly) {\n      return;\n    }\n\n    var hist = doc.history,\n        event,\n        selAfter = doc.sel;\n    var source = type == \"undo\" ? hist.done : hist.undone,\n        dest = type == \"undo\" ? hist.undone : hist.done; // Verify that there is a useable event (so that ctrl-z won't\n    // needlessly clear selection events)\n\n    var i = 0;\n\n    for (; i < source.length; i++) {\n      event = source[i];\n\n      if (allowSelectionOnly ? event.ranges && !event.equals(doc.sel) : !event.ranges) {\n        break;\n      }\n    }\n\n    if (i == source.length) {\n      return;\n    }\n\n    hist.lastOrigin = hist.lastSelOrigin = null;\n\n    for (;;) {\n      event = source.pop();\n\n      if (event.ranges) {\n        pushSelectionToHistory(event, dest);\n\n        if (allowSelectionOnly && !event.equals(doc.sel)) {\n          setSelection(doc, event, {\n            clearRedo: false\n          });\n          return;\n        }\n\n        selAfter = event;\n      } else if (suppress) {\n        source.push(event);\n        return;\n      } else {\n        break;\n      }\n    } // Build up a reverse change object to add to the opposite history\n    // stack (redo when undoing, and vice versa).\n\n\n    var antiChanges = [];\n    pushSelectionToHistory(selAfter, dest);\n    dest.push({\n      changes: antiChanges,\n      generation: hist.generation\n    });\n    hist.generation = event.generation || ++hist.maxGeneration;\n    var filter = hasHandler(doc, \"beforeChange\") || doc.cm && hasHandler(doc.cm, \"beforeChange\");\n\n    var loop = function (i) {\n      var change = event.changes[i];\n      change.origin = type;\n\n      if (filter && !filterChange(doc, change, false)) {\n        source.length = 0;\n        return {};\n      }\n\n      antiChanges.push(historyChangeFromChange(doc, change));\n      var after = i ? computeSelAfterChange(doc, change) : lst(source);\n      makeChangeSingleDoc(doc, change, after, mergeOldSpans(doc, change));\n\n      if (!i && doc.cm) {\n        doc.cm.scrollIntoView({\n          from: change.from,\n          to: changeEnd(change)\n        });\n      }\n\n      var rebased = []; // Propagate to the linked documents\n\n      linkedDocs(doc, function (doc, sharedHist) {\n        if (!sharedHist && indexOf(rebased, doc.history) == -1) {\n          rebaseHist(doc.history, change);\n          rebased.push(doc.history);\n        }\n\n        makeChangeSingleDoc(doc, change, null, mergeOldSpans(doc, change));\n      });\n    };\n\n    for (var i$1 = event.changes.length - 1; i$1 >= 0; --i$1) {\n      var returned = loop(i$1);\n      if (returned) return returned.v;\n    }\n  } // Sub-views need their line numbers shifted when text is added\n  // above or below them in the parent document.\n\n\n  function shiftDoc(doc, distance) {\n    if (distance == 0) {\n      return;\n    }\n\n    doc.first += distance;\n    doc.sel = new Selection(map(doc.sel.ranges, function (range) {\n      return new Range(Pos(range.anchor.line + distance, range.anchor.ch), Pos(range.head.line + distance, range.head.ch));\n    }), doc.sel.primIndex);\n\n    if (doc.cm) {\n      regChange(doc.cm, doc.first, doc.first - distance, distance);\n\n      for (var d = doc.cm.display, l = d.viewFrom; l < d.viewTo; l++) {\n        regLineChange(doc.cm, l, \"gutter\");\n      }\n    }\n  } // More lower-level change function, handling only a single document\n  // (not linked ones).\n\n\n  function makeChangeSingleDoc(doc, change, selAfter, spans) {\n    if (doc.cm && !doc.cm.curOp) {\n      return operation(doc.cm, makeChangeSingleDoc)(doc, change, selAfter, spans);\n    }\n\n    if (change.to.line < doc.first) {\n      shiftDoc(doc, change.text.length - 1 - (change.to.line - change.from.line));\n      return;\n    }\n\n    if (change.from.line > doc.lastLine()) {\n      return;\n    } // Clip the change to the size of this doc\n\n\n    if (change.from.line < doc.first) {\n      var shift = change.text.length - 1 - (doc.first - change.from.line);\n      shiftDoc(doc, shift);\n      change = {\n        from: Pos(doc.first, 0),\n        to: Pos(change.to.line + shift, change.to.ch),\n        text: [lst(change.text)],\n        origin: change.origin\n      };\n    }\n\n    var last = doc.lastLine();\n\n    if (change.to.line > last) {\n      change = {\n        from: change.from,\n        to: Pos(last, getLine(doc, last).text.length),\n        text: [change.text[0]],\n        origin: change.origin\n      };\n    }\n\n    change.removed = getBetween(doc, change.from, change.to);\n\n    if (!selAfter) {\n      selAfter = computeSelAfterChange(doc, change);\n    }\n\n    if (doc.cm) {\n      makeChangeSingleDocInEditor(doc.cm, change, spans);\n    } else {\n      updateDoc(doc, change, spans);\n    }\n\n    setSelectionNoUndo(doc, selAfter, sel_dontScroll);\n\n    if (doc.cantEdit && skipAtomic(doc, Pos(doc.firstLine(), 0))) {\n      doc.cantEdit = false;\n    }\n  } // Handle the interaction of a change to a document with the editor\n  // that this document is part of.\n\n\n  function makeChangeSingleDocInEditor(cm, change, spans) {\n    var doc = cm.doc,\n        display = cm.display,\n        from = change.from,\n        to = change.to;\n    var recomputeMaxLength = false,\n        checkWidthStart = from.line;\n\n    if (!cm.options.lineWrapping) {\n      checkWidthStart = lineNo(visualLine(getLine(doc, from.line)));\n      doc.iter(checkWidthStart, to.line + 1, function (line) {\n        if (line == display.maxLine) {\n          recomputeMaxLength = true;\n          return true;\n        }\n      });\n    }\n\n    if (doc.sel.contains(change.from, change.to) > -1) {\n      signalCursorActivity(cm);\n    }\n\n    updateDoc(doc, change, spans, estimateHeight(cm));\n\n    if (!cm.options.lineWrapping) {\n      doc.iter(checkWidthStart, from.line + change.text.length, function (line) {\n        var len = lineLength(line);\n\n        if (len > display.maxLineLength) {\n          display.maxLine = line;\n          display.maxLineLength = len;\n          display.maxLineChanged = true;\n          recomputeMaxLength = false;\n        }\n      });\n\n      if (recomputeMaxLength) {\n        cm.curOp.updateMaxLine = true;\n      }\n    }\n\n    retreatFrontier(doc, from.line);\n    startWorker(cm, 400);\n    var lendiff = change.text.length - (to.line - from.line) - 1; // Remember that these lines changed, for updating the display\n\n    if (change.full) {\n      regChange(cm);\n    } else if (from.line == to.line && change.text.length == 1 && !isWholeLineUpdate(cm.doc, change)) {\n      regLineChange(cm, from.line, \"text\");\n    } else {\n      regChange(cm, from.line, to.line + 1, lendiff);\n    }\n\n    var changesHandler = hasHandler(cm, \"changes\"),\n        changeHandler = hasHandler(cm, \"change\");\n\n    if (changeHandler || changesHandler) {\n      var obj = {\n        from: from,\n        to: to,\n        text: change.text,\n        removed: change.removed,\n        origin: change.origin\n      };\n\n      if (changeHandler) {\n        signalLater(cm, \"change\", cm, obj);\n      }\n\n      if (changesHandler) {\n        (cm.curOp.changeObjs || (cm.curOp.changeObjs = [])).push(obj);\n      }\n    }\n\n    cm.display.selForContextMenu = null;\n  }\n\n  function replaceRange(doc, code, from, to, origin) {\n    var assign;\n\n    if (!to) {\n      to = from;\n    }\n\n    if (cmp(to, from) < 0) {\n      assign = [to, from], from = assign[0], to = assign[1];\n    }\n\n    if (typeof code == \"string\") {\n      code = doc.splitLines(code);\n    }\n\n    makeChange(doc, {\n      from: from,\n      to: to,\n      text: code,\n      origin: origin\n    });\n  } // Rebasing/resetting history to deal with externally-sourced changes\n\n\n  function rebaseHistSelSingle(pos, from, to, diff) {\n    if (to < pos.line) {\n      pos.line += diff;\n    } else if (from < pos.line) {\n      pos.line = from;\n      pos.ch = 0;\n    }\n  } // Tries to rebase an array of history events given a change in the\n  // document. If the change touches the same lines as the event, the\n  // event, and everything 'behind' it, is discarded. If the change is\n  // before the event, the event's positions are updated. Uses a\n  // copy-on-write scheme for the positions, to avoid having to\n  // reallocate them all on every rebase, but also avoid problems with\n  // shared position objects being unsafely updated.\n\n\n  function rebaseHistArray(array, from, to, diff) {\n    for (var i = 0; i < array.length; ++i) {\n      var sub = array[i],\n          ok = true;\n\n      if (sub.ranges) {\n        if (!sub.copied) {\n          sub = array[i] = sub.deepCopy();\n          sub.copied = true;\n        }\n\n        for (var j = 0; j < sub.ranges.length; j++) {\n          rebaseHistSelSingle(sub.ranges[j].anchor, from, to, diff);\n          rebaseHistSelSingle(sub.ranges[j].head, from, to, diff);\n        }\n\n        continue;\n      }\n\n      for (var j$1 = 0; j$1 < sub.changes.length; ++j$1) {\n        var cur = sub.changes[j$1];\n\n        if (to < cur.from.line) {\n          cur.from = Pos(cur.from.line + diff, cur.from.ch);\n          cur.to = Pos(cur.to.line + diff, cur.to.ch);\n        } else if (from <= cur.to.line) {\n          ok = false;\n          break;\n        }\n      }\n\n      if (!ok) {\n        array.splice(0, i + 1);\n        i = 0;\n      }\n    }\n  }\n\n  function rebaseHist(hist, change) {\n    var from = change.from.line,\n        to = change.to.line,\n        diff = change.text.length - (to - from) - 1;\n    rebaseHistArray(hist.done, from, to, diff);\n    rebaseHistArray(hist.undone, from, to, diff);\n  } // Utility for applying a change to a line by handle or number,\n  // returning the number and optionally registering the line as\n  // changed.\n\n\n  function changeLine(doc, handle, changeType, op) {\n    var no = handle,\n        line = handle;\n\n    if (typeof handle == \"number\") {\n      line = getLine(doc, clipLine(doc, handle));\n    } else {\n      no = lineNo(handle);\n    }\n\n    if (no == null) {\n      return null;\n    }\n\n    if (op(line, no) && doc.cm) {\n      regLineChange(doc.cm, no, changeType);\n    }\n\n    return line;\n  } // The document is represented as a BTree consisting of leaves, with\n  // chunk of lines in them, and branches, with up to ten leaves or\n  // other branch nodes below them. The top node is always a branch\n  // node, and is the document object itself (meaning it has\n  // additional methods and properties).\n  //\n  // All nodes have parent links. The tree is used both to go from\n  // line numbers to line objects, and to go from objects to numbers.\n  // It also indexes by height, and is used to convert between height\n  // and line object, and to find the total height of the document.\n  //\n  // See also http://marijnhaverbeke.nl/blog/codemirror-line-tree.html\n\n\n  function LeafChunk(lines) {\n    this.lines = lines;\n    this.parent = null;\n    var height = 0;\n\n    for (var i = 0; i < lines.length; ++i) {\n      lines[i].parent = this;\n      height += lines[i].height;\n    }\n\n    this.height = height;\n  }\n\n  LeafChunk.prototype = {\n    chunkSize: function () {\n      return this.lines.length;\n    },\n    // Remove the n lines at offset 'at'.\n    removeInner: function (at, n) {\n      for (var i = at, e = at + n; i < e; ++i) {\n        var line = this.lines[i];\n        this.height -= line.height;\n        cleanUpLine(line);\n        signalLater(line, \"delete\");\n      }\n\n      this.lines.splice(at, n);\n    },\n    // Helper used to collapse a small branch into a single leaf.\n    collapse: function (lines) {\n      lines.push.apply(lines, this.lines);\n    },\n    // Insert the given array of lines at offset 'at', count them as\n    // having the given height.\n    insertInner: function (at, lines, height) {\n      this.height += height;\n      this.lines = this.lines.slice(0, at).concat(lines).concat(this.lines.slice(at));\n\n      for (var i = 0; i < lines.length; ++i) {\n        lines[i].parent = this;\n      }\n    },\n    // Used to iterate over a part of the tree.\n    iterN: function (at, n, op) {\n      for (var e = at + n; at < e; ++at) {\n        if (op(this.lines[at])) {\n          return true;\n        }\n      }\n    }\n  };\n\n  function BranchChunk(children) {\n    this.children = children;\n    var size = 0,\n        height = 0;\n\n    for (var i = 0; i < children.length; ++i) {\n      var ch = children[i];\n      size += ch.chunkSize();\n      height += ch.height;\n      ch.parent = this;\n    }\n\n    this.size = size;\n    this.height = height;\n    this.parent = null;\n  }\n\n  BranchChunk.prototype = {\n    chunkSize: function () {\n      return this.size;\n    },\n    removeInner: function (at, n) {\n      this.size -= n;\n\n      for (var i = 0; i < this.children.length; ++i) {\n        var child = this.children[i],\n            sz = child.chunkSize();\n\n        if (at < sz) {\n          var rm = Math.min(n, sz - at),\n              oldHeight = child.height;\n          child.removeInner(at, rm);\n          this.height -= oldHeight - child.height;\n\n          if (sz == rm) {\n            this.children.splice(i--, 1);\n            child.parent = null;\n          }\n\n          if ((n -= rm) == 0) {\n            break;\n          }\n\n          at = 0;\n        } else {\n          at -= sz;\n        }\n      } // If the result is smaller than 25 lines, ensure that it is a\n      // single leaf node.\n\n\n      if (this.size - n < 25 && (this.children.length > 1 || !(this.children[0] instanceof LeafChunk))) {\n        var lines = [];\n        this.collapse(lines);\n        this.children = [new LeafChunk(lines)];\n        this.children[0].parent = this;\n      }\n    },\n    collapse: function (lines) {\n      for (var i = 0; i < this.children.length; ++i) {\n        this.children[i].collapse(lines);\n      }\n    },\n    insertInner: function (at, lines, height) {\n      this.size += lines.length;\n      this.height += height;\n\n      for (var i = 0; i < this.children.length; ++i) {\n        var child = this.children[i],\n            sz = child.chunkSize();\n\n        if (at <= sz) {\n          child.insertInner(at, lines, height);\n\n          if (child.lines && child.lines.length > 50) {\n            // To avoid memory thrashing when child.lines is huge (e.g. first view of a large file), it's never spliced.\n            // Instead, small slices are taken. They're taken in order because sequential memory accesses are fastest.\n            var remaining = child.lines.length % 25 + 25;\n\n            for (var pos = remaining; pos < child.lines.length;) {\n              var leaf = new LeafChunk(child.lines.slice(pos, pos += 25));\n              child.height -= leaf.height;\n              this.children.splice(++i, 0, leaf);\n              leaf.parent = this;\n            }\n\n            child.lines = child.lines.slice(0, remaining);\n            this.maybeSpill();\n          }\n\n          break;\n        }\n\n        at -= sz;\n      }\n    },\n    // When a node has grown, check whether it should be split.\n    maybeSpill: function () {\n      if (this.children.length <= 10) {\n        return;\n      }\n\n      var me = this;\n\n      do {\n        var spilled = me.children.splice(me.children.length - 5, 5);\n        var sibling = new BranchChunk(spilled);\n\n        if (!me.parent) {\n          // Become the parent node\n          var copy = new BranchChunk(me.children);\n          copy.parent = me;\n          me.children = [copy, sibling];\n          me = copy;\n        } else {\n          me.size -= sibling.size;\n          me.height -= sibling.height;\n          var myIndex = indexOf(me.parent.children, me);\n          me.parent.children.splice(myIndex + 1, 0, sibling);\n        }\n\n        sibling.parent = me.parent;\n      } while (me.children.length > 10);\n\n      me.parent.maybeSpill();\n    },\n    iterN: function (at, n, op) {\n      for (var i = 0; i < this.children.length; ++i) {\n        var child = this.children[i],\n            sz = child.chunkSize();\n\n        if (at < sz) {\n          var used = Math.min(n, sz - at);\n\n          if (child.iterN(at, used, op)) {\n            return true;\n          }\n\n          if ((n -= used) == 0) {\n            break;\n          }\n\n          at = 0;\n        } else {\n          at -= sz;\n        }\n      }\n    }\n  }; // Line widgets are block elements displayed above or below a line.\n\n  var LineWidget = function (doc, node, options) {\n    if (options) {\n      for (var opt in options) {\n        if (options.hasOwnProperty(opt)) {\n          this[opt] = options[opt];\n        }\n      }\n    }\n\n    this.doc = doc;\n    this.node = node;\n  };\n\n  LineWidget.prototype.clear = function () {\n    var cm = this.doc.cm,\n        ws = this.line.widgets,\n        line = this.line,\n        no = lineNo(line);\n\n    if (no == null || !ws) {\n      return;\n    }\n\n    for (var i = 0; i < ws.length; ++i) {\n      if (ws[i] == this) {\n        ws.splice(i--, 1);\n      }\n    }\n\n    if (!ws.length) {\n      line.widgets = null;\n    }\n\n    var height = widgetHeight(this);\n    updateLineHeight(line, Math.max(0, line.height - height));\n\n    if (cm) {\n      runInOp(cm, function () {\n        adjustScrollWhenAboveVisible(cm, line, -height);\n        regLineChange(cm, no, \"widget\");\n      });\n      signalLater(cm, \"lineWidgetCleared\", cm, this, no);\n    }\n  };\n\n  LineWidget.prototype.changed = function () {\n    var this$1 = this;\n    var oldH = this.height,\n        cm = this.doc.cm,\n        line = this.line;\n    this.height = null;\n    var diff = widgetHeight(this) - oldH;\n\n    if (!diff) {\n      return;\n    }\n\n    if (!lineIsHidden(this.doc, line)) {\n      updateLineHeight(line, line.height + diff);\n    }\n\n    if (cm) {\n      runInOp(cm, function () {\n        cm.curOp.forceUpdate = true;\n        adjustScrollWhenAboveVisible(cm, line, diff);\n        signalLater(cm, \"lineWidgetChanged\", cm, this$1, lineNo(line));\n      });\n    }\n  };\n\n  eventMixin(LineWidget);\n\n  function adjustScrollWhenAboveVisible(cm, line, diff) {\n    if (heightAtLine(line) < (cm.curOp && cm.curOp.scrollTop || cm.doc.scrollTop)) {\n      addToScrollTop(cm, diff);\n    }\n  }\n\n  function addLineWidget(doc, handle, node, options) {\n    var widget = new LineWidget(doc, node, options);\n    var cm = doc.cm;\n\n    if (cm && widget.noHScroll) {\n      cm.display.alignWidgets = true;\n    }\n\n    changeLine(doc, handle, \"widget\", function (line) {\n      var widgets = line.widgets || (line.widgets = []);\n\n      if (widget.insertAt == null) {\n        widgets.push(widget);\n      } else {\n        widgets.splice(Math.min(widgets.length - 1, Math.max(0, widget.insertAt)), 0, widget);\n      }\n\n      widget.line = line;\n\n      if (cm && !lineIsHidden(doc, line)) {\n        var aboveVisible = heightAtLine(line) < doc.scrollTop;\n        updateLineHeight(line, line.height + widgetHeight(widget));\n\n        if (aboveVisible) {\n          addToScrollTop(cm, widget.height);\n        }\n\n        cm.curOp.forceUpdate = true;\n      }\n\n      return true;\n    });\n\n    if (cm) {\n      signalLater(cm, \"lineWidgetAdded\", cm, widget, typeof handle == \"number\" ? handle : lineNo(handle));\n    }\n\n    return widget;\n  } // TEXTMARKERS\n  // Created with markText and setBookmark methods. A TextMarker is a\n  // handle that can be used to clear or find a marked position in the\n  // document. Line objects hold arrays (markedSpans) containing\n  // {from, to, marker} object pointing to such marker objects, and\n  // indicating that such a marker is present on that line. Multiple\n  // lines may point to the same marker when it spans across lines.\n  // The spans will have null for their from/to properties when the\n  // marker continues beyond the start/end of the line. Markers have\n  // links back to the lines they currently touch.\n  // Collapsed markers have unique ids, in order to be able to order\n  // them, which is needed for uniquely determining an outer marker\n  // when they overlap (they may nest, but not partially overlap).\n\n\n  var nextMarkerId = 0;\n\n  var TextMarker = function (doc, type) {\n    this.lines = [];\n    this.type = type;\n    this.doc = doc;\n    this.id = ++nextMarkerId;\n  }; // Clear the marker.\n\n\n  TextMarker.prototype.clear = function () {\n    if (this.explicitlyCleared) {\n      return;\n    }\n\n    var cm = this.doc.cm,\n        withOp = cm && !cm.curOp;\n\n    if (withOp) {\n      startOperation(cm);\n    }\n\n    if (hasHandler(this, \"clear\")) {\n      var found = this.find();\n\n      if (found) {\n        signalLater(this, \"clear\", found.from, found.to);\n      }\n    }\n\n    var min = null,\n        max = null;\n\n    for (var i = 0; i < this.lines.length; ++i) {\n      var line = this.lines[i];\n      var span = getMarkedSpanFor(line.markedSpans, this);\n\n      if (cm && !this.collapsed) {\n        regLineChange(cm, lineNo(line), \"text\");\n      } else if (cm) {\n        if (span.to != null) {\n          max = lineNo(line);\n        }\n\n        if (span.from != null) {\n          min = lineNo(line);\n        }\n      }\n\n      line.markedSpans = removeMarkedSpan(line.markedSpans, span);\n\n      if (span.from == null && this.collapsed && !lineIsHidden(this.doc, line) && cm) {\n        updateLineHeight(line, textHeight(cm.display));\n      }\n    }\n\n    if (cm && this.collapsed && !cm.options.lineWrapping) {\n      for (var i$1 = 0; i$1 < this.lines.length; ++i$1) {\n        var visual = visualLine(this.lines[i$1]),\n            len = lineLength(visual);\n\n        if (len > cm.display.maxLineLength) {\n          cm.display.maxLine = visual;\n          cm.display.maxLineLength = len;\n          cm.display.maxLineChanged = true;\n        }\n      }\n    }\n\n    if (min != null && cm && this.collapsed) {\n      regChange(cm, min, max + 1);\n    }\n\n    this.lines.length = 0;\n    this.explicitlyCleared = true;\n\n    if (this.atomic && this.doc.cantEdit) {\n      this.doc.cantEdit = false;\n\n      if (cm) {\n        reCheckSelection(cm.doc);\n      }\n    }\n\n    if (cm) {\n      signalLater(cm, \"markerCleared\", cm, this, min, max);\n    }\n\n    if (withOp) {\n      endOperation(cm);\n    }\n\n    if (this.parent) {\n      this.parent.clear();\n    }\n  }; // Find the position of the marker in the document. Returns a {from,\n  // to} object by default. Side can be passed to get a specific side\n  // -- 0 (both), -1 (left), or 1 (right). When lineObj is true, the\n  // Pos objects returned contain a line object, rather than a line\n  // number (used to prevent looking up the same line twice).\n\n\n  TextMarker.prototype.find = function (side, lineObj) {\n    if (side == null && this.type == \"bookmark\") {\n      side = 1;\n    }\n\n    var from, to;\n\n    for (var i = 0; i < this.lines.length; ++i) {\n      var line = this.lines[i];\n      var span = getMarkedSpanFor(line.markedSpans, this);\n\n      if (span.from != null) {\n        from = Pos(lineObj ? line : lineNo(line), span.from);\n\n        if (side == -1) {\n          return from;\n        }\n      }\n\n      if (span.to != null) {\n        to = Pos(lineObj ? line : lineNo(line), span.to);\n\n        if (side == 1) {\n          return to;\n        }\n      }\n    }\n\n    return from && {\n      from: from,\n      to: to\n    };\n  }; // Signals that the marker's widget changed, and surrounding layout\n  // should be recomputed.\n\n\n  TextMarker.prototype.changed = function () {\n    var this$1 = this;\n    var pos = this.find(-1, true),\n        widget = this,\n        cm = this.doc.cm;\n\n    if (!pos || !cm) {\n      return;\n    }\n\n    runInOp(cm, function () {\n      var line = pos.line,\n          lineN = lineNo(pos.line);\n      var view = findViewForLine(cm, lineN);\n\n      if (view) {\n        clearLineMeasurementCacheFor(view);\n        cm.curOp.selectionChanged = cm.curOp.forceUpdate = true;\n      }\n\n      cm.curOp.updateMaxLine = true;\n\n      if (!lineIsHidden(widget.doc, line) && widget.height != null) {\n        var oldHeight = widget.height;\n        widget.height = null;\n        var dHeight = widgetHeight(widget) - oldHeight;\n\n        if (dHeight) {\n          updateLineHeight(line, line.height + dHeight);\n        }\n      }\n\n      signalLater(cm, \"markerChanged\", cm, this$1);\n    });\n  };\n\n  TextMarker.prototype.attachLine = function (line) {\n    if (!this.lines.length && this.doc.cm) {\n      var op = this.doc.cm.curOp;\n\n      if (!op.maybeHiddenMarkers || indexOf(op.maybeHiddenMarkers, this) == -1) {\n        (op.maybeUnhiddenMarkers || (op.maybeUnhiddenMarkers = [])).push(this);\n      }\n    }\n\n    this.lines.push(line);\n  };\n\n  TextMarker.prototype.detachLine = function (line) {\n    this.lines.splice(indexOf(this.lines, line), 1);\n\n    if (!this.lines.length && this.doc.cm) {\n      var op = this.doc.cm.curOp;\n      (op.maybeHiddenMarkers || (op.maybeHiddenMarkers = [])).push(this);\n    }\n  };\n\n  eventMixin(TextMarker); // Create a marker, wire it up to the right lines, and\n\n  function markText(doc, from, to, options, type) {\n    // Shared markers (across linked documents) are handled separately\n    // (markTextShared will call out to this again, once per\n    // document).\n    if (options && options.shared) {\n      return markTextShared(doc, from, to, options, type);\n    } // Ensure we are in an operation.\n\n\n    if (doc.cm && !doc.cm.curOp) {\n      return operation(doc.cm, markText)(doc, from, to, options, type);\n    }\n\n    var marker = new TextMarker(doc, type),\n        diff = cmp(from, to);\n\n    if (options) {\n      copyObj(options, marker, false);\n    } // Don't connect empty markers unless clearWhenEmpty is false\n\n\n    if (diff > 0 || diff == 0 && marker.clearWhenEmpty !== false) {\n      return marker;\n    }\n\n    if (marker.replacedWith) {\n      // Showing up as a widget implies collapsed (widget replaces text)\n      marker.collapsed = true;\n      marker.widgetNode = eltP(\"span\", [marker.replacedWith], \"CodeMirror-widget\");\n\n      if (!options.handleMouseEvents) {\n        marker.widgetNode.setAttribute(\"cm-ignore-events\", \"true\");\n      }\n\n      if (options.insertLeft) {\n        marker.widgetNode.insertLeft = true;\n      }\n    }\n\n    if (marker.collapsed) {\n      if (conflictingCollapsedRange(doc, from.line, from, to, marker) || from.line != to.line && conflictingCollapsedRange(doc, to.line, from, to, marker)) {\n        throw new Error(\"Inserting collapsed marker partially overlapping an existing one\");\n      }\n\n      seeCollapsedSpans();\n    }\n\n    if (marker.addToHistory) {\n      addChangeToHistory(doc, {\n        from: from,\n        to: to,\n        origin: \"markText\"\n      }, doc.sel, NaN);\n    }\n\n    var curLine = from.line,\n        cm = doc.cm,\n        updateMaxLine;\n    doc.iter(curLine, to.line + 1, function (line) {\n      if (cm && marker.collapsed && !cm.options.lineWrapping && visualLine(line) == cm.display.maxLine) {\n        updateMaxLine = true;\n      }\n\n      if (marker.collapsed && curLine != from.line) {\n        updateLineHeight(line, 0);\n      }\n\n      addMarkedSpan(line, new MarkedSpan(marker, curLine == from.line ? from.ch : null, curLine == to.line ? to.ch : null));\n      ++curLine;\n    }); // lineIsHidden depends on the presence of the spans, so needs a second pass\n\n    if (marker.collapsed) {\n      doc.iter(from.line, to.line + 1, function (line) {\n        if (lineIsHidden(doc, line)) {\n          updateLineHeight(line, 0);\n        }\n      });\n    }\n\n    if (marker.clearOnEnter) {\n      on(marker, \"beforeCursorEnter\", function () {\n        return marker.clear();\n      });\n    }\n\n    if (marker.readOnly) {\n      seeReadOnlySpans();\n\n      if (doc.history.done.length || doc.history.undone.length) {\n        doc.clearHistory();\n      }\n    }\n\n    if (marker.collapsed) {\n      marker.id = ++nextMarkerId;\n      marker.atomic = true;\n    }\n\n    if (cm) {\n      // Sync editor state\n      if (updateMaxLine) {\n        cm.curOp.updateMaxLine = true;\n      }\n\n      if (marker.collapsed) {\n        regChange(cm, from.line, to.line + 1);\n      } else if (marker.className || marker.startStyle || marker.endStyle || marker.css || marker.attributes || marker.title) {\n        for (var i = from.line; i <= to.line; i++) {\n          regLineChange(cm, i, \"text\");\n        }\n      }\n\n      if (marker.atomic) {\n        reCheckSelection(cm.doc);\n      }\n\n      signalLater(cm, \"markerAdded\", cm, marker);\n    }\n\n    return marker;\n  } // SHARED TEXTMARKERS\n  // A shared marker spans multiple linked documents. It is\n  // implemented as a meta-marker-object controlling multiple normal\n  // markers.\n\n\n  var SharedTextMarker = function (markers, primary) {\n    this.markers = markers;\n    this.primary = primary;\n\n    for (var i = 0; i < markers.length; ++i) {\n      markers[i].parent = this;\n    }\n  };\n\n  SharedTextMarker.prototype.clear = function () {\n    if (this.explicitlyCleared) {\n      return;\n    }\n\n    this.explicitlyCleared = true;\n\n    for (var i = 0; i < this.markers.length; ++i) {\n      this.markers[i].clear();\n    }\n\n    signalLater(this, \"clear\");\n  };\n\n  SharedTextMarker.prototype.find = function (side, lineObj) {\n    return this.primary.find(side, lineObj);\n  };\n\n  eventMixin(SharedTextMarker);\n\n  function markTextShared(doc, from, to, options, type) {\n    options = copyObj(options);\n    options.shared = false;\n    var markers = [markText(doc, from, to, options, type)],\n        primary = markers[0];\n    var widget = options.widgetNode;\n    linkedDocs(doc, function (doc) {\n      if (widget) {\n        options.widgetNode = widget.cloneNode(true);\n      }\n\n      markers.push(markText(doc, clipPos(doc, from), clipPos(doc, to), options, type));\n\n      for (var i = 0; i < doc.linked.length; ++i) {\n        if (doc.linked[i].isParent) {\n          return;\n        }\n      }\n\n      primary = lst(markers);\n    });\n    return new SharedTextMarker(markers, primary);\n  }\n\n  function findSharedMarkers(doc) {\n    return doc.findMarks(Pos(doc.first, 0), doc.clipPos(Pos(doc.lastLine())), function (m) {\n      return m.parent;\n    });\n  }\n\n  function copySharedMarkers(doc, markers) {\n    for (var i = 0; i < markers.length; i++) {\n      var marker = markers[i],\n          pos = marker.find();\n      var mFrom = doc.clipPos(pos.from),\n          mTo = doc.clipPos(pos.to);\n\n      if (cmp(mFrom, mTo)) {\n        var subMark = markText(doc, mFrom, mTo, marker.primary, marker.primary.type);\n        marker.markers.push(subMark);\n        subMark.parent = marker;\n      }\n    }\n  }\n\n  function detachSharedMarkers(markers) {\n    var loop = function (i) {\n      var marker = markers[i],\n          linked = [marker.primary.doc];\n      linkedDocs(marker.primary.doc, function (d) {\n        return linked.push(d);\n      });\n\n      for (var j = 0; j < marker.markers.length; j++) {\n        var subMarker = marker.markers[j];\n\n        if (indexOf(linked, subMarker.doc) == -1) {\n          subMarker.parent = null;\n          marker.markers.splice(j--, 1);\n        }\n      }\n    };\n\n    for (var i = 0; i < markers.length; i++) loop(i);\n  }\n\n  var nextDocId = 0;\n\n  var Doc = function (text, mode, firstLine, lineSep, direction) {\n    if (!(this instanceof Doc)) {\n      return new Doc(text, mode, firstLine, lineSep, direction);\n    }\n\n    if (firstLine == null) {\n      firstLine = 0;\n    }\n\n    BranchChunk.call(this, [new LeafChunk([new Line(\"\", null)])]);\n    this.first = firstLine;\n    this.scrollTop = this.scrollLeft = 0;\n    this.cantEdit = false;\n    this.cleanGeneration = 1;\n    this.modeFrontier = this.highlightFrontier = firstLine;\n    var start = Pos(firstLine, 0);\n    this.sel = simpleSelection(start);\n    this.history = new History(null);\n    this.id = ++nextDocId;\n    this.modeOption = mode;\n    this.lineSep = lineSep;\n    this.direction = direction == \"rtl\" ? \"rtl\" : \"ltr\";\n    this.extend = false;\n\n    if (typeof text == \"string\") {\n      text = this.splitLines(text);\n    }\n\n    updateDoc(this, {\n      from: start,\n      to: start,\n      text: text\n    });\n    setSelection(this, simpleSelection(start), sel_dontScroll);\n  };\n\n  Doc.prototype = createObj(BranchChunk.prototype, {\n    constructor: Doc,\n    // Iterate over the document. Supports two forms -- with only one\n    // argument, it calls that for each line in the document. With\n    // three, it iterates over the range given by the first two (with\n    // the second being non-inclusive).\n    iter: function (from, to, op) {\n      if (op) {\n        this.iterN(from - this.first, to - from, op);\n      } else {\n        this.iterN(this.first, this.first + this.size, from);\n      }\n    },\n    // Non-public interface for adding and removing lines.\n    insert: function (at, lines) {\n      var height = 0;\n\n      for (var i = 0; i < lines.length; ++i) {\n        height += lines[i].height;\n      }\n\n      this.insertInner(at - this.first, lines, height);\n    },\n    remove: function (at, n) {\n      this.removeInner(at - this.first, n);\n    },\n    // From here, the methods are part of the public interface. Most\n    // are also available from CodeMirror (editor) instances.\n    getValue: function (lineSep) {\n      var lines = getLines(this, this.first, this.first + this.size);\n\n      if (lineSep === false) {\n        return lines;\n      }\n\n      return lines.join(lineSep || this.lineSeparator());\n    },\n    setValue: docMethodOp(function (code) {\n      var top = Pos(this.first, 0),\n          last = this.first + this.size - 1;\n      makeChange(this, {\n        from: top,\n        to: Pos(last, getLine(this, last).text.length),\n        text: this.splitLines(code),\n        origin: \"setValue\",\n        full: true\n      }, true);\n\n      if (this.cm) {\n        scrollToCoords(this.cm, 0, 0);\n      }\n\n      setSelection(this, simpleSelection(top), sel_dontScroll);\n    }),\n    replaceRange: function (code, from, to, origin) {\n      from = clipPos(this, from);\n      to = to ? clipPos(this, to) : from;\n      replaceRange(this, code, from, to, origin);\n    },\n    getRange: function (from, to, lineSep) {\n      var lines = getBetween(this, clipPos(this, from), clipPos(this, to));\n\n      if (lineSep === false) {\n        return lines;\n      }\n\n      return lines.join(lineSep || this.lineSeparator());\n    },\n    getLine: function (line) {\n      var l = this.getLineHandle(line);\n      return l && l.text;\n    },\n    getLineHandle: function (line) {\n      if (isLine(this, line)) {\n        return getLine(this, line);\n      }\n    },\n    getLineNumber: function (line) {\n      return lineNo(line);\n    },\n    getLineHandleVisualStart: function (line) {\n      if (typeof line == \"number\") {\n        line = getLine(this, line);\n      }\n\n      return visualLine(line);\n    },\n    lineCount: function () {\n      return this.size;\n    },\n    firstLine: function () {\n      return this.first;\n    },\n    lastLine: function () {\n      return this.first + this.size - 1;\n    },\n    clipPos: function (pos) {\n      return clipPos(this, pos);\n    },\n    getCursor: function (start) {\n      var range = this.sel.primary(),\n          pos;\n\n      if (start == null || start == \"head\") {\n        pos = range.head;\n      } else if (start == \"anchor\") {\n        pos = range.anchor;\n      } else if (start == \"end\" || start == \"to\" || start === false) {\n        pos = range.to();\n      } else {\n        pos = range.from();\n      }\n\n      return pos;\n    },\n    listSelections: function () {\n      return this.sel.ranges;\n    },\n    somethingSelected: function () {\n      return this.sel.somethingSelected();\n    },\n    setCursor: docMethodOp(function (line, ch, options) {\n      setSimpleSelection(this, clipPos(this, typeof line == \"number\" ? Pos(line, ch || 0) : line), null, options);\n    }),\n    setSelection: docMethodOp(function (anchor, head, options) {\n      setSimpleSelection(this, clipPos(this, anchor), clipPos(this, head || anchor), options);\n    }),\n    extendSelection: docMethodOp(function (head, other, options) {\n      extendSelection(this, clipPos(this, head), other && clipPos(this, other), options);\n    }),\n    extendSelections: docMethodOp(function (heads, options) {\n      extendSelections(this, clipPosArray(this, heads), options);\n    }),\n    extendSelectionsBy: docMethodOp(function (f, options) {\n      var heads = map(this.sel.ranges, f);\n      extendSelections(this, clipPosArray(this, heads), options);\n    }),\n    setSelections: docMethodOp(function (ranges, primary, options) {\n      if (!ranges.length) {\n        return;\n      }\n\n      var out = [];\n\n      for (var i = 0; i < ranges.length; i++) {\n        out[i] = new Range(clipPos(this, ranges[i].anchor), clipPos(this, ranges[i].head));\n      }\n\n      if (primary == null) {\n        primary = Math.min(ranges.length - 1, this.sel.primIndex);\n      }\n\n      setSelection(this, normalizeSelection(this.cm, out, primary), options);\n    }),\n    addSelection: docMethodOp(function (anchor, head, options) {\n      var ranges = this.sel.ranges.slice(0);\n      ranges.push(new Range(clipPos(this, anchor), clipPos(this, head || anchor)));\n      setSelection(this, normalizeSelection(this.cm, ranges, ranges.length - 1), options);\n    }),\n    getSelection: function (lineSep) {\n      var ranges = this.sel.ranges,\n          lines;\n\n      for (var i = 0; i < ranges.length; i++) {\n        var sel = getBetween(this, ranges[i].from(), ranges[i].to());\n        lines = lines ? lines.concat(sel) : sel;\n      }\n\n      if (lineSep === false) {\n        return lines;\n      } else {\n        return lines.join(lineSep || this.lineSeparator());\n      }\n    },\n    getSelections: function (lineSep) {\n      var parts = [],\n          ranges = this.sel.ranges;\n\n      for (var i = 0; i < ranges.length; i++) {\n        var sel = getBetween(this, ranges[i].from(), ranges[i].to());\n\n        if (lineSep !== false) {\n          sel = sel.join(lineSep || this.lineSeparator());\n        }\n\n        parts[i] = sel;\n      }\n\n      return parts;\n    },\n    replaceSelection: function (code, collapse, origin) {\n      var dup = [];\n\n      for (var i = 0; i < this.sel.ranges.length; i++) {\n        dup[i] = code;\n      }\n\n      this.replaceSelections(dup, collapse, origin || \"+input\");\n    },\n    replaceSelections: docMethodOp(function (code, collapse, origin) {\n      var changes = [],\n          sel = this.sel;\n\n      for (var i = 0; i < sel.ranges.length; i++) {\n        var range = sel.ranges[i];\n        changes[i] = {\n          from: range.from(),\n          to: range.to(),\n          text: this.splitLines(code[i]),\n          origin: origin\n        };\n      }\n\n      var newSel = collapse && collapse != \"end\" && computeReplacedSel(this, changes, collapse);\n\n      for (var i$1 = changes.length - 1; i$1 >= 0; i$1--) {\n        makeChange(this, changes[i$1]);\n      }\n\n      if (newSel) {\n        setSelectionReplaceHistory(this, newSel);\n      } else if (this.cm) {\n        ensureCursorVisible(this.cm);\n      }\n    }),\n    undo: docMethodOp(function () {\n      makeChangeFromHistory(this, \"undo\");\n    }),\n    redo: docMethodOp(function () {\n      makeChangeFromHistory(this, \"redo\");\n    }),\n    undoSelection: docMethodOp(function () {\n      makeChangeFromHistory(this, \"undo\", true);\n    }),\n    redoSelection: docMethodOp(function () {\n      makeChangeFromHistory(this, \"redo\", true);\n    }),\n    setExtending: function (val) {\n      this.extend = val;\n    },\n    getExtending: function () {\n      return this.extend;\n    },\n    historySize: function () {\n      var hist = this.history,\n          done = 0,\n          undone = 0;\n\n      for (var i = 0; i < hist.done.length; i++) {\n        if (!hist.done[i].ranges) {\n          ++done;\n        }\n      }\n\n      for (var i$1 = 0; i$1 < hist.undone.length; i$1++) {\n        if (!hist.undone[i$1].ranges) {\n          ++undone;\n        }\n      }\n\n      return {\n        undo: done,\n        redo: undone\n      };\n    },\n    clearHistory: function () {\n      var this$1 = this;\n      this.history = new History(this.history.maxGeneration);\n      linkedDocs(this, function (doc) {\n        return doc.history = this$1.history;\n      }, true);\n    },\n    markClean: function () {\n      this.cleanGeneration = this.changeGeneration(true);\n    },\n    changeGeneration: function (forceSplit) {\n      if (forceSplit) {\n        this.history.lastOp = this.history.lastSelOp = this.history.lastOrigin = null;\n      }\n\n      return this.history.generation;\n    },\n    isClean: function (gen) {\n      return this.history.generation == (gen || this.cleanGeneration);\n    },\n    getHistory: function () {\n      return {\n        done: copyHistoryArray(this.history.done),\n        undone: copyHistoryArray(this.history.undone)\n      };\n    },\n    setHistory: function (histData) {\n      var hist = this.history = new History(this.history.maxGeneration);\n      hist.done = copyHistoryArray(histData.done.slice(0), null, true);\n      hist.undone = copyHistoryArray(histData.undone.slice(0), null, true);\n    },\n    setGutterMarker: docMethodOp(function (line, gutterID, value) {\n      return changeLine(this, line, \"gutter\", function (line) {\n        var markers = line.gutterMarkers || (line.gutterMarkers = {});\n        markers[gutterID] = value;\n\n        if (!value && isEmpty(markers)) {\n          line.gutterMarkers = null;\n        }\n\n        return true;\n      });\n    }),\n    clearGutter: docMethodOp(function (gutterID) {\n      var this$1 = this;\n      this.iter(function (line) {\n        if (line.gutterMarkers && line.gutterMarkers[gutterID]) {\n          changeLine(this$1, line, \"gutter\", function () {\n            line.gutterMarkers[gutterID] = null;\n\n            if (isEmpty(line.gutterMarkers)) {\n              line.gutterMarkers = null;\n            }\n\n            return true;\n          });\n        }\n      });\n    }),\n    lineInfo: function (line) {\n      var n;\n\n      if (typeof line == \"number\") {\n        if (!isLine(this, line)) {\n          return null;\n        }\n\n        n = line;\n        line = getLine(this, line);\n\n        if (!line) {\n          return null;\n        }\n      } else {\n        n = lineNo(line);\n\n        if (n == null) {\n          return null;\n        }\n      }\n\n      return {\n        line: n,\n        handle: line,\n        text: line.text,\n        gutterMarkers: line.gutterMarkers,\n        textClass: line.textClass,\n        bgClass: line.bgClass,\n        wrapClass: line.wrapClass,\n        widgets: line.widgets\n      };\n    },\n    addLineClass: docMethodOp(function (handle, where, cls) {\n      return changeLine(this, handle, where == \"gutter\" ? \"gutter\" : \"class\", function (line) {\n        var prop = where == \"text\" ? \"textClass\" : where == \"background\" ? \"bgClass\" : where == \"gutter\" ? \"gutterClass\" : \"wrapClass\";\n\n        if (!line[prop]) {\n          line[prop] = cls;\n        } else if (classTest(cls).test(line[prop])) {\n          return false;\n        } else {\n          line[prop] += \" \" + cls;\n        }\n\n        return true;\n      });\n    }),\n    removeLineClass: docMethodOp(function (handle, where, cls) {\n      return changeLine(this, handle, where == \"gutter\" ? \"gutter\" : \"class\", function (line) {\n        var prop = where == \"text\" ? \"textClass\" : where == \"background\" ? \"bgClass\" : where == \"gutter\" ? \"gutterClass\" : \"wrapClass\";\n        var cur = line[prop];\n\n        if (!cur) {\n          return false;\n        } else if (cls == null) {\n          line[prop] = null;\n        } else {\n          var found = cur.match(classTest(cls));\n\n          if (!found) {\n            return false;\n          }\n\n          var end = found.index + found[0].length;\n          line[prop] = cur.slice(0, found.index) + (!found.index || end == cur.length ? \"\" : \" \") + cur.slice(end) || null;\n        }\n\n        return true;\n      });\n    }),\n    addLineWidget: docMethodOp(function (handle, node, options) {\n      return addLineWidget(this, handle, node, options);\n    }),\n    removeLineWidget: function (widget) {\n      widget.clear();\n    },\n    markText: function (from, to, options) {\n      return markText(this, clipPos(this, from), clipPos(this, to), options, options && options.type || \"range\");\n    },\n    setBookmark: function (pos, options) {\n      var realOpts = {\n        replacedWith: options && (options.nodeType == null ? options.widget : options),\n        insertLeft: options && options.insertLeft,\n        clearWhenEmpty: false,\n        shared: options && options.shared,\n        handleMouseEvents: options && options.handleMouseEvents\n      };\n      pos = clipPos(this, pos);\n      return markText(this, pos, pos, realOpts, \"bookmark\");\n    },\n    findMarksAt: function (pos) {\n      pos = clipPos(this, pos);\n      var markers = [],\n          spans = getLine(this, pos.line).markedSpans;\n\n      if (spans) {\n        for (var i = 0; i < spans.length; ++i) {\n          var span = spans[i];\n\n          if ((span.from == null || span.from <= pos.ch) && (span.to == null || span.to >= pos.ch)) {\n            markers.push(span.marker.parent || span.marker);\n          }\n        }\n      }\n\n      return markers;\n    },\n    findMarks: function (from, to, filter) {\n      from = clipPos(this, from);\n      to = clipPos(this, to);\n      var found = [],\n          lineNo = from.line;\n      this.iter(from.line, to.line + 1, function (line) {\n        var spans = line.markedSpans;\n\n        if (spans) {\n          for (var i = 0; i < spans.length; i++) {\n            var span = spans[i];\n\n            if (!(span.to != null && lineNo == from.line && from.ch >= span.to || span.from == null && lineNo != from.line || span.from != null && lineNo == to.line && span.from >= to.ch) && (!filter || filter(span.marker))) {\n              found.push(span.marker.parent || span.marker);\n            }\n          }\n        }\n\n        ++lineNo;\n      });\n      return found;\n    },\n    getAllMarks: function () {\n      var markers = [];\n      this.iter(function (line) {\n        var sps = line.markedSpans;\n\n        if (sps) {\n          for (var i = 0; i < sps.length; ++i) {\n            if (sps[i].from != null) {\n              markers.push(sps[i].marker);\n            }\n          }\n        }\n      });\n      return markers;\n    },\n    posFromIndex: function (off) {\n      var ch,\n          lineNo = this.first,\n          sepSize = this.lineSeparator().length;\n      this.iter(function (line) {\n        var sz = line.text.length + sepSize;\n\n        if (sz > off) {\n          ch = off;\n          return true;\n        }\n\n        off -= sz;\n        ++lineNo;\n      });\n      return clipPos(this, Pos(lineNo, ch));\n    },\n    indexFromPos: function (coords) {\n      coords = clipPos(this, coords);\n      var index = coords.ch;\n\n      if (coords.line < this.first || coords.ch < 0) {\n        return 0;\n      }\n\n      var sepSize = this.lineSeparator().length;\n      this.iter(this.first, coords.line, function (line) {\n        // iter aborts when callback returns a truthy value\n        index += line.text.length + sepSize;\n      });\n      return index;\n    },\n    copy: function (copyHistory) {\n      var doc = new Doc(getLines(this, this.first, this.first + this.size), this.modeOption, this.first, this.lineSep, this.direction);\n      doc.scrollTop = this.scrollTop;\n      doc.scrollLeft = this.scrollLeft;\n      doc.sel = this.sel;\n      doc.extend = false;\n\n      if (copyHistory) {\n        doc.history.undoDepth = this.history.undoDepth;\n        doc.setHistory(this.getHistory());\n      }\n\n      return doc;\n    },\n    linkedDoc: function (options) {\n      if (!options) {\n        options = {};\n      }\n\n      var from = this.first,\n          to = this.first + this.size;\n\n      if (options.from != null && options.from > from) {\n        from = options.from;\n      }\n\n      if (options.to != null && options.to < to) {\n        to = options.to;\n      }\n\n      var copy = new Doc(getLines(this, from, to), options.mode || this.modeOption, from, this.lineSep, this.direction);\n\n      if (options.sharedHist) {\n        copy.history = this.history;\n      }\n\n      (this.linked || (this.linked = [])).push({\n        doc: copy,\n        sharedHist: options.sharedHist\n      });\n      copy.linked = [{\n        doc: this,\n        isParent: true,\n        sharedHist: options.sharedHist\n      }];\n      copySharedMarkers(copy, findSharedMarkers(this));\n      return copy;\n    },\n    unlinkDoc: function (other) {\n      if (other instanceof CodeMirror) {\n        other = other.doc;\n      }\n\n      if (this.linked) {\n        for (var i = 0; i < this.linked.length; ++i) {\n          var link = this.linked[i];\n\n          if (link.doc != other) {\n            continue;\n          }\n\n          this.linked.splice(i, 1);\n          other.unlinkDoc(this);\n          detachSharedMarkers(findSharedMarkers(this));\n          break;\n        }\n      } // If the histories were shared, split them again\n\n\n      if (other.history == this.history) {\n        var splitIds = [other.id];\n        linkedDocs(other, function (doc) {\n          return splitIds.push(doc.id);\n        }, true);\n        other.history = new History(null);\n        other.history.done = copyHistoryArray(this.history.done, splitIds);\n        other.history.undone = copyHistoryArray(this.history.undone, splitIds);\n      }\n    },\n    iterLinkedDocs: function (f) {\n      linkedDocs(this, f);\n    },\n    getMode: function () {\n      return this.mode;\n    },\n    getEditor: function () {\n      return this.cm;\n    },\n    splitLines: function (str) {\n      if (this.lineSep) {\n        return str.split(this.lineSep);\n      }\n\n      return splitLinesAuto(str);\n    },\n    lineSeparator: function () {\n      return this.lineSep || \"\\n\";\n    },\n    setDirection: docMethodOp(function (dir) {\n      if (dir != \"rtl\") {\n        dir = \"ltr\";\n      }\n\n      if (dir == this.direction) {\n        return;\n      }\n\n      this.direction = dir;\n      this.iter(function (line) {\n        return line.order = null;\n      });\n\n      if (this.cm) {\n        directionChanged(this.cm);\n      }\n    })\n  }); // Public alias.\n\n  Doc.prototype.eachLine = Doc.prototype.iter; // Kludge to work around strange IE behavior where it'll sometimes\n  // re-fire a series of drag-related events right after the drop (#1551)\n\n  var lastDrop = 0;\n\n  function onDrop(e) {\n    var cm = this;\n    clearDragCursor(cm);\n\n    if (signalDOMEvent(cm, e) || eventInWidget(cm.display, e)) {\n      return;\n    }\n\n    e_preventDefault(e);\n\n    if (ie) {\n      lastDrop = +new Date();\n    }\n\n    var pos = posFromMouse(cm, e, true),\n        files = e.dataTransfer.files;\n\n    if (!pos || cm.isReadOnly()) {\n      return;\n    } // Might be a file drop, in which case we simply extract the text\n    // and insert it.\n\n\n    if (files && files.length && window.FileReader && window.File) {\n      var n = files.length,\n          text = Array(n),\n          read = 0;\n\n      var markAsReadAndPasteIfAllFilesAreRead = function () {\n        if (++read == n) {\n          operation(cm, function () {\n            pos = clipPos(cm.doc, pos);\n            var change = {\n              from: pos,\n              to: pos,\n              text: cm.doc.splitLines(text.filter(function (t) {\n                return t != null;\n              }).join(cm.doc.lineSeparator())),\n              origin: \"paste\"\n            };\n            makeChange(cm.doc, change);\n            setSelectionReplaceHistory(cm.doc, simpleSelection(clipPos(cm.doc, pos), clipPos(cm.doc, changeEnd(change))));\n          })();\n        }\n      };\n\n      var readTextFromFile = function (file, i) {\n        if (cm.options.allowDropFileTypes && indexOf(cm.options.allowDropFileTypes, file.type) == -1) {\n          markAsReadAndPasteIfAllFilesAreRead();\n          return;\n        }\n\n        var reader = new FileReader();\n\n        reader.onerror = function () {\n          return markAsReadAndPasteIfAllFilesAreRead();\n        };\n\n        reader.onload = function () {\n          var content = reader.result;\n\n          if (/[\\x00-\\x08\\x0e-\\x1f]{2}/.test(content)) {\n            markAsReadAndPasteIfAllFilesAreRead();\n            return;\n          }\n\n          text[i] = content;\n          markAsReadAndPasteIfAllFilesAreRead();\n        };\n\n        reader.readAsText(file);\n      };\n\n      for (var i = 0; i < files.length; i++) {\n        readTextFromFile(files[i], i);\n      }\n    } else {\n      // Normal drop\n      // Don't do a replace if the drop happened inside of the selected text.\n      if (cm.state.draggingText && cm.doc.sel.contains(pos) > -1) {\n        cm.state.draggingText(e); // Ensure the editor is re-focused\n\n        setTimeout(function () {\n          return cm.display.input.focus();\n        }, 20);\n        return;\n      }\n\n      try {\n        var text$1 = e.dataTransfer.getData(\"Text\");\n\n        if (text$1) {\n          var selected;\n\n          if (cm.state.draggingText && !cm.state.draggingText.copy) {\n            selected = cm.listSelections();\n          }\n\n          setSelectionNoUndo(cm.doc, simpleSelection(pos, pos));\n\n          if (selected) {\n            for (var i$1 = 0; i$1 < selected.length; ++i$1) {\n              replaceRange(cm.doc, \"\", selected[i$1].anchor, selected[i$1].head, \"drag\");\n            }\n          }\n\n          cm.replaceSelection(text$1, \"around\", \"paste\");\n          cm.display.input.focus();\n        }\n      } catch (e) {}\n    }\n  }\n\n  function onDragStart(cm, e) {\n    if (ie && (!cm.state.draggingText || +new Date() - lastDrop < 100)) {\n      e_stop(e);\n      return;\n    }\n\n    if (signalDOMEvent(cm, e) || eventInWidget(cm.display, e)) {\n      return;\n    }\n\n    e.dataTransfer.setData(\"Text\", cm.getSelection());\n    e.dataTransfer.effectAllowed = \"copyMove\"; // Use dummy image instead of default browsers image.\n    // Recent Safari (~6.0.2) have a tendency to segfault when this happens, so we don't do it there.\n\n    if (e.dataTransfer.setDragImage && !safari) {\n      var img = elt(\"img\", null, null, \"position: fixed; left: 0; top: 0;\");\n      img.src = \"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==\";\n\n      if (presto) {\n        img.width = img.height = 1;\n        cm.display.wrapper.appendChild(img); // Force a relayout, or Opera won't use our image for some obscure reason\n\n        img._top = img.offsetTop;\n      }\n\n      e.dataTransfer.setDragImage(img, 0, 0);\n\n      if (presto) {\n        img.parentNode.removeChild(img);\n      }\n    }\n  }\n\n  function onDragOver(cm, e) {\n    var pos = posFromMouse(cm, e);\n\n    if (!pos) {\n      return;\n    }\n\n    var frag = document.createDocumentFragment();\n    drawSelectionCursor(cm, pos, frag);\n\n    if (!cm.display.dragCursor) {\n      cm.display.dragCursor = elt(\"div\", null, \"CodeMirror-cursors CodeMirror-dragcursors\");\n      cm.display.lineSpace.insertBefore(cm.display.dragCursor, cm.display.cursorDiv);\n    }\n\n    removeChildrenAndAdd(cm.display.dragCursor, frag);\n  }\n\n  function clearDragCursor(cm) {\n    if (cm.display.dragCursor) {\n      cm.display.lineSpace.removeChild(cm.display.dragCursor);\n      cm.display.dragCursor = null;\n    }\n  } // These must be handled carefully, because naively registering a\n  // handler for each editor will cause the editors to never be\n  // garbage collected.\n\n\n  function forEachCodeMirror(f) {\n    if (!document.getElementsByClassName) {\n      return;\n    }\n\n    var byClass = document.getElementsByClassName(\"CodeMirror\"),\n        editors = [];\n\n    for (var i = 0; i < byClass.length; i++) {\n      var cm = byClass[i].CodeMirror;\n\n      if (cm) {\n        editors.push(cm);\n      }\n    }\n\n    if (editors.length) {\n      editors[0].operation(function () {\n        for (var i = 0; i < editors.length; i++) {\n          f(editors[i]);\n        }\n      });\n    }\n  }\n\n  var globalsRegistered = false;\n\n  function ensureGlobalHandlers() {\n    if (globalsRegistered) {\n      return;\n    }\n\n    registerGlobalHandlers();\n    globalsRegistered = true;\n  }\n\n  function registerGlobalHandlers() {\n    // When the window resizes, we need to refresh active editors.\n    var resizeTimer;\n    on(window, \"resize\", function () {\n      if (resizeTimer == null) {\n        resizeTimer = setTimeout(function () {\n          resizeTimer = null;\n          forEachCodeMirror(onResize);\n        }, 100);\n      }\n    }); // When the window loses focus, we want to show the editor as blurred\n\n    on(window, \"blur\", function () {\n      return forEachCodeMirror(onBlur);\n    });\n  } // Called when the window resizes\n\n\n  function onResize(cm) {\n    var d = cm.display; // Might be a text scaling operation, clear size caches.\n\n    d.cachedCharWidth = d.cachedTextHeight = d.cachedPaddingH = null;\n    d.scrollbarsClipped = false;\n    cm.setSize();\n  }\n\n  var keyNames = {\n    3: \"Pause\",\n    8: \"Backspace\",\n    9: \"Tab\",\n    13: \"Enter\",\n    16: \"Shift\",\n    17: \"Ctrl\",\n    18: \"Alt\",\n    19: \"Pause\",\n    20: \"CapsLock\",\n    27: \"Esc\",\n    32: \"Space\",\n    33: \"PageUp\",\n    34: \"PageDown\",\n    35: \"End\",\n    36: \"Home\",\n    37: \"Left\",\n    38: \"Up\",\n    39: \"Right\",\n    40: \"Down\",\n    44: \"PrintScrn\",\n    45: \"Insert\",\n    46: \"Delete\",\n    59: \";\",\n    61: \"=\",\n    91: \"Mod\",\n    92: \"Mod\",\n    93: \"Mod\",\n    106: \"*\",\n    107: \"=\",\n    109: \"-\",\n    110: \".\",\n    111: \"/\",\n    145: \"ScrollLock\",\n    173: \"-\",\n    186: \";\",\n    187: \"=\",\n    188: \",\",\n    189: \"-\",\n    190: \".\",\n    191: \"/\",\n    192: \"`\",\n    219: \"[\",\n    220: \"\\\\\",\n    221: \"]\",\n    222: \"'\",\n    63232: \"Up\",\n    63233: \"Down\",\n    63234: \"Left\",\n    63235: \"Right\",\n    63272: \"Delete\",\n    63273: \"Home\",\n    63275: \"End\",\n    63276: \"PageUp\",\n    63277: \"PageDown\",\n    63302: \"Insert\"\n  }; // Number keys\n\n  for (var i = 0; i < 10; i++) {\n    keyNames[i + 48] = keyNames[i + 96] = String(i);\n  } // Alphabetic keys\n\n\n  for (var i$1 = 65; i$1 <= 90; i$1++) {\n    keyNames[i$1] = String.fromCharCode(i$1);\n  } // Function keys\n\n\n  for (var i$2 = 1; i$2 <= 12; i$2++) {\n    keyNames[i$2 + 111] = keyNames[i$2 + 63235] = \"F\" + i$2;\n  }\n\n  var keyMap = {};\n  keyMap.basic = {\n    \"Left\": \"goCharLeft\",\n    \"Right\": \"goCharRight\",\n    \"Up\": \"goLineUp\",\n    \"Down\": \"goLineDown\",\n    \"End\": \"goLineEnd\",\n    \"Home\": \"goLineStartSmart\",\n    \"PageUp\": \"goPageUp\",\n    \"PageDown\": \"goPageDown\",\n    \"Delete\": \"delCharAfter\",\n    \"Backspace\": \"delCharBefore\",\n    \"Shift-Backspace\": \"delCharBefore\",\n    \"Tab\": \"defaultTab\",\n    \"Shift-Tab\": \"indentAuto\",\n    \"Enter\": \"newlineAndIndent\",\n    \"Insert\": \"toggleOverwrite\",\n    \"Esc\": \"singleSelection\"\n  }; // Note that the save and find-related commands aren't defined by\n  // default. User code or addons can define them. Unknown commands\n  // are simply ignored.\n\n  keyMap.pcDefault = {\n    \"Ctrl-A\": \"selectAll\",\n    \"Ctrl-D\": \"deleteLine\",\n    \"Ctrl-Z\": \"undo\",\n    \"Shift-Ctrl-Z\": \"redo\",\n    \"Ctrl-Y\": \"redo\",\n    \"Ctrl-Home\": \"goDocStart\",\n    \"Ctrl-End\": \"goDocEnd\",\n    \"Ctrl-Up\": \"goLineUp\",\n    \"Ctrl-Down\": \"goLineDown\",\n    \"Ctrl-Left\": \"goGroupLeft\",\n    \"Ctrl-Right\": \"goGroupRight\",\n    \"Alt-Left\": \"goLineStart\",\n    \"Alt-Right\": \"goLineEnd\",\n    \"Ctrl-Backspace\": \"delGroupBefore\",\n    \"Ctrl-Delete\": \"delGroupAfter\",\n    \"Ctrl-S\": \"save\",\n    \"Ctrl-F\": \"find\",\n    \"Ctrl-G\": \"findNext\",\n    \"Shift-Ctrl-G\": \"findPrev\",\n    \"Shift-Ctrl-F\": \"replace\",\n    \"Shift-Ctrl-R\": \"replaceAll\",\n    \"Ctrl-[\": \"indentLess\",\n    \"Ctrl-]\": \"indentMore\",\n    \"Ctrl-U\": \"undoSelection\",\n    \"Shift-Ctrl-U\": \"redoSelection\",\n    \"Alt-U\": \"redoSelection\",\n    \"fallthrough\": \"basic\"\n  }; // Very basic readline/emacs-style bindings, which are standard on Mac.\n\n  keyMap.emacsy = {\n    \"Ctrl-F\": \"goCharRight\",\n    \"Ctrl-B\": \"goCharLeft\",\n    \"Ctrl-P\": \"goLineUp\",\n    \"Ctrl-N\": \"goLineDown\",\n    \"Alt-F\": \"goWordRight\",\n    \"Alt-B\": \"goWordLeft\",\n    \"Ctrl-A\": \"goLineStart\",\n    \"Ctrl-E\": \"goLineEnd\",\n    \"Ctrl-V\": \"goPageDown\",\n    \"Shift-Ctrl-V\": \"goPageUp\",\n    \"Ctrl-D\": \"delCharAfter\",\n    \"Ctrl-H\": \"delCharBefore\",\n    \"Alt-D\": \"delWordAfter\",\n    \"Alt-Backspace\": \"delWordBefore\",\n    \"Ctrl-K\": \"killLine\",\n    \"Ctrl-T\": \"transposeChars\",\n    \"Ctrl-O\": \"openLine\"\n  };\n  keyMap.macDefault = {\n    \"Cmd-A\": \"selectAll\",\n    \"Cmd-D\": \"deleteLine\",\n    \"Cmd-Z\": \"undo\",\n    \"Shift-Cmd-Z\": \"redo\",\n    \"Cmd-Y\": \"redo\",\n    \"Cmd-Home\": \"goDocStart\",\n    \"Cmd-Up\": \"goDocStart\",\n    \"Cmd-End\": \"goDocEnd\",\n    \"Cmd-Down\": \"goDocEnd\",\n    \"Alt-Left\": \"goGroupLeft\",\n    \"Alt-Right\": \"goGroupRight\",\n    \"Cmd-Left\": \"goLineLeft\",\n    \"Cmd-Right\": \"goLineRight\",\n    \"Alt-Backspace\": \"delGroupBefore\",\n    \"Ctrl-Alt-Backspace\": \"delGroupAfter\",\n    \"Alt-Delete\": \"delGroupAfter\",\n    \"Cmd-S\": \"save\",\n    \"Cmd-F\": \"find\",\n    \"Cmd-G\": \"findNext\",\n    \"Shift-Cmd-G\": \"findPrev\",\n    \"Cmd-Alt-F\": \"replace\",\n    \"Shift-Cmd-Alt-F\": \"replaceAll\",\n    \"Cmd-[\": \"indentLess\",\n    \"Cmd-]\": \"indentMore\",\n    \"Cmd-Backspace\": \"delWrappedLineLeft\",\n    \"Cmd-Delete\": \"delWrappedLineRight\",\n    \"Cmd-U\": \"undoSelection\",\n    \"Shift-Cmd-U\": \"redoSelection\",\n    \"Ctrl-Up\": \"goDocStart\",\n    \"Ctrl-Down\": \"goDocEnd\",\n    \"fallthrough\": [\"basic\", \"emacsy\"]\n  };\n  keyMap[\"default\"] = mac ? keyMap.macDefault : keyMap.pcDefault; // KEYMAP DISPATCH\n\n  function normalizeKeyName(name) {\n    var parts = name.split(/-(?!$)/);\n    name = parts[parts.length - 1];\n    var alt, ctrl, shift, cmd;\n\n    for (var i = 0; i < parts.length - 1; i++) {\n      var mod = parts[i];\n\n      if (/^(cmd|meta|m)$/i.test(mod)) {\n        cmd = true;\n      } else if (/^a(lt)?$/i.test(mod)) {\n        alt = true;\n      } else if (/^(c|ctrl|control)$/i.test(mod)) {\n        ctrl = true;\n      } else if (/^s(hift)?$/i.test(mod)) {\n        shift = true;\n      } else {\n        throw new Error(\"Unrecognized modifier name: \" + mod);\n      }\n    }\n\n    if (alt) {\n      name = \"Alt-\" + name;\n    }\n\n    if (ctrl) {\n      name = \"Ctrl-\" + name;\n    }\n\n    if (cmd) {\n      name = \"Cmd-\" + name;\n    }\n\n    if (shift) {\n      name = \"Shift-\" + name;\n    }\n\n    return name;\n  } // This is a kludge to keep keymaps mostly working as raw objects\n  // (backwards compatibility) while at the same time support features\n  // like normalization and multi-stroke key bindings. It compiles a\n  // new normalized keymap, and then updates the old object to reflect\n  // this.\n\n\n  function normalizeKeyMap(keymap) {\n    var copy = {};\n\n    for (var keyname in keymap) {\n      if (keymap.hasOwnProperty(keyname)) {\n        var value = keymap[keyname];\n\n        if (/^(name|fallthrough|(de|at)tach)$/.test(keyname)) {\n          continue;\n        }\n\n        if (value == \"...\") {\n          delete keymap[keyname];\n          continue;\n        }\n\n        var keys = map(keyname.split(\" \"), normalizeKeyName);\n\n        for (var i = 0; i < keys.length; i++) {\n          var val = void 0,\n              name = void 0;\n\n          if (i == keys.length - 1) {\n            name = keys.join(\" \");\n            val = value;\n          } else {\n            name = keys.slice(0, i + 1).join(\" \");\n            val = \"...\";\n          }\n\n          var prev = copy[name];\n\n          if (!prev) {\n            copy[name] = val;\n          } else if (prev != val) {\n            throw new Error(\"Inconsistent bindings for \" + name);\n          }\n        }\n\n        delete keymap[keyname];\n      }\n    }\n\n    for (var prop in copy) {\n      keymap[prop] = copy[prop];\n    }\n\n    return keymap;\n  }\n\n  function lookupKey(key, map, handle, context) {\n    map = getKeyMap(map);\n    var found = map.call ? map.call(key, context) : map[key];\n\n    if (found === false) {\n      return \"nothing\";\n    }\n\n    if (found === \"...\") {\n      return \"multi\";\n    }\n\n    if (found != null && handle(found)) {\n      return \"handled\";\n    }\n\n    if (map.fallthrough) {\n      if (Object.prototype.toString.call(map.fallthrough) != \"[object Array]\") {\n        return lookupKey(key, map.fallthrough, handle, context);\n      }\n\n      for (var i = 0; i < map.fallthrough.length; i++) {\n        var result = lookupKey(key, map.fallthrough[i], handle, context);\n\n        if (result) {\n          return result;\n        }\n      }\n    }\n  } // Modifier key presses don't count as 'real' key presses for the\n  // purpose of keymap fallthrough.\n\n\n  function isModifierKey(value) {\n    var name = typeof value == \"string\" ? value : keyNames[value.keyCode];\n    return name == \"Ctrl\" || name == \"Alt\" || name == \"Shift\" || name == \"Mod\";\n  }\n\n  function addModifierNames(name, event, noShift) {\n    var base = name;\n\n    if (event.altKey && base != \"Alt\") {\n      name = \"Alt-\" + name;\n    }\n\n    if ((flipCtrlCmd ? event.metaKey : event.ctrlKey) && base != \"Ctrl\") {\n      name = \"Ctrl-\" + name;\n    }\n\n    if ((flipCtrlCmd ? event.ctrlKey : event.metaKey) && base != \"Cmd\") {\n      name = \"Cmd-\" + name;\n    }\n\n    if (!noShift && event.shiftKey && base != \"Shift\") {\n      name = \"Shift-\" + name;\n    }\n\n    return name;\n  } // Look up the name of a key as indicated by an event object.\n\n\n  function keyName(event, noShift) {\n    if (presto && event.keyCode == 34 && event[\"char\"]) {\n      return false;\n    }\n\n    var name = keyNames[event.keyCode];\n\n    if (name == null || event.altGraphKey) {\n      return false;\n    } // Ctrl-ScrollLock has keyCode 3, same as Ctrl-Pause,\n    // so we'll use event.code when available (Chrome 48+, FF 38+, Safari 10.1+)\n\n\n    if (event.keyCode == 3 && event.code) {\n      name = event.code;\n    }\n\n    return addModifierNames(name, event, noShift);\n  }\n\n  function getKeyMap(val) {\n    return typeof val == \"string\" ? keyMap[val] : val;\n  } // Helper for deleting text near the selection(s), used to implement\n  // backspace, delete, and similar functionality.\n\n\n  function deleteNearSelection(cm, compute) {\n    var ranges = cm.doc.sel.ranges,\n        kill = []; // Build up a set of ranges to kill first, merging overlapping\n    // ranges.\n\n    for (var i = 0; i < ranges.length; i++) {\n      var toKill = compute(ranges[i]);\n\n      while (kill.length && cmp(toKill.from, lst(kill).to) <= 0) {\n        var replaced = kill.pop();\n\n        if (cmp(replaced.from, toKill.from) < 0) {\n          toKill.from = replaced.from;\n          break;\n        }\n      }\n\n      kill.push(toKill);\n    } // Next, remove those actual ranges.\n\n\n    runInOp(cm, function () {\n      for (var i = kill.length - 1; i >= 0; i--) {\n        replaceRange(cm.doc, \"\", kill[i].from, kill[i].to, \"+delete\");\n      }\n\n      ensureCursorVisible(cm);\n    });\n  }\n\n  function moveCharLogically(line, ch, dir) {\n    var target = skipExtendingChars(line.text, ch + dir, dir);\n    return target < 0 || target > line.text.length ? null : target;\n  }\n\n  function moveLogically(line, start, dir) {\n    var ch = moveCharLogically(line, start.ch, dir);\n    return ch == null ? null : new Pos(start.line, ch, dir < 0 ? \"after\" : \"before\");\n  }\n\n  function endOfLine(visually, cm, lineObj, lineNo, dir) {\n    if (visually) {\n      if (cm.doc.direction == \"rtl\") {\n        dir = -dir;\n      }\n\n      var order = getOrder(lineObj, cm.doc.direction);\n\n      if (order) {\n        var part = dir < 0 ? lst(order) : order[0];\n        var moveInStorageOrder = dir < 0 == (part.level == 1);\n        var sticky = moveInStorageOrder ? \"after\" : \"before\";\n        var ch; // With a wrapped rtl chunk (possibly spanning multiple bidi parts),\n        // it could be that the last bidi part is not on the last visual line,\n        // since visual lines contain content order-consecutive chunks.\n        // Thus, in rtl, we are looking for the first (content-order) character\n        // in the rtl chunk that is on the last line (that is, the same line\n        // as the last (content-order) character).\n\n        if (part.level > 0 || cm.doc.direction == \"rtl\") {\n          var prep = prepareMeasureForLine(cm, lineObj);\n          ch = dir < 0 ? lineObj.text.length - 1 : 0;\n          var targetTop = measureCharPrepared(cm, prep, ch).top;\n          ch = findFirst(function (ch) {\n            return measureCharPrepared(cm, prep, ch).top == targetTop;\n          }, dir < 0 == (part.level == 1) ? part.from : part.to - 1, ch);\n\n          if (sticky == \"before\") {\n            ch = moveCharLogically(lineObj, ch, 1);\n          }\n        } else {\n          ch = dir < 0 ? part.to : part.from;\n        }\n\n        return new Pos(lineNo, ch, sticky);\n      }\n    }\n\n    return new Pos(lineNo, dir < 0 ? lineObj.text.length : 0, dir < 0 ? \"before\" : \"after\");\n  }\n\n  function moveVisually(cm, line, start, dir) {\n    var bidi = getOrder(line, cm.doc.direction);\n\n    if (!bidi) {\n      return moveLogically(line, start, dir);\n    }\n\n    if (start.ch >= line.text.length) {\n      start.ch = line.text.length;\n      start.sticky = \"before\";\n    } else if (start.ch <= 0) {\n      start.ch = 0;\n      start.sticky = \"after\";\n    }\n\n    var partPos = getBidiPartAt(bidi, start.ch, start.sticky),\n        part = bidi[partPos];\n\n    if (cm.doc.direction == \"ltr\" && part.level % 2 == 0 && (dir > 0 ? part.to > start.ch : part.from < start.ch)) {\n      // Case 1: We move within an ltr part in an ltr editor. Even with wrapped lines,\n      // nothing interesting happens.\n      return moveLogically(line, start, dir);\n    }\n\n    var mv = function (pos, dir) {\n      return moveCharLogically(line, pos instanceof Pos ? pos.ch : pos, dir);\n    };\n\n    var prep;\n\n    var getWrappedLineExtent = function (ch) {\n      if (!cm.options.lineWrapping) {\n        return {\n          begin: 0,\n          end: line.text.length\n        };\n      }\n\n      prep = prep || prepareMeasureForLine(cm, line);\n      return wrappedLineExtentChar(cm, line, prep, ch);\n    };\n\n    var wrappedLineExtent = getWrappedLineExtent(start.sticky == \"before\" ? mv(start, -1) : start.ch);\n\n    if (cm.doc.direction == \"rtl\" || part.level == 1) {\n      var moveInStorageOrder = part.level == 1 == dir < 0;\n      var ch = mv(start, moveInStorageOrder ? 1 : -1);\n\n      if (ch != null && (!moveInStorageOrder ? ch >= part.from && ch >= wrappedLineExtent.begin : ch <= part.to && ch <= wrappedLineExtent.end)) {\n        // Case 2: We move within an rtl part or in an rtl editor on the same visual line\n        var sticky = moveInStorageOrder ? \"before\" : \"after\";\n        return new Pos(start.line, ch, sticky);\n      }\n    } // Case 3: Could not move within this bidi part in this visual line, so leave\n    // the current bidi part\n\n\n    var searchInVisualLine = function (partPos, dir, wrappedLineExtent) {\n      var getRes = function (ch, moveInStorageOrder) {\n        return moveInStorageOrder ? new Pos(start.line, mv(ch, 1), \"before\") : new Pos(start.line, ch, \"after\");\n      };\n\n      for (; partPos >= 0 && partPos < bidi.length; partPos += dir) {\n        var part = bidi[partPos];\n        var moveInStorageOrder = dir > 0 == (part.level != 1);\n        var ch = moveInStorageOrder ? wrappedLineExtent.begin : mv(wrappedLineExtent.end, -1);\n\n        if (part.from <= ch && ch < part.to) {\n          return getRes(ch, moveInStorageOrder);\n        }\n\n        ch = moveInStorageOrder ? part.from : mv(part.to, -1);\n\n        if (wrappedLineExtent.begin <= ch && ch < wrappedLineExtent.end) {\n          return getRes(ch, moveInStorageOrder);\n        }\n      }\n    }; // Case 3a: Look for other bidi parts on the same visual line\n\n\n    var res = searchInVisualLine(partPos + dir, dir, wrappedLineExtent);\n\n    if (res) {\n      return res;\n    } // Case 3b: Look for other bidi parts on the next visual line\n\n\n    var nextCh = dir > 0 ? wrappedLineExtent.end : mv(wrappedLineExtent.begin, -1);\n\n    if (nextCh != null && !(dir > 0 && nextCh == line.text.length)) {\n      res = searchInVisualLine(dir > 0 ? 0 : bidi.length - 1, dir, getWrappedLineExtent(nextCh));\n\n      if (res) {\n        return res;\n      }\n    } // Case 4: Nowhere to move\n\n\n    return null;\n  } // Commands are parameter-less actions that can be performed on an\n  // editor, mostly used for keybindings.\n\n\n  var commands = {\n    selectAll: selectAll,\n    singleSelection: function (cm) {\n      return cm.setSelection(cm.getCursor(\"anchor\"), cm.getCursor(\"head\"), sel_dontScroll);\n    },\n    killLine: function (cm) {\n      return deleteNearSelection(cm, function (range) {\n        if (range.empty()) {\n          var len = getLine(cm.doc, range.head.line).text.length;\n\n          if (range.head.ch == len && range.head.line < cm.lastLine()) {\n            return {\n              from: range.head,\n              to: Pos(range.head.line + 1, 0)\n            };\n          } else {\n            return {\n              from: range.head,\n              to: Pos(range.head.line, len)\n            };\n          }\n        } else {\n          return {\n            from: range.from(),\n            to: range.to()\n          };\n        }\n      });\n    },\n    deleteLine: function (cm) {\n      return deleteNearSelection(cm, function (range) {\n        return {\n          from: Pos(range.from().line, 0),\n          to: clipPos(cm.doc, Pos(range.to().line + 1, 0))\n        };\n      });\n    },\n    delLineLeft: function (cm) {\n      return deleteNearSelection(cm, function (range) {\n        return {\n          from: Pos(range.from().line, 0),\n          to: range.from()\n        };\n      });\n    },\n    delWrappedLineLeft: function (cm) {\n      return deleteNearSelection(cm, function (range) {\n        var top = cm.charCoords(range.head, \"div\").top + 5;\n        var leftPos = cm.coordsChar({\n          left: 0,\n          top: top\n        }, \"div\");\n        return {\n          from: leftPos,\n          to: range.from()\n        };\n      });\n    },\n    delWrappedLineRight: function (cm) {\n      return deleteNearSelection(cm, function (range) {\n        var top = cm.charCoords(range.head, \"div\").top + 5;\n        var rightPos = cm.coordsChar({\n          left: cm.display.lineDiv.offsetWidth + 100,\n          top: top\n        }, \"div\");\n        return {\n          from: range.from(),\n          to: rightPos\n        };\n      });\n    },\n    undo: function (cm) {\n      return cm.undo();\n    },\n    redo: function (cm) {\n      return cm.redo();\n    },\n    undoSelection: function (cm) {\n      return cm.undoSelection();\n    },\n    redoSelection: function (cm) {\n      return cm.redoSelection();\n    },\n    goDocStart: function (cm) {\n      return cm.extendSelection(Pos(cm.firstLine(), 0));\n    },\n    goDocEnd: function (cm) {\n      return cm.extendSelection(Pos(cm.lastLine()));\n    },\n    goLineStart: function (cm) {\n      return cm.extendSelectionsBy(function (range) {\n        return lineStart(cm, range.head.line);\n      }, {\n        origin: \"+move\",\n        bias: 1\n      });\n    },\n    goLineStartSmart: function (cm) {\n      return cm.extendSelectionsBy(function (range) {\n        return lineStartSmart(cm, range.head);\n      }, {\n        origin: \"+move\",\n        bias: 1\n      });\n    },\n    goLineEnd: function (cm) {\n      return cm.extendSelectionsBy(function (range) {\n        return lineEnd(cm, range.head.line);\n      }, {\n        origin: \"+move\",\n        bias: -1\n      });\n    },\n    goLineRight: function (cm) {\n      return cm.extendSelectionsBy(function (range) {\n        var top = cm.cursorCoords(range.head, \"div\").top + 5;\n        return cm.coordsChar({\n          left: cm.display.lineDiv.offsetWidth + 100,\n          top: top\n        }, \"div\");\n      }, sel_move);\n    },\n    goLineLeft: function (cm) {\n      return cm.extendSelectionsBy(function (range) {\n        var top = cm.cursorCoords(range.head, \"div\").top + 5;\n        return cm.coordsChar({\n          left: 0,\n          top: top\n        }, \"div\");\n      }, sel_move);\n    },\n    goLineLeftSmart: function (cm) {\n      return cm.extendSelectionsBy(function (range) {\n        var top = cm.cursorCoords(range.head, \"div\").top + 5;\n        var pos = cm.coordsChar({\n          left: 0,\n          top: top\n        }, \"div\");\n\n        if (pos.ch < cm.getLine(pos.line).search(/\\S/)) {\n          return lineStartSmart(cm, range.head);\n        }\n\n        return pos;\n      }, sel_move);\n    },\n    goLineUp: function (cm) {\n      return cm.moveV(-1, \"line\");\n    },\n    goLineDown: function (cm) {\n      return cm.moveV(1, \"line\");\n    },\n    goPageUp: function (cm) {\n      return cm.moveV(-1, \"page\");\n    },\n    goPageDown: function (cm) {\n      return cm.moveV(1, \"page\");\n    },\n    goCharLeft: function (cm) {\n      return cm.moveH(-1, \"char\");\n    },\n    goCharRight: function (cm) {\n      return cm.moveH(1, \"char\");\n    },\n    goColumnLeft: function (cm) {\n      return cm.moveH(-1, \"column\");\n    },\n    goColumnRight: function (cm) {\n      return cm.moveH(1, \"column\");\n    },\n    goWordLeft: function (cm) {\n      return cm.moveH(-1, \"word\");\n    },\n    goGroupRight: function (cm) {\n      return cm.moveH(1, \"group\");\n    },\n    goGroupLeft: function (cm) {\n      return cm.moveH(-1, \"group\");\n    },\n    goWordRight: function (cm) {\n      return cm.moveH(1, \"word\");\n    },\n    delCharBefore: function (cm) {\n      return cm.deleteH(-1, \"char\");\n    },\n    delCharAfter: function (cm) {\n      return cm.deleteH(1, \"char\");\n    },\n    delWordBefore: function (cm) {\n      return cm.deleteH(-1, \"word\");\n    },\n    delWordAfter: function (cm) {\n      return cm.deleteH(1, \"word\");\n    },\n    delGroupBefore: function (cm) {\n      return cm.deleteH(-1, \"group\");\n    },\n    delGroupAfter: function (cm) {\n      return cm.deleteH(1, \"group\");\n    },\n    indentAuto: function (cm) {\n      return cm.indentSelection(\"smart\");\n    },\n    indentMore: function (cm) {\n      return cm.indentSelection(\"add\");\n    },\n    indentLess: function (cm) {\n      return cm.indentSelection(\"subtract\");\n    },\n    insertTab: function (cm) {\n      return cm.replaceSelection(\"\\t\");\n    },\n    insertSoftTab: function (cm) {\n      var spaces = [],\n          ranges = cm.listSelections(),\n          tabSize = cm.options.tabSize;\n\n      for (var i = 0; i < ranges.length; i++) {\n        var pos = ranges[i].from();\n        var col = countColumn(cm.getLine(pos.line), pos.ch, tabSize);\n        spaces.push(spaceStr(tabSize - col % tabSize));\n      }\n\n      cm.replaceSelections(spaces);\n    },\n    defaultTab: function (cm) {\n      if (cm.somethingSelected()) {\n        cm.indentSelection(\"add\");\n      } else {\n        cm.execCommand(\"insertTab\");\n      }\n    },\n    // Swap the two chars left and right of each selection's head.\n    // Move cursor behind the two swapped characters afterwards.\n    //\n    // Doesn't consider line feeds a character.\n    // Doesn't scan more than one line above to find a character.\n    // Doesn't do anything on an empty line.\n    // Doesn't do anything with non-empty selections.\n    transposeChars: function (cm) {\n      return runInOp(cm, function () {\n        var ranges = cm.listSelections(),\n            newSel = [];\n\n        for (var i = 0; i < ranges.length; i++) {\n          if (!ranges[i].empty()) {\n            continue;\n          }\n\n          var cur = ranges[i].head,\n              line = getLine(cm.doc, cur.line).text;\n\n          if (line) {\n            if (cur.ch == line.length) {\n              cur = new Pos(cur.line, cur.ch - 1);\n            }\n\n            if (cur.ch > 0) {\n              cur = new Pos(cur.line, cur.ch + 1);\n              cm.replaceRange(line.charAt(cur.ch - 1) + line.charAt(cur.ch - 2), Pos(cur.line, cur.ch - 2), cur, \"+transpose\");\n            } else if (cur.line > cm.doc.first) {\n              var prev = getLine(cm.doc, cur.line - 1).text;\n\n              if (prev) {\n                cur = new Pos(cur.line, 1);\n                cm.replaceRange(line.charAt(0) + cm.doc.lineSeparator() + prev.charAt(prev.length - 1), Pos(cur.line - 1, prev.length - 1), cur, \"+transpose\");\n              }\n            }\n          }\n\n          newSel.push(new Range(cur, cur));\n        }\n\n        cm.setSelections(newSel);\n      });\n    },\n    newlineAndIndent: function (cm) {\n      return runInOp(cm, function () {\n        var sels = cm.listSelections();\n\n        for (var i = sels.length - 1; i >= 0; i--) {\n          cm.replaceRange(cm.doc.lineSeparator(), sels[i].anchor, sels[i].head, \"+input\");\n        }\n\n        sels = cm.listSelections();\n\n        for (var i$1 = 0; i$1 < sels.length; i$1++) {\n          cm.indentLine(sels[i$1].from().line, null, true);\n        }\n\n        ensureCursorVisible(cm);\n      });\n    },\n    openLine: function (cm) {\n      return cm.replaceSelection(\"\\n\", \"start\");\n    },\n    toggleOverwrite: function (cm) {\n      return cm.toggleOverwrite();\n    }\n  };\n\n  function lineStart(cm, lineN) {\n    var line = getLine(cm.doc, lineN);\n    var visual = visualLine(line);\n\n    if (visual != line) {\n      lineN = lineNo(visual);\n    }\n\n    return endOfLine(true, cm, visual, lineN, 1);\n  }\n\n  function lineEnd(cm, lineN) {\n    var line = getLine(cm.doc, lineN);\n    var visual = visualLineEnd(line);\n\n    if (visual != line) {\n      lineN = lineNo(visual);\n    }\n\n    return endOfLine(true, cm, line, lineN, -1);\n  }\n\n  function lineStartSmart(cm, pos) {\n    var start = lineStart(cm, pos.line);\n    var line = getLine(cm.doc, start.line);\n    var order = getOrder(line, cm.doc.direction);\n\n    if (!order || order[0].level == 0) {\n      var firstNonWS = Math.max(start.ch, line.text.search(/\\S/));\n      var inWS = pos.line == start.line && pos.ch <= firstNonWS && pos.ch;\n      return Pos(start.line, inWS ? 0 : firstNonWS, start.sticky);\n    }\n\n    return start;\n  } // Run a handler that was bound to a key.\n\n\n  function doHandleBinding(cm, bound, dropShift) {\n    if (typeof bound == \"string\") {\n      bound = commands[bound];\n\n      if (!bound) {\n        return false;\n      }\n    } // Ensure previous input has been read, so that the handler sees a\n    // consistent view of the document\n\n\n    cm.display.input.ensurePolled();\n    var prevShift = cm.display.shift,\n        done = false;\n\n    try {\n      if (cm.isReadOnly()) {\n        cm.state.suppressEdits = true;\n      }\n\n      if (dropShift) {\n        cm.display.shift = false;\n      }\n\n      done = bound(cm) != Pass;\n    } finally {\n      cm.display.shift = prevShift;\n      cm.state.suppressEdits = false;\n    }\n\n    return done;\n  }\n\n  function lookupKeyForEditor(cm, name, handle) {\n    for (var i = 0; i < cm.state.keyMaps.length; i++) {\n      var result = lookupKey(name, cm.state.keyMaps[i], handle, cm);\n\n      if (result) {\n        return result;\n      }\n    }\n\n    return cm.options.extraKeys && lookupKey(name, cm.options.extraKeys, handle, cm) || lookupKey(name, cm.options.keyMap, handle, cm);\n  } // Note that, despite the name, this function is also used to check\n  // for bound mouse clicks.\n\n\n  var stopSeq = new Delayed();\n\n  function dispatchKey(cm, name, e, handle) {\n    var seq = cm.state.keySeq;\n\n    if (seq) {\n      if (isModifierKey(name)) {\n        return \"handled\";\n      }\n\n      if (/\\'$/.test(name)) {\n        cm.state.keySeq = null;\n      } else {\n        stopSeq.set(50, function () {\n          if (cm.state.keySeq == seq) {\n            cm.state.keySeq = null;\n            cm.display.input.reset();\n          }\n        });\n      }\n\n      if (dispatchKeyInner(cm, seq + \" \" + name, e, handle)) {\n        return true;\n      }\n    }\n\n    return dispatchKeyInner(cm, name, e, handle);\n  }\n\n  function dispatchKeyInner(cm, name, e, handle) {\n    var result = lookupKeyForEditor(cm, name, handle);\n\n    if (result == \"multi\") {\n      cm.state.keySeq = name;\n    }\n\n    if (result == \"handled\") {\n      signalLater(cm, \"keyHandled\", cm, name, e);\n    }\n\n    if (result == \"handled\" || result == \"multi\") {\n      e_preventDefault(e);\n      restartBlink(cm);\n    }\n\n    return !!result;\n  } // Handle a key from the keydown event.\n\n\n  function handleKeyBinding(cm, e) {\n    var name = keyName(e, true);\n\n    if (!name) {\n      return false;\n    }\n\n    if (e.shiftKey && !cm.state.keySeq) {\n      // First try to resolve full name (including 'Shift-'). Failing\n      // that, see if there is a cursor-motion command (starting with\n      // 'go') bound to the keyname without 'Shift-'.\n      return dispatchKey(cm, \"Shift-\" + name, e, function (b) {\n        return doHandleBinding(cm, b, true);\n      }) || dispatchKey(cm, name, e, function (b) {\n        if (typeof b == \"string\" ? /^go[A-Z]/.test(b) : b.motion) {\n          return doHandleBinding(cm, b);\n        }\n      });\n    } else {\n      return dispatchKey(cm, name, e, function (b) {\n        return doHandleBinding(cm, b);\n      });\n    }\n  } // Handle a key from the keypress event\n\n\n  function handleCharBinding(cm, e, ch) {\n    return dispatchKey(cm, \"'\" + ch + \"'\", e, function (b) {\n      return doHandleBinding(cm, b, true);\n    });\n  }\n\n  var lastStoppedKey = null;\n\n  function onKeyDown(e) {\n    var cm = this;\n    cm.curOp.focus = activeElt();\n\n    if (signalDOMEvent(cm, e)) {\n      return;\n    } // IE does strange things with escape.\n\n\n    if (ie && ie_version < 11 && e.keyCode == 27) {\n      e.returnValue = false;\n    }\n\n    var code = e.keyCode;\n    cm.display.shift = code == 16 || e.shiftKey;\n    var handled = handleKeyBinding(cm, e);\n\n    if (presto) {\n      lastStoppedKey = handled ? code : null; // Opera has no cut event... we try to at least catch the key combo\n\n      if (!handled && code == 88 && !hasCopyEvent && (mac ? e.metaKey : e.ctrlKey)) {\n        cm.replaceSelection(\"\", null, \"cut\");\n      }\n    }\n\n    if (gecko && !mac && !handled && code == 46 && e.shiftKey && !e.ctrlKey && document.execCommand) {\n      document.execCommand(\"cut\");\n    } // Turn mouse into crosshair when Alt is held on Mac.\n\n\n    if (code == 18 && !/\\bCodeMirror-crosshair\\b/.test(cm.display.lineDiv.className)) {\n      showCrossHair(cm);\n    }\n  }\n\n  function showCrossHair(cm) {\n    var lineDiv = cm.display.lineDiv;\n    addClass(lineDiv, \"CodeMirror-crosshair\");\n\n    function up(e) {\n      if (e.keyCode == 18 || !e.altKey) {\n        rmClass(lineDiv, \"CodeMirror-crosshair\");\n        off(document, \"keyup\", up);\n        off(document, \"mouseover\", up);\n      }\n    }\n\n    on(document, \"keyup\", up);\n    on(document, \"mouseover\", up);\n  }\n\n  function onKeyUp(e) {\n    if (e.keyCode == 16) {\n      this.doc.sel.shift = false;\n    }\n\n    signalDOMEvent(this, e);\n  }\n\n  function onKeyPress(e) {\n    var cm = this;\n\n    if (eventInWidget(cm.display, e) || signalDOMEvent(cm, e) || e.ctrlKey && !e.altKey || mac && e.metaKey) {\n      return;\n    }\n\n    var keyCode = e.keyCode,\n        charCode = e.charCode;\n\n    if (presto && keyCode == lastStoppedKey) {\n      lastStoppedKey = null;\n      e_preventDefault(e);\n      return;\n    }\n\n    if (presto && (!e.which || e.which < 10) && handleKeyBinding(cm, e)) {\n      return;\n    }\n\n    var ch = String.fromCharCode(charCode == null ? keyCode : charCode); // Some browsers fire keypress events for backspace\n\n    if (ch == \"\\x08\") {\n      return;\n    }\n\n    if (handleCharBinding(cm, e, ch)) {\n      return;\n    }\n\n    cm.display.input.onKeyPress(e);\n  }\n\n  var DOUBLECLICK_DELAY = 400;\n\n  var PastClick = function (time, pos, button) {\n    this.time = time;\n    this.pos = pos;\n    this.button = button;\n  };\n\n  PastClick.prototype.compare = function (time, pos, button) {\n    return this.time + DOUBLECLICK_DELAY > time && cmp(pos, this.pos) == 0 && button == this.button;\n  };\n\n  var lastClick, lastDoubleClick;\n\n  function clickRepeat(pos, button) {\n    var now = +new Date();\n\n    if (lastDoubleClick && lastDoubleClick.compare(now, pos, button)) {\n      lastClick = lastDoubleClick = null;\n      return \"triple\";\n    } else if (lastClick && lastClick.compare(now, pos, button)) {\n      lastDoubleClick = new PastClick(now, pos, button);\n      lastClick = null;\n      return \"double\";\n    } else {\n      lastClick = new PastClick(now, pos, button);\n      lastDoubleClick = null;\n      return \"single\";\n    }\n  } // A mouse down can be a single click, double click, triple click,\n  // start of selection drag, start of text drag, new cursor\n  // (ctrl-click), rectangle drag (alt-drag), or xwin\n  // middle-click-paste. Or it might be a click on something we should\n  // not interfere with, such as a scrollbar or widget.\n\n\n  function onMouseDown(e) {\n    var cm = this,\n        display = cm.display;\n\n    if (signalDOMEvent(cm, e) || display.activeTouch && display.input.supportsTouch()) {\n      return;\n    }\n\n    display.input.ensurePolled();\n    display.shift = e.shiftKey;\n\n    if (eventInWidget(display, e)) {\n      if (!webkit) {\n        // Briefly turn off draggability, to allow widgets to do\n        // normal dragging things.\n        display.scroller.draggable = false;\n        setTimeout(function () {\n          return display.scroller.draggable = true;\n        }, 100);\n      }\n\n      return;\n    }\n\n    if (clickInGutter(cm, e)) {\n      return;\n    }\n\n    var pos = posFromMouse(cm, e),\n        button = e_button(e),\n        repeat = pos ? clickRepeat(pos, button) : \"single\";\n    window.focus(); // #3261: make sure, that we're not starting a second selection\n\n    if (button == 1 && cm.state.selectingText) {\n      cm.state.selectingText(e);\n    }\n\n    if (pos && handleMappedButton(cm, button, pos, repeat, e)) {\n      return;\n    }\n\n    if (button == 1) {\n      if (pos) {\n        leftButtonDown(cm, pos, repeat, e);\n      } else if (e_target(e) == display.scroller) {\n        e_preventDefault(e);\n      }\n    } else if (button == 2) {\n      if (pos) {\n        extendSelection(cm.doc, pos);\n      }\n\n      setTimeout(function () {\n        return display.input.focus();\n      }, 20);\n    } else if (button == 3) {\n      if (captureRightClick) {\n        cm.display.input.onContextMenu(e);\n      } else {\n        delayBlurEvent(cm);\n      }\n    }\n  }\n\n  function handleMappedButton(cm, button, pos, repeat, event) {\n    var name = \"Click\";\n\n    if (repeat == \"double\") {\n      name = \"Double\" + name;\n    } else if (repeat == \"triple\") {\n      name = \"Triple\" + name;\n    }\n\n    name = (button == 1 ? \"Left\" : button == 2 ? \"Middle\" : \"Right\") + name;\n    return dispatchKey(cm, addModifierNames(name, event), event, function (bound) {\n      if (typeof bound == \"string\") {\n        bound = commands[bound];\n      }\n\n      if (!bound) {\n        return false;\n      }\n\n      var done = false;\n\n      try {\n        if (cm.isReadOnly()) {\n          cm.state.suppressEdits = true;\n        }\n\n        done = bound(cm, pos) != Pass;\n      } finally {\n        cm.state.suppressEdits = false;\n      }\n\n      return done;\n    });\n  }\n\n  function configureMouse(cm, repeat, event) {\n    var option = cm.getOption(\"configureMouse\");\n    var value = option ? option(cm, repeat, event) : {};\n\n    if (value.unit == null) {\n      var rect = chromeOS ? event.shiftKey && event.metaKey : event.altKey;\n      value.unit = rect ? \"rectangle\" : repeat == \"single\" ? \"char\" : repeat == \"double\" ? \"word\" : \"line\";\n    }\n\n    if (value.extend == null || cm.doc.extend) {\n      value.extend = cm.doc.extend || event.shiftKey;\n    }\n\n    if (value.addNew == null) {\n      value.addNew = mac ? event.metaKey : event.ctrlKey;\n    }\n\n    if (value.moveOnDrag == null) {\n      value.moveOnDrag = !(mac ? event.altKey : event.ctrlKey);\n    }\n\n    return value;\n  }\n\n  function leftButtonDown(cm, pos, repeat, event) {\n    if (ie) {\n      setTimeout(bind(ensureFocus, cm), 0);\n    } else {\n      cm.curOp.focus = activeElt();\n    }\n\n    var behavior = configureMouse(cm, repeat, event);\n    var sel = cm.doc.sel,\n        contained;\n\n    if (cm.options.dragDrop && dragAndDrop && !cm.isReadOnly() && repeat == \"single\" && (contained = sel.contains(pos)) > -1 && (cmp((contained = sel.ranges[contained]).from(), pos) < 0 || pos.xRel > 0) && (cmp(contained.to(), pos) > 0 || pos.xRel < 0)) {\n      leftButtonStartDrag(cm, event, pos, behavior);\n    } else {\n      leftButtonSelect(cm, event, pos, behavior);\n    }\n  } // Start a text drag. When it ends, see if any dragging actually\n  // happen, and treat as a click if it didn't.\n\n\n  function leftButtonStartDrag(cm, event, pos, behavior) {\n    var display = cm.display,\n        moved = false;\n    var dragEnd = operation(cm, function (e) {\n      if (webkit) {\n        display.scroller.draggable = false;\n      }\n\n      cm.state.draggingText = false;\n      off(display.wrapper.ownerDocument, \"mouseup\", dragEnd);\n      off(display.wrapper.ownerDocument, \"mousemove\", mouseMove);\n      off(display.scroller, \"dragstart\", dragStart);\n      off(display.scroller, \"drop\", dragEnd);\n\n      if (!moved) {\n        e_preventDefault(e);\n\n        if (!behavior.addNew) {\n          extendSelection(cm.doc, pos, null, null, behavior.extend);\n        } // Work around unexplainable focus problem in IE9 (#2127) and Chrome (#3081)\n\n\n        if (webkit || ie && ie_version == 9) {\n          setTimeout(function () {\n            display.wrapper.ownerDocument.body.focus();\n            display.input.focus();\n          }, 20);\n        } else {\n          display.input.focus();\n        }\n      }\n    });\n\n    var mouseMove = function (e2) {\n      moved = moved || Math.abs(event.clientX - e2.clientX) + Math.abs(event.clientY - e2.clientY) >= 10;\n    };\n\n    var dragStart = function () {\n      return moved = true;\n    }; // Let the drag handler handle this.\n\n\n    if (webkit) {\n      display.scroller.draggable = true;\n    }\n\n    cm.state.draggingText = dragEnd;\n    dragEnd.copy = !behavior.moveOnDrag; // IE's approach to draggable\n\n    if (display.scroller.dragDrop) {\n      display.scroller.dragDrop();\n    }\n\n    on(display.wrapper.ownerDocument, \"mouseup\", dragEnd);\n    on(display.wrapper.ownerDocument, \"mousemove\", mouseMove);\n    on(display.scroller, \"dragstart\", dragStart);\n    on(display.scroller, \"drop\", dragEnd);\n    delayBlurEvent(cm);\n    setTimeout(function () {\n      return display.input.focus();\n    }, 20);\n  }\n\n  function rangeForUnit(cm, pos, unit) {\n    if (unit == \"char\") {\n      return new Range(pos, pos);\n    }\n\n    if (unit == \"word\") {\n      return cm.findWordAt(pos);\n    }\n\n    if (unit == \"line\") {\n      return new Range(Pos(pos.line, 0), clipPos(cm.doc, Pos(pos.line + 1, 0)));\n    }\n\n    var result = unit(cm, pos);\n    return new Range(result.from, result.to);\n  } // Normal selection, as opposed to text dragging.\n\n\n  function leftButtonSelect(cm, event, start, behavior) {\n    var display = cm.display,\n        doc = cm.doc;\n    e_preventDefault(event);\n    var ourRange,\n        ourIndex,\n        startSel = doc.sel,\n        ranges = startSel.ranges;\n\n    if (behavior.addNew && !behavior.extend) {\n      ourIndex = doc.sel.contains(start);\n\n      if (ourIndex > -1) {\n        ourRange = ranges[ourIndex];\n      } else {\n        ourRange = new Range(start, start);\n      }\n    } else {\n      ourRange = doc.sel.primary();\n      ourIndex = doc.sel.primIndex;\n    }\n\n    if (behavior.unit == \"rectangle\") {\n      if (!behavior.addNew) {\n        ourRange = new Range(start, start);\n      }\n\n      start = posFromMouse(cm, event, true, true);\n      ourIndex = -1;\n    } else {\n      var range = rangeForUnit(cm, start, behavior.unit);\n\n      if (behavior.extend) {\n        ourRange = extendRange(ourRange, range.anchor, range.head, behavior.extend);\n      } else {\n        ourRange = range;\n      }\n    }\n\n    if (!behavior.addNew) {\n      ourIndex = 0;\n      setSelection(doc, new Selection([ourRange], 0), sel_mouse);\n      startSel = doc.sel;\n    } else if (ourIndex == -1) {\n      ourIndex = ranges.length;\n      setSelection(doc, normalizeSelection(cm, ranges.concat([ourRange]), ourIndex), {\n        scroll: false,\n        origin: \"*mouse\"\n      });\n    } else if (ranges.length > 1 && ranges[ourIndex].empty() && behavior.unit == \"char\" && !behavior.extend) {\n      setSelection(doc, normalizeSelection(cm, ranges.slice(0, ourIndex).concat(ranges.slice(ourIndex + 1)), 0), {\n        scroll: false,\n        origin: \"*mouse\"\n      });\n      startSel = doc.sel;\n    } else {\n      replaceOneSelection(doc, ourIndex, ourRange, sel_mouse);\n    }\n\n    var lastPos = start;\n\n    function extendTo(pos) {\n      if (cmp(lastPos, pos) == 0) {\n        return;\n      }\n\n      lastPos = pos;\n\n      if (behavior.unit == \"rectangle\") {\n        var ranges = [],\n            tabSize = cm.options.tabSize;\n        var startCol = countColumn(getLine(doc, start.line).text, start.ch, tabSize);\n        var posCol = countColumn(getLine(doc, pos.line).text, pos.ch, tabSize);\n        var left = Math.min(startCol, posCol),\n            right = Math.max(startCol, posCol);\n\n        for (var line = Math.min(start.line, pos.line), end = Math.min(cm.lastLine(), Math.max(start.line, pos.line)); line <= end; line++) {\n          var text = getLine(doc, line).text,\n              leftPos = findColumn(text, left, tabSize);\n\n          if (left == right) {\n            ranges.push(new Range(Pos(line, leftPos), Pos(line, leftPos)));\n          } else if (text.length > leftPos) {\n            ranges.push(new Range(Pos(line, leftPos), Pos(line, findColumn(text, right, tabSize))));\n          }\n        }\n\n        if (!ranges.length) {\n          ranges.push(new Range(start, start));\n        }\n\n        setSelection(doc, normalizeSelection(cm, startSel.ranges.slice(0, ourIndex).concat(ranges), ourIndex), {\n          origin: \"*mouse\",\n          scroll: false\n        });\n        cm.scrollIntoView(pos);\n      } else {\n        var oldRange = ourRange;\n        var range = rangeForUnit(cm, pos, behavior.unit);\n        var anchor = oldRange.anchor,\n            head;\n\n        if (cmp(range.anchor, anchor) > 0) {\n          head = range.head;\n          anchor = minPos(oldRange.from(), range.anchor);\n        } else {\n          head = range.anchor;\n          anchor = maxPos(oldRange.to(), range.head);\n        }\n\n        var ranges$1 = startSel.ranges.slice(0);\n        ranges$1[ourIndex] = bidiSimplify(cm, new Range(clipPos(doc, anchor), head));\n        setSelection(doc, normalizeSelection(cm, ranges$1, ourIndex), sel_mouse);\n      }\n    }\n\n    var editorSize = display.wrapper.getBoundingClientRect(); // Used to ensure timeout re-tries don't fire when another extend\n    // happened in the meantime (clearTimeout isn't reliable -- at\n    // least on Chrome, the timeouts still happen even when cleared,\n    // if the clear happens after their scheduled firing time).\n\n    var counter = 0;\n\n    function extend(e) {\n      var curCount = ++counter;\n      var cur = posFromMouse(cm, e, true, behavior.unit == \"rectangle\");\n\n      if (!cur) {\n        return;\n      }\n\n      if (cmp(cur, lastPos) != 0) {\n        cm.curOp.focus = activeElt();\n        extendTo(cur);\n        var visible = visibleLines(display, doc);\n\n        if (cur.line >= visible.to || cur.line < visible.from) {\n          setTimeout(operation(cm, function () {\n            if (counter == curCount) {\n              extend(e);\n            }\n          }), 150);\n        }\n      } else {\n        var outside = e.clientY < editorSize.top ? -20 : e.clientY > editorSize.bottom ? 20 : 0;\n\n        if (outside) {\n          setTimeout(operation(cm, function () {\n            if (counter != curCount) {\n              return;\n            }\n\n            display.scroller.scrollTop += outside;\n            extend(e);\n          }), 50);\n        }\n      }\n    }\n\n    function done(e) {\n      cm.state.selectingText = false;\n      counter = Infinity; // If e is null or undefined we interpret this as someone trying\n      // to explicitly cancel the selection rather than the user\n      // letting go of the mouse button.\n\n      if (e) {\n        e_preventDefault(e);\n        display.input.focus();\n      }\n\n      off(display.wrapper.ownerDocument, \"mousemove\", move);\n      off(display.wrapper.ownerDocument, \"mouseup\", up);\n      doc.history.lastSelOrigin = null;\n    }\n\n    var move = operation(cm, function (e) {\n      if (e.buttons === 0 || !e_button(e)) {\n        done(e);\n      } else {\n        extend(e);\n      }\n    });\n    var up = operation(cm, done);\n    cm.state.selectingText = up;\n    on(display.wrapper.ownerDocument, \"mousemove\", move);\n    on(display.wrapper.ownerDocument, \"mouseup\", up);\n  } // Used when mouse-selecting to adjust the anchor to the proper side\n  // of a bidi jump depending on the visual position of the head.\n\n\n  function bidiSimplify(cm, range) {\n    var anchor = range.anchor;\n    var head = range.head;\n    var anchorLine = getLine(cm.doc, anchor.line);\n\n    if (cmp(anchor, head) == 0 && anchor.sticky == head.sticky) {\n      return range;\n    }\n\n    var order = getOrder(anchorLine);\n\n    if (!order) {\n      return range;\n    }\n\n    var index = getBidiPartAt(order, anchor.ch, anchor.sticky),\n        part = order[index];\n\n    if (part.from != anchor.ch && part.to != anchor.ch) {\n      return range;\n    }\n\n    var boundary = index + (part.from == anchor.ch == (part.level != 1) ? 0 : 1);\n\n    if (boundary == 0 || boundary == order.length) {\n      return range;\n    } // Compute the relative visual position of the head compared to the\n    // anchor (<0 is to the left, >0 to the right)\n\n\n    var leftSide;\n\n    if (head.line != anchor.line) {\n      leftSide = (head.line - anchor.line) * (cm.doc.direction == \"ltr\" ? 1 : -1) > 0;\n    } else {\n      var headIndex = getBidiPartAt(order, head.ch, head.sticky);\n      var dir = headIndex - index || (head.ch - anchor.ch) * (part.level == 1 ? -1 : 1);\n\n      if (headIndex == boundary - 1 || headIndex == boundary) {\n        leftSide = dir < 0;\n      } else {\n        leftSide = dir > 0;\n      }\n    }\n\n    var usePart = order[boundary + (leftSide ? -1 : 0)];\n    var from = leftSide == (usePart.level == 1);\n    var ch = from ? usePart.from : usePart.to,\n        sticky = from ? \"after\" : \"before\";\n    return anchor.ch == ch && anchor.sticky == sticky ? range : new Range(new Pos(anchor.line, ch, sticky), head);\n  } // Determines whether an event happened in the gutter, and fires the\n  // handlers for the corresponding event.\n\n\n  function gutterEvent(cm, e, type, prevent) {\n    var mX, mY;\n\n    if (e.touches) {\n      mX = e.touches[0].clientX;\n      mY = e.touches[0].clientY;\n    } else {\n      try {\n        mX = e.clientX;\n        mY = e.clientY;\n      } catch (e) {\n        return false;\n      }\n    }\n\n    if (mX >= Math.floor(cm.display.gutters.getBoundingClientRect().right)) {\n      return false;\n    }\n\n    if (prevent) {\n      e_preventDefault(e);\n    }\n\n    var display = cm.display;\n    var lineBox = display.lineDiv.getBoundingClientRect();\n\n    if (mY > lineBox.bottom || !hasHandler(cm, type)) {\n      return e_defaultPrevented(e);\n    }\n\n    mY -= lineBox.top - display.viewOffset;\n\n    for (var i = 0; i < cm.display.gutterSpecs.length; ++i) {\n      var g = display.gutters.childNodes[i];\n\n      if (g && g.getBoundingClientRect().right >= mX) {\n        var line = lineAtHeight(cm.doc, mY);\n        var gutter = cm.display.gutterSpecs[i];\n        signal(cm, type, cm, line, gutter.className, e);\n        return e_defaultPrevented(e);\n      }\n    }\n  }\n\n  function clickInGutter(cm, e) {\n    return gutterEvent(cm, e, \"gutterClick\", true);\n  } // CONTEXT MENU HANDLING\n  // To make the context menu work, we need to briefly unhide the\n  // textarea (making it as unobtrusive as possible) to let the\n  // right-click take effect on it.\n\n\n  function onContextMenu(cm, e) {\n    if (eventInWidget(cm.display, e) || contextMenuInGutter(cm, e)) {\n      return;\n    }\n\n    if (signalDOMEvent(cm, e, \"contextmenu\")) {\n      return;\n    }\n\n    if (!captureRightClick) {\n      cm.display.input.onContextMenu(e);\n    }\n  }\n\n  function contextMenuInGutter(cm, e) {\n    if (!hasHandler(cm, \"gutterContextMenu\")) {\n      return false;\n    }\n\n    return gutterEvent(cm, e, \"gutterContextMenu\", false);\n  }\n\n  function themeChanged(cm) {\n    cm.display.wrapper.className = cm.display.wrapper.className.replace(/\\s*cm-s-\\S+/g, \"\") + cm.options.theme.replace(/(^|\\s)\\s*/g, \" cm-s-\");\n    clearCaches(cm);\n  }\n\n  var Init = {\n    toString: function () {\n      return \"CodeMirror.Init\";\n    }\n  };\n  var defaults = {};\n  var optionHandlers = {};\n\n  function defineOptions(CodeMirror) {\n    var optionHandlers = CodeMirror.optionHandlers;\n\n    function option(name, deflt, handle, notOnInit) {\n      CodeMirror.defaults[name] = deflt;\n\n      if (handle) {\n        optionHandlers[name] = notOnInit ? function (cm, val, old) {\n          if (old != Init) {\n            handle(cm, val, old);\n          }\n        } : handle;\n      }\n    }\n\n    CodeMirror.defineOption = option; // Passed to option handlers when there is no old value.\n\n    CodeMirror.Init = Init; // These two are, on init, called from the constructor because they\n    // have to be initialized before the editor can start at all.\n\n    option(\"value\", \"\", function (cm, val) {\n      return cm.setValue(val);\n    }, true);\n    option(\"mode\", null, function (cm, val) {\n      cm.doc.modeOption = val;\n      loadMode(cm);\n    }, true);\n    option(\"indentUnit\", 2, loadMode, true);\n    option(\"indentWithTabs\", false);\n    option(\"smartIndent\", true);\n    option(\"tabSize\", 4, function (cm) {\n      resetModeState(cm);\n      clearCaches(cm);\n      regChange(cm);\n    }, true);\n    option(\"lineSeparator\", null, function (cm, val) {\n      cm.doc.lineSep = val;\n\n      if (!val) {\n        return;\n      }\n\n      var newBreaks = [],\n          lineNo = cm.doc.first;\n      cm.doc.iter(function (line) {\n        for (var pos = 0;;) {\n          var found = line.text.indexOf(val, pos);\n\n          if (found == -1) {\n            break;\n          }\n\n          pos = found + val.length;\n          newBreaks.push(Pos(lineNo, found));\n        }\n\n        lineNo++;\n      });\n\n      for (var i = newBreaks.length - 1; i >= 0; i--) {\n        replaceRange(cm.doc, val, newBreaks[i], Pos(newBreaks[i].line, newBreaks[i].ch + val.length));\n      }\n    });\n    option(\"specialChars\", /[\\u0000-\\u001f\\u007f-\\u009f\\u00ad\\u061c\\u200b-\\u200f\\u2028\\u2029\\ufeff\\ufff9-\\ufffc]/g, function (cm, val, old) {\n      cm.state.specialChars = new RegExp(val.source + (val.test(\"\\t\") ? \"\" : \"|\\t\"), \"g\");\n\n      if (old != Init) {\n        cm.refresh();\n      }\n    });\n    option(\"specialCharPlaceholder\", defaultSpecialCharPlaceholder, function (cm) {\n      return cm.refresh();\n    }, true);\n    option(\"electricChars\", true);\n    option(\"inputStyle\", mobile ? \"contenteditable\" : \"textarea\", function () {\n      throw new Error(\"inputStyle can not (yet) be changed in a running editor\"); // FIXME\n    }, true);\n    option(\"spellcheck\", false, function (cm, val) {\n      return cm.getInputField().spellcheck = val;\n    }, true);\n    option(\"autocorrect\", false, function (cm, val) {\n      return cm.getInputField().autocorrect = val;\n    }, true);\n    option(\"autocapitalize\", false, function (cm, val) {\n      return cm.getInputField().autocapitalize = val;\n    }, true);\n    option(\"rtlMoveVisually\", !windows);\n    option(\"wholeLineUpdateBefore\", true);\n    option(\"theme\", \"default\", function (cm) {\n      themeChanged(cm);\n      updateGutters(cm);\n    }, true);\n    option(\"keyMap\", \"default\", function (cm, val, old) {\n      var next = getKeyMap(val);\n      var prev = old != Init && getKeyMap(old);\n\n      if (prev && prev.detach) {\n        prev.detach(cm, next);\n      }\n\n      if (next.attach) {\n        next.attach(cm, prev || null);\n      }\n    });\n    option(\"extraKeys\", null);\n    option(\"configureMouse\", null);\n    option(\"lineWrapping\", false, wrappingChanged, true);\n    option(\"gutters\", [], function (cm, val) {\n      cm.display.gutterSpecs = getGutters(val, cm.options.lineNumbers);\n      updateGutters(cm);\n    }, true);\n    option(\"fixedGutter\", true, function (cm, val) {\n      cm.display.gutters.style.left = val ? compensateForHScroll(cm.display) + \"px\" : \"0\";\n      cm.refresh();\n    }, true);\n    option(\"coverGutterNextToScrollbar\", false, function (cm) {\n      return updateScrollbars(cm);\n    }, true);\n    option(\"scrollbarStyle\", \"native\", function (cm) {\n      initScrollbars(cm);\n      updateScrollbars(cm);\n      cm.display.scrollbars.setScrollTop(cm.doc.scrollTop);\n      cm.display.scrollbars.setScrollLeft(cm.doc.scrollLeft);\n    }, true);\n    option(\"lineNumbers\", false, function (cm, val) {\n      cm.display.gutterSpecs = getGutters(cm.options.gutters, val);\n      updateGutters(cm);\n    }, true);\n    option(\"firstLineNumber\", 1, updateGutters, true);\n    option(\"lineNumberFormatter\", function (integer) {\n      return integer;\n    }, updateGutters, true);\n    option(\"showCursorWhenSelecting\", false, updateSelection, true);\n    option(\"resetSelectionOnContextMenu\", true);\n    option(\"lineWiseCopyCut\", true);\n    option(\"pasteLinesPerSelection\", true);\n    option(\"selectionsMayTouch\", false);\n    option(\"readOnly\", false, function (cm, val) {\n      if (val == \"nocursor\") {\n        onBlur(cm);\n        cm.display.input.blur();\n      }\n\n      cm.display.input.readOnlyChanged(val);\n    });\n    option(\"screenReaderLabel\", null, function (cm, val) {\n      val = val === '' ? null : val;\n      cm.display.input.screenReaderLabelChanged(val);\n    });\n    option(\"disableInput\", false, function (cm, val) {\n      if (!val) {\n        cm.display.input.reset();\n      }\n    }, true);\n    option(\"dragDrop\", true, dragDropChanged);\n    option(\"allowDropFileTypes\", null);\n    option(\"cursorBlinkRate\", 530);\n    option(\"cursorScrollMargin\", 0);\n    option(\"cursorHeight\", 1, updateSelection, true);\n    option(\"singleCursorHeightPerLine\", true, updateSelection, true);\n    option(\"workTime\", 100);\n    option(\"workDelay\", 100);\n    option(\"flattenSpans\", true, resetModeState, true);\n    option(\"addModeClass\", false, resetModeState, true);\n    option(\"pollInterval\", 100);\n    option(\"undoDepth\", 200, function (cm, val) {\n      return cm.doc.history.undoDepth = val;\n    });\n    option(\"historyEventDelay\", 1250);\n    option(\"viewportMargin\", 10, function (cm) {\n      return cm.refresh();\n    }, true);\n    option(\"maxHighlightLength\", 10000, resetModeState, true);\n    option(\"moveInputWithCursor\", true, function (cm, val) {\n      if (!val) {\n        cm.display.input.resetPosition();\n      }\n    });\n    option(\"tabindex\", null, function (cm, val) {\n      return cm.display.input.getField().tabIndex = val || \"\";\n    });\n    option(\"autofocus\", null);\n    option(\"direction\", \"ltr\", function (cm, val) {\n      return cm.doc.setDirection(val);\n    }, true);\n    option(\"phrases\", null);\n  }\n\n  function dragDropChanged(cm, value, old) {\n    var wasOn = old && old != Init;\n\n    if (!value != !wasOn) {\n      var funcs = cm.display.dragFunctions;\n      var toggle = value ? on : off;\n      toggle(cm.display.scroller, \"dragstart\", funcs.start);\n      toggle(cm.display.scroller, \"dragenter\", funcs.enter);\n      toggle(cm.display.scroller, \"dragover\", funcs.over);\n      toggle(cm.display.scroller, \"dragleave\", funcs.leave);\n      toggle(cm.display.scroller, \"drop\", funcs.drop);\n    }\n  }\n\n  function wrappingChanged(cm) {\n    if (cm.options.lineWrapping) {\n      addClass(cm.display.wrapper, \"CodeMirror-wrap\");\n      cm.display.sizer.style.minWidth = \"\";\n      cm.display.sizerWidth = null;\n    } else {\n      rmClass(cm.display.wrapper, \"CodeMirror-wrap\");\n      findMaxLine(cm);\n    }\n\n    estimateLineHeights(cm);\n    regChange(cm);\n    clearCaches(cm);\n    setTimeout(function () {\n      return updateScrollbars(cm);\n    }, 100);\n  } // A CodeMirror instance represents an editor. This is the object\n  // that user code is usually dealing with.\n\n\n  function CodeMirror(place, options) {\n    var this$1 = this;\n\n    if (!(this instanceof CodeMirror)) {\n      return new CodeMirror(place, options);\n    }\n\n    this.options = options = options ? copyObj(options) : {}; // Determine effective options based on given values and defaults.\n\n    copyObj(defaults, options, false);\n    var doc = options.value;\n\n    if (typeof doc == \"string\") {\n      doc = new Doc(doc, options.mode, null, options.lineSeparator, options.direction);\n    } else if (options.mode) {\n      doc.modeOption = options.mode;\n    }\n\n    this.doc = doc;\n    var input = new CodeMirror.inputStyles[options.inputStyle](this);\n    var display = this.display = new Display(place, doc, input, options);\n    display.wrapper.CodeMirror = this;\n    themeChanged(this);\n\n    if (options.lineWrapping) {\n      this.display.wrapper.className += \" CodeMirror-wrap\";\n    }\n\n    initScrollbars(this);\n    this.state = {\n      keyMaps: [],\n      // stores maps added by addKeyMap\n      overlays: [],\n      // highlighting overlays, as added by addOverlay\n      modeGen: 0,\n      // bumped when mode/overlay changes, used to invalidate highlighting info\n      overwrite: false,\n      delayingBlurEvent: false,\n      focused: false,\n      suppressEdits: false,\n      // used to disable editing during key handlers when in readOnly mode\n      pasteIncoming: -1,\n      cutIncoming: -1,\n      // help recognize paste/cut edits in input.poll\n      selectingText: false,\n      draggingText: false,\n      highlight: new Delayed(),\n      // stores highlight worker timeout\n      keySeq: null,\n      // Unfinished key sequence\n      specialChars: null\n    };\n\n    if (options.autofocus && !mobile) {\n      display.input.focus();\n    } // Override magic textarea content restore that IE sometimes does\n    // on our hidden textarea on reload\n\n\n    if (ie && ie_version < 11) {\n      setTimeout(function () {\n        return this$1.display.input.reset(true);\n      }, 20);\n    }\n\n    registerEventHandlers(this);\n    ensureGlobalHandlers();\n    startOperation(this);\n    this.curOp.forceUpdate = true;\n    attachDoc(this, doc);\n\n    if (options.autofocus && !mobile || this.hasFocus()) {\n      setTimeout(bind(onFocus, this), 20);\n    } else {\n      onBlur(this);\n    }\n\n    for (var opt in optionHandlers) {\n      if (optionHandlers.hasOwnProperty(opt)) {\n        optionHandlers[opt](this, options[opt], Init);\n      }\n    }\n\n    maybeUpdateLineNumberWidth(this);\n\n    if (options.finishInit) {\n      options.finishInit(this);\n    }\n\n    for (var i = 0; i < initHooks.length; ++i) {\n      initHooks[i](this);\n    }\n\n    endOperation(this); // Suppress optimizelegibility in Webkit, since it breaks text\n    // measuring on line wrapping boundaries.\n\n    if (webkit && options.lineWrapping && getComputedStyle(display.lineDiv).textRendering == \"optimizelegibility\") {\n      display.lineDiv.style.textRendering = \"auto\";\n    }\n  } // The default configuration options.\n\n\n  CodeMirror.defaults = defaults; // Functions to run when options are changed.\n\n  CodeMirror.optionHandlers = optionHandlers; // Attach the necessary event handlers when initializing the editor\n\n  function registerEventHandlers(cm) {\n    var d = cm.display;\n    on(d.scroller, \"mousedown\", operation(cm, onMouseDown)); // Older IE's will not fire a second mousedown for a double click\n\n    if (ie && ie_version < 11) {\n      on(d.scroller, \"dblclick\", operation(cm, function (e) {\n        if (signalDOMEvent(cm, e)) {\n          return;\n        }\n\n        var pos = posFromMouse(cm, e);\n\n        if (!pos || clickInGutter(cm, e) || eventInWidget(cm.display, e)) {\n          return;\n        }\n\n        e_preventDefault(e);\n        var word = cm.findWordAt(pos);\n        extendSelection(cm.doc, word.anchor, word.head);\n      }));\n    } else {\n      on(d.scroller, \"dblclick\", function (e) {\n        return signalDOMEvent(cm, e) || e_preventDefault(e);\n      });\n    } // Some browsers fire contextmenu *after* opening the menu, at\n    // which point we can't mess with it anymore. Context menu is\n    // handled in onMouseDown for these browsers.\n\n\n    on(d.scroller, \"contextmenu\", function (e) {\n      return onContextMenu(cm, e);\n    });\n    on(d.input.getField(), \"contextmenu\", function (e) {\n      if (!d.scroller.contains(e.target)) {\n        onContextMenu(cm, e);\n      }\n    }); // Used to suppress mouse event handling when a touch happens\n\n    var touchFinished,\n        prevTouch = {\n      end: 0\n    };\n\n    function finishTouch() {\n      if (d.activeTouch) {\n        touchFinished = setTimeout(function () {\n          return d.activeTouch = null;\n        }, 1000);\n        prevTouch = d.activeTouch;\n        prevTouch.end = +new Date();\n      }\n    }\n\n    function isMouseLikeTouchEvent(e) {\n      if (e.touches.length != 1) {\n        return false;\n      }\n\n      var touch = e.touches[0];\n      return touch.radiusX <= 1 && touch.radiusY <= 1;\n    }\n\n    function farAway(touch, other) {\n      if (other.left == null) {\n        return true;\n      }\n\n      var dx = other.left - touch.left,\n          dy = other.top - touch.top;\n      return dx * dx + dy * dy > 20 * 20;\n    }\n\n    on(d.scroller, \"touchstart\", function (e) {\n      if (!signalDOMEvent(cm, e) && !isMouseLikeTouchEvent(e) && !clickInGutter(cm, e)) {\n        d.input.ensurePolled();\n        clearTimeout(touchFinished);\n        var now = +new Date();\n        d.activeTouch = {\n          start: now,\n          moved: false,\n          prev: now - prevTouch.end <= 300 ? prevTouch : null\n        };\n\n        if (e.touches.length == 1) {\n          d.activeTouch.left = e.touches[0].pageX;\n          d.activeTouch.top = e.touches[0].pageY;\n        }\n      }\n    });\n    on(d.scroller, \"touchmove\", function () {\n      if (d.activeTouch) {\n        d.activeTouch.moved = true;\n      }\n    });\n    on(d.scroller, \"touchend\", function (e) {\n      var touch = d.activeTouch;\n\n      if (touch && !eventInWidget(d, e) && touch.left != null && !touch.moved && new Date() - touch.start < 300) {\n        var pos = cm.coordsChar(d.activeTouch, \"page\"),\n            range;\n\n        if (!touch.prev || farAway(touch, touch.prev)) // Single tap\n          {\n            range = new Range(pos, pos);\n          } else if (!touch.prev.prev || farAway(touch, touch.prev.prev)) // Double tap\n          {\n            range = cm.findWordAt(pos);\n          } else // Triple tap\n          {\n            range = new Range(Pos(pos.line, 0), clipPos(cm.doc, Pos(pos.line + 1, 0)));\n          }\n\n        cm.setSelection(range.anchor, range.head);\n        cm.focus();\n        e_preventDefault(e);\n      }\n\n      finishTouch();\n    });\n    on(d.scroller, \"touchcancel\", finishTouch); // Sync scrolling between fake scrollbars and real scrollable\n    // area, ensure viewport is updated when scrolling.\n\n    on(d.scroller, \"scroll\", function () {\n      if (d.scroller.clientHeight) {\n        updateScrollTop(cm, d.scroller.scrollTop);\n        setScrollLeft(cm, d.scroller.scrollLeft, true);\n        signal(cm, \"scroll\", cm);\n      }\n    }); // Listen to wheel events in order to try and update the viewport on time.\n\n    on(d.scroller, \"mousewheel\", function (e) {\n      return onScrollWheel(cm, e);\n    });\n    on(d.scroller, \"DOMMouseScroll\", function (e) {\n      return onScrollWheel(cm, e);\n    }); // Prevent wrapper from ever scrolling\n\n    on(d.wrapper, \"scroll\", function () {\n      return d.wrapper.scrollTop = d.wrapper.scrollLeft = 0;\n    });\n    d.dragFunctions = {\n      enter: function (e) {\n        if (!signalDOMEvent(cm, e)) {\n          e_stop(e);\n        }\n      },\n      over: function (e) {\n        if (!signalDOMEvent(cm, e)) {\n          onDragOver(cm, e);\n          e_stop(e);\n        }\n      },\n      start: function (e) {\n        return onDragStart(cm, e);\n      },\n      drop: operation(cm, onDrop),\n      leave: function (e) {\n        if (!signalDOMEvent(cm, e)) {\n          clearDragCursor(cm);\n        }\n      }\n    };\n    var inp = d.input.getField();\n    on(inp, \"keyup\", function (e) {\n      return onKeyUp.call(cm, e);\n    });\n    on(inp, \"keydown\", operation(cm, onKeyDown));\n    on(inp, \"keypress\", operation(cm, onKeyPress));\n    on(inp, \"focus\", function (e) {\n      return onFocus(cm, e);\n    });\n    on(inp, \"blur\", function (e) {\n      return onBlur(cm, e);\n    });\n  }\n\n  var initHooks = [];\n\n  CodeMirror.defineInitHook = function (f) {\n    return initHooks.push(f);\n  }; // Indent the given line. The how parameter can be \"smart\",\n  // \"add\"/null, \"subtract\", or \"prev\". When aggressive is false\n  // (typically set to true for forced single-line indents), empty\n  // lines are not indented, and places where the mode returns Pass\n  // are left alone.\n\n\n  function indentLine(cm, n, how, aggressive) {\n    var doc = cm.doc,\n        state;\n\n    if (how == null) {\n      how = \"add\";\n    }\n\n    if (how == \"smart\") {\n      // Fall back to \"prev\" when the mode doesn't have an indentation\n      // method.\n      if (!doc.mode.indent) {\n        how = \"prev\";\n      } else {\n        state = getContextBefore(cm, n).state;\n      }\n    }\n\n    var tabSize = cm.options.tabSize;\n    var line = getLine(doc, n),\n        curSpace = countColumn(line.text, null, tabSize);\n\n    if (line.stateAfter) {\n      line.stateAfter = null;\n    }\n\n    var curSpaceString = line.text.match(/^\\s*/)[0],\n        indentation;\n\n    if (!aggressive && !/\\S/.test(line.text)) {\n      indentation = 0;\n      how = \"not\";\n    } else if (how == \"smart\") {\n      indentation = doc.mode.indent(state, line.text.slice(curSpaceString.length), line.text);\n\n      if (indentation == Pass || indentation > 150) {\n        if (!aggressive) {\n          return;\n        }\n\n        how = \"prev\";\n      }\n    }\n\n    if (how == \"prev\") {\n      if (n > doc.first) {\n        indentation = countColumn(getLine(doc, n - 1).text, null, tabSize);\n      } else {\n        indentation = 0;\n      }\n    } else if (how == \"add\") {\n      indentation = curSpace + cm.options.indentUnit;\n    } else if (how == \"subtract\") {\n      indentation = curSpace - cm.options.indentUnit;\n    } else if (typeof how == \"number\") {\n      indentation = curSpace + how;\n    }\n\n    indentation = Math.max(0, indentation);\n    var indentString = \"\",\n        pos = 0;\n\n    if (cm.options.indentWithTabs) {\n      for (var i = Math.floor(indentation / tabSize); i; --i) {\n        pos += tabSize;\n        indentString += \"\\t\";\n      }\n    }\n\n    if (pos < indentation) {\n      indentString += spaceStr(indentation - pos);\n    }\n\n    if (indentString != curSpaceString) {\n      replaceRange(doc, indentString, Pos(n, 0), Pos(n, curSpaceString.length), \"+input\");\n      line.stateAfter = null;\n      return true;\n    } else {\n      // Ensure that, if the cursor was in the whitespace at the start\n      // of the line, it is moved to the end of that space.\n      for (var i$1 = 0; i$1 < doc.sel.ranges.length; i$1++) {\n        var range = doc.sel.ranges[i$1];\n\n        if (range.head.line == n && range.head.ch < curSpaceString.length) {\n          var pos$1 = Pos(n, curSpaceString.length);\n          replaceOneSelection(doc, i$1, new Range(pos$1, pos$1));\n          break;\n        }\n      }\n    }\n  } // This will be set to a {lineWise: bool, text: [string]} object, so\n  // that, when pasting, we know what kind of selections the copied\n  // text was made out of.\n\n\n  var lastCopied = null;\n\n  function setLastCopied(newLastCopied) {\n    lastCopied = newLastCopied;\n  }\n\n  function applyTextInput(cm, inserted, deleted, sel, origin) {\n    var doc = cm.doc;\n    cm.display.shift = false;\n\n    if (!sel) {\n      sel = doc.sel;\n    }\n\n    var recent = +new Date() - 200;\n    var paste = origin == \"paste\" || cm.state.pasteIncoming > recent;\n    var textLines = splitLinesAuto(inserted),\n        multiPaste = null; // When pasting N lines into N selections, insert one line per selection\n\n    if (paste && sel.ranges.length > 1) {\n      if (lastCopied && lastCopied.text.join(\"\\n\") == inserted) {\n        if (sel.ranges.length % lastCopied.text.length == 0) {\n          multiPaste = [];\n\n          for (var i = 0; i < lastCopied.text.length; i++) {\n            multiPaste.push(doc.splitLines(lastCopied.text[i]));\n          }\n        }\n      } else if (textLines.length == sel.ranges.length && cm.options.pasteLinesPerSelection) {\n        multiPaste = map(textLines, function (l) {\n          return [l];\n        });\n      }\n    }\n\n    var updateInput = cm.curOp.updateInput; // Normal behavior is to insert the new text into every selection\n\n    for (var i$1 = sel.ranges.length - 1; i$1 >= 0; i$1--) {\n      var range = sel.ranges[i$1];\n      var from = range.from(),\n          to = range.to();\n\n      if (range.empty()) {\n        if (deleted && deleted > 0) // Handle deletion\n          {\n            from = Pos(from.line, from.ch - deleted);\n          } else if (cm.state.overwrite && !paste) // Handle overwrite\n          {\n            to = Pos(to.line, Math.min(getLine(doc, to.line).text.length, to.ch + lst(textLines).length));\n          } else if (paste && lastCopied && lastCopied.lineWise && lastCopied.text.join(\"\\n\") == inserted) {\n          from = to = Pos(from.line, 0);\n        }\n      }\n\n      var changeEvent = {\n        from: from,\n        to: to,\n        text: multiPaste ? multiPaste[i$1 % multiPaste.length] : textLines,\n        origin: origin || (paste ? \"paste\" : cm.state.cutIncoming > recent ? \"cut\" : \"+input\")\n      };\n      makeChange(cm.doc, changeEvent);\n      signalLater(cm, \"inputRead\", cm, changeEvent);\n    }\n\n    if (inserted && !paste) {\n      triggerElectric(cm, inserted);\n    }\n\n    ensureCursorVisible(cm);\n\n    if (cm.curOp.updateInput < 2) {\n      cm.curOp.updateInput = updateInput;\n    }\n\n    cm.curOp.typing = true;\n    cm.state.pasteIncoming = cm.state.cutIncoming = -1;\n  }\n\n  function handlePaste(e, cm) {\n    var pasted = e.clipboardData && e.clipboardData.getData(\"Text\");\n\n    if (pasted) {\n      e.preventDefault();\n\n      if (!cm.isReadOnly() && !cm.options.disableInput) {\n        runInOp(cm, function () {\n          return applyTextInput(cm, pasted, 0, null, \"paste\");\n        });\n      }\n\n      return true;\n    }\n  }\n\n  function triggerElectric(cm, inserted) {\n    // When an 'electric' character is inserted, immediately trigger a reindent\n    if (!cm.options.electricChars || !cm.options.smartIndent) {\n      return;\n    }\n\n    var sel = cm.doc.sel;\n\n    for (var i = sel.ranges.length - 1; i >= 0; i--) {\n      var range = sel.ranges[i];\n\n      if (range.head.ch > 100 || i && sel.ranges[i - 1].head.line == range.head.line) {\n        continue;\n      }\n\n      var mode = cm.getModeAt(range.head);\n      var indented = false;\n\n      if (mode.electricChars) {\n        for (var j = 0; j < mode.electricChars.length; j++) {\n          if (inserted.indexOf(mode.electricChars.charAt(j)) > -1) {\n            indented = indentLine(cm, range.head.line, \"smart\");\n            break;\n          }\n        }\n      } else if (mode.electricInput) {\n        if (mode.electricInput.test(getLine(cm.doc, range.head.line).text.slice(0, range.head.ch))) {\n          indented = indentLine(cm, range.head.line, \"smart\");\n        }\n      }\n\n      if (indented) {\n        signalLater(cm, \"electricInput\", cm, range.head.line);\n      }\n    }\n  }\n\n  function copyableRanges(cm) {\n    var text = [],\n        ranges = [];\n\n    for (var i = 0; i < cm.doc.sel.ranges.length; i++) {\n      var line = cm.doc.sel.ranges[i].head.line;\n      var lineRange = {\n        anchor: Pos(line, 0),\n        head: Pos(line + 1, 0)\n      };\n      ranges.push(lineRange);\n      text.push(cm.getRange(lineRange.anchor, lineRange.head));\n    }\n\n    return {\n      text: text,\n      ranges: ranges\n    };\n  }\n\n  function disableBrowserMagic(field, spellcheck, autocorrect, autocapitalize) {\n    field.setAttribute(\"autocorrect\", autocorrect ? \"\" : \"off\");\n    field.setAttribute(\"autocapitalize\", autocapitalize ? \"\" : \"off\");\n    field.setAttribute(\"spellcheck\", !!spellcheck);\n  }\n\n  function hiddenTextarea() {\n    var te = elt(\"textarea\", null, null, \"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none\");\n    var div = elt(\"div\", [te], null, \"overflow: hidden; position: relative; width: 3px; height: 0px;\"); // The textarea is kept positioned near the cursor to prevent the\n    // fact that it'll be scrolled into view on input from scrolling\n    // our fake cursor out of view. On webkit, when wrap=off, paste is\n    // very slow. So make the area wide instead.\n\n    if (webkit) {\n      te.style.width = \"1000px\";\n    } else {\n      te.setAttribute(\"wrap\", \"off\");\n    } // If border: 0; -- iOS fails to open keyboard (issue #1287)\n\n\n    if (ios) {\n      te.style.border = \"1px solid black\";\n    }\n\n    disableBrowserMagic(te);\n    return div;\n  } // The publicly visible API. Note that methodOp(f) means\n  // 'wrap f in an operation, performed on its `this` parameter'.\n  // This is not the complete set of editor methods. Most of the\n  // methods defined on the Doc type are also injected into\n  // CodeMirror.prototype, for backwards compatibility and\n  // convenience.\n\n\n  function addEditorMethods(CodeMirror) {\n    var optionHandlers = CodeMirror.optionHandlers;\n    var helpers = CodeMirror.helpers = {};\n    CodeMirror.prototype = {\n      constructor: CodeMirror,\n      focus: function () {\n        window.focus();\n        this.display.input.focus();\n      },\n      setOption: function (option, value) {\n        var options = this.options,\n            old = options[option];\n\n        if (options[option] == value && option != \"mode\") {\n          return;\n        }\n\n        options[option] = value;\n\n        if (optionHandlers.hasOwnProperty(option)) {\n          operation(this, optionHandlers[option])(this, value, old);\n        }\n\n        signal(this, \"optionChange\", this, option);\n      },\n      getOption: function (option) {\n        return this.options[option];\n      },\n      getDoc: function () {\n        return this.doc;\n      },\n      addKeyMap: function (map, bottom) {\n        this.state.keyMaps[bottom ? \"push\" : \"unshift\"](getKeyMap(map));\n      },\n      removeKeyMap: function (map) {\n        var maps = this.state.keyMaps;\n\n        for (var i = 0; i < maps.length; ++i) {\n          if (maps[i] == map || maps[i].name == map) {\n            maps.splice(i, 1);\n            return true;\n          }\n        }\n      },\n      addOverlay: methodOp(function (spec, options) {\n        var mode = spec.token ? spec : CodeMirror.getMode(this.options, spec);\n\n        if (mode.startState) {\n          throw new Error(\"Overlays may not be stateful.\");\n        }\n\n        insertSorted(this.state.overlays, {\n          mode: mode,\n          modeSpec: spec,\n          opaque: options && options.opaque,\n          priority: options && options.priority || 0\n        }, function (overlay) {\n          return overlay.priority;\n        });\n        this.state.modeGen++;\n        regChange(this);\n      }),\n      removeOverlay: methodOp(function (spec) {\n        var overlays = this.state.overlays;\n\n        for (var i = 0; i < overlays.length; ++i) {\n          var cur = overlays[i].modeSpec;\n\n          if (cur == spec || typeof spec == \"string\" && cur.name == spec) {\n            overlays.splice(i, 1);\n            this.state.modeGen++;\n            regChange(this);\n            return;\n          }\n        }\n      }),\n      indentLine: methodOp(function (n, dir, aggressive) {\n        if (typeof dir != \"string\" && typeof dir != \"number\") {\n          if (dir == null) {\n            dir = this.options.smartIndent ? \"smart\" : \"prev\";\n          } else {\n            dir = dir ? \"add\" : \"subtract\";\n          }\n        }\n\n        if (isLine(this.doc, n)) {\n          indentLine(this, n, dir, aggressive);\n        }\n      }),\n      indentSelection: methodOp(function (how) {\n        var ranges = this.doc.sel.ranges,\n            end = -1;\n\n        for (var i = 0; i < ranges.length; i++) {\n          var range = ranges[i];\n\n          if (!range.empty()) {\n            var from = range.from(),\n                to = range.to();\n            var start = Math.max(end, from.line);\n            end = Math.min(this.lastLine(), to.line - (to.ch ? 0 : 1)) + 1;\n\n            for (var j = start; j < end; ++j) {\n              indentLine(this, j, how);\n            }\n\n            var newRanges = this.doc.sel.ranges;\n\n            if (from.ch == 0 && ranges.length == newRanges.length && newRanges[i].from().ch > 0) {\n              replaceOneSelection(this.doc, i, new Range(from, newRanges[i].to()), sel_dontScroll);\n            }\n          } else if (range.head.line > end) {\n            indentLine(this, range.head.line, how, true);\n            end = range.head.line;\n\n            if (i == this.doc.sel.primIndex) {\n              ensureCursorVisible(this);\n            }\n          }\n        }\n      }),\n      // Fetch the parser token for a given character. Useful for hacks\n      // that want to inspect the mode state (say, for completion).\n      getTokenAt: function (pos, precise) {\n        return takeToken(this, pos, precise);\n      },\n      getLineTokens: function (line, precise) {\n        return takeToken(this, Pos(line), precise, true);\n      },\n      getTokenTypeAt: function (pos) {\n        pos = clipPos(this.doc, pos);\n        var styles = getLineStyles(this, getLine(this.doc, pos.line));\n        var before = 0,\n            after = (styles.length - 1) / 2,\n            ch = pos.ch;\n        var type;\n\n        if (ch == 0) {\n          type = styles[2];\n        } else {\n          for (;;) {\n            var mid = before + after >> 1;\n\n            if ((mid ? styles[mid * 2 - 1] : 0) >= ch) {\n              after = mid;\n            } else if (styles[mid * 2 + 1] < ch) {\n              before = mid + 1;\n            } else {\n              type = styles[mid * 2 + 2];\n              break;\n            }\n          }\n        }\n\n        var cut = type ? type.indexOf(\"overlay \") : -1;\n        return cut < 0 ? type : cut == 0 ? null : type.slice(0, cut - 1);\n      },\n      getModeAt: function (pos) {\n        var mode = this.doc.mode;\n\n        if (!mode.innerMode) {\n          return mode;\n        }\n\n        return CodeMirror.innerMode(mode, this.getTokenAt(pos).state).mode;\n      },\n      getHelper: function (pos, type) {\n        return this.getHelpers(pos, type)[0];\n      },\n      getHelpers: function (pos, type) {\n        var found = [];\n\n        if (!helpers.hasOwnProperty(type)) {\n          return found;\n        }\n\n        var help = helpers[type],\n            mode = this.getModeAt(pos);\n\n        if (typeof mode[type] == \"string\") {\n          if (help[mode[type]]) {\n            found.push(help[mode[type]]);\n          }\n        } else if (mode[type]) {\n          for (var i = 0; i < mode[type].length; i++) {\n            var val = help[mode[type][i]];\n\n            if (val) {\n              found.push(val);\n            }\n          }\n        } else if (mode.helperType && help[mode.helperType]) {\n          found.push(help[mode.helperType]);\n        } else if (help[mode.name]) {\n          found.push(help[mode.name]);\n        }\n\n        for (var i$1 = 0; i$1 < help._global.length; i$1++) {\n          var cur = help._global[i$1];\n\n          if (cur.pred(mode, this) && indexOf(found, cur.val) == -1) {\n            found.push(cur.val);\n          }\n        }\n\n        return found;\n      },\n      getStateAfter: function (line, precise) {\n        var doc = this.doc;\n        line = clipLine(doc, line == null ? doc.first + doc.size - 1 : line);\n        return getContextBefore(this, line + 1, precise).state;\n      },\n      cursorCoords: function (start, mode) {\n        var pos,\n            range = this.doc.sel.primary();\n\n        if (start == null) {\n          pos = range.head;\n        } else if (typeof start == \"object\") {\n          pos = clipPos(this.doc, start);\n        } else {\n          pos = start ? range.from() : range.to();\n        }\n\n        return cursorCoords(this, pos, mode || \"page\");\n      },\n      charCoords: function (pos, mode) {\n        return charCoords(this, clipPos(this.doc, pos), mode || \"page\");\n      },\n      coordsChar: function (coords, mode) {\n        coords = fromCoordSystem(this, coords, mode || \"page\");\n        return coordsChar(this, coords.left, coords.top);\n      },\n      lineAtHeight: function (height, mode) {\n        height = fromCoordSystem(this, {\n          top: height,\n          left: 0\n        }, mode || \"page\").top;\n        return lineAtHeight(this.doc, height + this.display.viewOffset);\n      },\n      heightAtLine: function (line, mode, includeWidgets) {\n        var end = false,\n            lineObj;\n\n        if (typeof line == \"number\") {\n          var last = this.doc.first + this.doc.size - 1;\n\n          if (line < this.doc.first) {\n            line = this.doc.first;\n          } else if (line > last) {\n            line = last;\n            end = true;\n          }\n\n          lineObj = getLine(this.doc, line);\n        } else {\n          lineObj = line;\n        }\n\n        return intoCoordSystem(this, lineObj, {\n          top: 0,\n          left: 0\n        }, mode || \"page\", includeWidgets || end).top + (end ? this.doc.height - heightAtLine(lineObj) : 0);\n      },\n      defaultTextHeight: function () {\n        return textHeight(this.display);\n      },\n      defaultCharWidth: function () {\n        return charWidth(this.display);\n      },\n      getViewport: function () {\n        return {\n          from: this.display.viewFrom,\n          to: this.display.viewTo\n        };\n      },\n      addWidget: function (pos, node, scroll, vert, horiz) {\n        var display = this.display;\n        pos = cursorCoords(this, clipPos(this.doc, pos));\n        var top = pos.bottom,\n            left = pos.left;\n        node.style.position = \"absolute\";\n        node.setAttribute(\"cm-ignore-events\", \"true\");\n        this.display.input.setUneditable(node);\n        display.sizer.appendChild(node);\n\n        if (vert == \"over\") {\n          top = pos.top;\n        } else if (vert == \"above\" || vert == \"near\") {\n          var vspace = Math.max(display.wrapper.clientHeight, this.doc.height),\n              hspace = Math.max(display.sizer.clientWidth, display.lineSpace.clientWidth); // Default to positioning above (if specified and possible); otherwise default to positioning below\n\n          if ((vert == 'above' || pos.bottom + node.offsetHeight > vspace) && pos.top > node.offsetHeight) {\n            top = pos.top - node.offsetHeight;\n          } else if (pos.bottom + node.offsetHeight <= vspace) {\n            top = pos.bottom;\n          }\n\n          if (left + node.offsetWidth > hspace) {\n            left = hspace - node.offsetWidth;\n          }\n        }\n\n        node.style.top = top + \"px\";\n        node.style.left = node.style.right = \"\";\n\n        if (horiz == \"right\") {\n          left = display.sizer.clientWidth - node.offsetWidth;\n          node.style.right = \"0px\";\n        } else {\n          if (horiz == \"left\") {\n            left = 0;\n          } else if (horiz == \"middle\") {\n            left = (display.sizer.clientWidth - node.offsetWidth) / 2;\n          }\n\n          node.style.left = left + \"px\";\n        }\n\n        if (scroll) {\n          scrollIntoView(this, {\n            left: left,\n            top: top,\n            right: left + node.offsetWidth,\n            bottom: top + node.offsetHeight\n          });\n        }\n      },\n      triggerOnKeyDown: methodOp(onKeyDown),\n      triggerOnKeyPress: methodOp(onKeyPress),\n      triggerOnKeyUp: onKeyUp,\n      triggerOnMouseDown: methodOp(onMouseDown),\n      execCommand: function (cmd) {\n        if (commands.hasOwnProperty(cmd)) {\n          return commands[cmd].call(null, this);\n        }\n      },\n      triggerElectric: methodOp(function (text) {\n        triggerElectric(this, text);\n      }),\n      findPosH: function (from, amount, unit, visually) {\n        var dir = 1;\n\n        if (amount < 0) {\n          dir = -1;\n          amount = -amount;\n        }\n\n        var cur = clipPos(this.doc, from);\n\n        for (var i = 0; i < amount; ++i) {\n          cur = findPosH(this.doc, cur, dir, unit, visually);\n\n          if (cur.hitSide) {\n            break;\n          }\n        }\n\n        return cur;\n      },\n      moveH: methodOp(function (dir, unit) {\n        var this$1 = this;\n        this.extendSelectionsBy(function (range) {\n          if (this$1.display.shift || this$1.doc.extend || range.empty()) {\n            return findPosH(this$1.doc, range.head, dir, unit, this$1.options.rtlMoveVisually);\n          } else {\n            return dir < 0 ? range.from() : range.to();\n          }\n        }, sel_move);\n      }),\n      deleteH: methodOp(function (dir, unit) {\n        var sel = this.doc.sel,\n            doc = this.doc;\n\n        if (sel.somethingSelected()) {\n          doc.replaceSelection(\"\", null, \"+delete\");\n        } else {\n          deleteNearSelection(this, function (range) {\n            var other = findPosH(doc, range.head, dir, unit, false);\n            return dir < 0 ? {\n              from: other,\n              to: range.head\n            } : {\n              from: range.head,\n              to: other\n            };\n          });\n        }\n      }),\n      findPosV: function (from, amount, unit, goalColumn) {\n        var dir = 1,\n            x = goalColumn;\n\n        if (amount < 0) {\n          dir = -1;\n          amount = -amount;\n        }\n\n        var cur = clipPos(this.doc, from);\n\n        for (var i = 0; i < amount; ++i) {\n          var coords = cursorCoords(this, cur, \"div\");\n\n          if (x == null) {\n            x = coords.left;\n          } else {\n            coords.left = x;\n          }\n\n          cur = findPosV(this, coords, dir, unit);\n\n          if (cur.hitSide) {\n            break;\n          }\n        }\n\n        return cur;\n      },\n      moveV: methodOp(function (dir, unit) {\n        var this$1 = this;\n        var doc = this.doc,\n            goals = [];\n        var collapse = !this.display.shift && !doc.extend && doc.sel.somethingSelected();\n        doc.extendSelectionsBy(function (range) {\n          if (collapse) {\n            return dir < 0 ? range.from() : range.to();\n          }\n\n          var headPos = cursorCoords(this$1, range.head, \"div\");\n\n          if (range.goalColumn != null) {\n            headPos.left = range.goalColumn;\n          }\n\n          goals.push(headPos.left);\n          var pos = findPosV(this$1, headPos, dir, unit);\n\n          if (unit == \"page\" && range == doc.sel.primary()) {\n            addToScrollTop(this$1, charCoords(this$1, pos, \"div\").top - headPos.top);\n          }\n\n          return pos;\n        }, sel_move);\n\n        if (goals.length) {\n          for (var i = 0; i < doc.sel.ranges.length; i++) {\n            doc.sel.ranges[i].goalColumn = goals[i];\n          }\n        }\n      }),\n      // Find the word at the given position (as returned by coordsChar).\n      findWordAt: function (pos) {\n        var doc = this.doc,\n            line = getLine(doc, pos.line).text;\n        var start = pos.ch,\n            end = pos.ch;\n\n        if (line) {\n          var helper = this.getHelper(pos, \"wordChars\");\n\n          if ((pos.sticky == \"before\" || end == line.length) && start) {\n            --start;\n          } else {\n            ++end;\n          }\n\n          var startChar = line.charAt(start);\n          var check = isWordChar(startChar, helper) ? function (ch) {\n            return isWordChar(ch, helper);\n          } : /\\s/.test(startChar) ? function (ch) {\n            return /\\s/.test(ch);\n          } : function (ch) {\n            return !/\\s/.test(ch) && !isWordChar(ch);\n          };\n\n          while (start > 0 && check(line.charAt(start - 1))) {\n            --start;\n          }\n\n          while (end < line.length && check(line.charAt(end))) {\n            ++end;\n          }\n        }\n\n        return new Range(Pos(pos.line, start), Pos(pos.line, end));\n      },\n      toggleOverwrite: function (value) {\n        if (value != null && value == this.state.overwrite) {\n          return;\n        }\n\n        if (this.state.overwrite = !this.state.overwrite) {\n          addClass(this.display.cursorDiv, \"CodeMirror-overwrite\");\n        } else {\n          rmClass(this.display.cursorDiv, \"CodeMirror-overwrite\");\n        }\n\n        signal(this, \"overwriteToggle\", this, this.state.overwrite);\n      },\n      hasFocus: function () {\n        return this.display.input.getField() == activeElt();\n      },\n      isReadOnly: function () {\n        return !!(this.options.readOnly || this.doc.cantEdit);\n      },\n      scrollTo: methodOp(function (x, y) {\n        scrollToCoords(this, x, y);\n      }),\n      getScrollInfo: function () {\n        var scroller = this.display.scroller;\n        return {\n          left: scroller.scrollLeft,\n          top: scroller.scrollTop,\n          height: scroller.scrollHeight - scrollGap(this) - this.display.barHeight,\n          width: scroller.scrollWidth - scrollGap(this) - this.display.barWidth,\n          clientHeight: displayHeight(this),\n          clientWidth: displayWidth(this)\n        };\n      },\n      scrollIntoView: methodOp(function (range, margin) {\n        if (range == null) {\n          range = {\n            from: this.doc.sel.primary().head,\n            to: null\n          };\n\n          if (margin == null) {\n            margin = this.options.cursorScrollMargin;\n          }\n        } else if (typeof range == \"number\") {\n          range = {\n            from: Pos(range, 0),\n            to: null\n          };\n        } else if (range.from == null) {\n          range = {\n            from: range,\n            to: null\n          };\n        }\n\n        if (!range.to) {\n          range.to = range.from;\n        }\n\n        range.margin = margin || 0;\n\n        if (range.from.line != null) {\n          scrollToRange(this, range);\n        } else {\n          scrollToCoordsRange(this, range.from, range.to, range.margin);\n        }\n      }),\n      setSize: methodOp(function (width, height) {\n        var this$1 = this;\n\n        var interpret = function (val) {\n          return typeof val == \"number\" || /^\\d+$/.test(String(val)) ? val + \"px\" : val;\n        };\n\n        if (width != null) {\n          this.display.wrapper.style.width = interpret(width);\n        }\n\n        if (height != null) {\n          this.display.wrapper.style.height = interpret(height);\n        }\n\n        if (this.options.lineWrapping) {\n          clearLineMeasurementCache(this);\n        }\n\n        var lineNo = this.display.viewFrom;\n        this.doc.iter(lineNo, this.display.viewTo, function (line) {\n          if (line.widgets) {\n            for (var i = 0; i < line.widgets.length; i++) {\n              if (line.widgets[i].noHScroll) {\n                regLineChange(this$1, lineNo, \"widget\");\n                break;\n              }\n            }\n          }\n\n          ++lineNo;\n        });\n        this.curOp.forceUpdate = true;\n        signal(this, \"refresh\", this);\n      }),\n      operation: function (f) {\n        return runInOp(this, f);\n      },\n      startOperation: function () {\n        return startOperation(this);\n      },\n      endOperation: function () {\n        return endOperation(this);\n      },\n      refresh: methodOp(function () {\n        var oldHeight = this.display.cachedTextHeight;\n        regChange(this);\n        this.curOp.forceUpdate = true;\n        clearCaches(this);\n        scrollToCoords(this, this.doc.scrollLeft, this.doc.scrollTop);\n        updateGutterSpace(this.display);\n\n        if (oldHeight == null || Math.abs(oldHeight - textHeight(this.display)) > .5 || this.options.lineWrapping) {\n          estimateLineHeights(this);\n        }\n\n        signal(this, \"refresh\", this);\n      }),\n      swapDoc: methodOp(function (doc) {\n        var old = this.doc;\n        old.cm = null; // Cancel the current text selection if any (#5821)\n\n        if (this.state.selectingText) {\n          this.state.selectingText();\n        }\n\n        attachDoc(this, doc);\n        clearCaches(this);\n        this.display.input.reset();\n        scrollToCoords(this, doc.scrollLeft, doc.scrollTop);\n        this.curOp.forceScroll = true;\n        signalLater(this, \"swapDoc\", this, old);\n        return old;\n      }),\n      phrase: function (phraseText) {\n        var phrases = this.options.phrases;\n        return phrases && Object.prototype.hasOwnProperty.call(phrases, phraseText) ? phrases[phraseText] : phraseText;\n      },\n      getInputField: function () {\n        return this.display.input.getField();\n      },\n      getWrapperElement: function () {\n        return this.display.wrapper;\n      },\n      getScrollerElement: function () {\n        return this.display.scroller;\n      },\n      getGutterElement: function () {\n        return this.display.gutters;\n      }\n    };\n    eventMixin(CodeMirror);\n\n    CodeMirror.registerHelper = function (type, name, value) {\n      if (!helpers.hasOwnProperty(type)) {\n        helpers[type] = CodeMirror[type] = {\n          _global: []\n        };\n      }\n\n      helpers[type][name] = value;\n    };\n\n    CodeMirror.registerGlobalHelper = function (type, name, predicate, value) {\n      CodeMirror.registerHelper(type, name, value);\n\n      helpers[type]._global.push({\n        pred: predicate,\n        val: value\n      });\n    };\n  } // Used for horizontal relative motion. Dir is -1 or 1 (left or\n  // right), unit can be \"char\", \"column\" (like char, but doesn't\n  // cross line boundaries), \"word\" (across next word), or \"group\" (to\n  // the start of next group of word or non-word-non-whitespace\n  // chars). The visually param controls whether, in right-to-left\n  // text, direction 1 means to move towards the next index in the\n  // string, or towards the character to the right of the current\n  // position. The resulting position will have a hitSide=true\n  // property if it reached the end of the document.\n\n\n  function findPosH(doc, pos, dir, unit, visually) {\n    var oldPos = pos;\n    var origDir = dir;\n    var lineObj = getLine(doc, pos.line);\n    var lineDir = visually && doc.direction == \"rtl\" ? -dir : dir;\n\n    function findNextLine() {\n      var l = pos.line + lineDir;\n\n      if (l < doc.first || l >= doc.first + doc.size) {\n        return false;\n      }\n\n      pos = new Pos(l, pos.ch, pos.sticky);\n      return lineObj = getLine(doc, l);\n    }\n\n    function moveOnce(boundToLine) {\n      var next;\n\n      if (visually) {\n        next = moveVisually(doc.cm, lineObj, pos, dir);\n      } else {\n        next = moveLogically(lineObj, pos, dir);\n      }\n\n      if (next == null) {\n        if (!boundToLine && findNextLine()) {\n          pos = endOfLine(visually, doc.cm, lineObj, pos.line, lineDir);\n        } else {\n          return false;\n        }\n      } else {\n        pos = next;\n      }\n\n      return true;\n    }\n\n    if (unit == \"char\") {\n      moveOnce();\n    } else if (unit == \"column\") {\n      moveOnce(true);\n    } else if (unit == \"word\" || unit == \"group\") {\n      var sawType = null,\n          group = unit == \"group\";\n      var helper = doc.cm && doc.cm.getHelper(pos, \"wordChars\");\n\n      for (var first = true;; first = false) {\n        if (dir < 0 && !moveOnce(!first)) {\n          break;\n        }\n\n        var cur = lineObj.text.charAt(pos.ch) || \"\\n\";\n        var type = isWordChar(cur, helper) ? \"w\" : group && cur == \"\\n\" ? \"n\" : !group || /\\s/.test(cur) ? null : \"p\";\n\n        if (group && !first && !type) {\n          type = \"s\";\n        }\n\n        if (sawType && sawType != type) {\n          if (dir < 0) {\n            dir = 1;\n            moveOnce();\n            pos.sticky = \"after\";\n          }\n\n          break;\n        }\n\n        if (type) {\n          sawType = type;\n        }\n\n        if (dir > 0 && !moveOnce(!first)) {\n          break;\n        }\n      }\n    }\n\n    var result = skipAtomic(doc, pos, oldPos, origDir, true);\n\n    if (equalCursorPos(oldPos, result)) {\n      result.hitSide = true;\n    }\n\n    return result;\n  } // For relative vertical movement. Dir may be -1 or 1. Unit can be\n  // \"page\" or \"line\". The resulting position will have a hitSide=true\n  // property if it reached the end of the document.\n\n\n  function findPosV(cm, pos, dir, unit) {\n    var doc = cm.doc,\n        x = pos.left,\n        y;\n\n    if (unit == \"page\") {\n      var pageSize = Math.min(cm.display.wrapper.clientHeight, window.innerHeight || document.documentElement.clientHeight);\n      var moveAmount = Math.max(pageSize - .5 * textHeight(cm.display), 3);\n      y = (dir > 0 ? pos.bottom : pos.top) + dir * moveAmount;\n    } else if (unit == \"line\") {\n      y = dir > 0 ? pos.bottom + 3 : pos.top - 3;\n    }\n\n    var target;\n\n    for (;;) {\n      target = coordsChar(cm, x, y);\n\n      if (!target.outside) {\n        break;\n      }\n\n      if (dir < 0 ? y <= 0 : y >= doc.height) {\n        target.hitSide = true;\n        break;\n      }\n\n      y += dir * 5;\n    }\n\n    return target;\n  } // CONTENTEDITABLE INPUT STYLE\n\n\n  var ContentEditableInput = function (cm) {\n    this.cm = cm;\n    this.lastAnchorNode = this.lastAnchorOffset = this.lastFocusNode = this.lastFocusOffset = null;\n    this.polling = new Delayed();\n    this.composing = null;\n    this.gracePeriod = false;\n    this.readDOMTimeout = null;\n  };\n\n  ContentEditableInput.prototype.init = function (display) {\n    var this$1 = this;\n    var input = this,\n        cm = input.cm;\n    var div = input.div = display.lineDiv;\n    disableBrowserMagic(div, cm.options.spellcheck, cm.options.autocorrect, cm.options.autocapitalize);\n    on(div, \"paste\", function (e) {\n      if (signalDOMEvent(cm, e) || handlePaste(e, cm)) {\n        return;\n      } // IE doesn't fire input events, so we schedule a read for the pasted content in this way\n\n\n      if (ie_version <= 11) {\n        setTimeout(operation(cm, function () {\n          return this$1.updateFromDOM();\n        }), 20);\n      }\n    });\n    on(div, \"compositionstart\", function (e) {\n      this$1.composing = {\n        data: e.data,\n        done: false\n      };\n    });\n    on(div, \"compositionupdate\", function (e) {\n      if (!this$1.composing) {\n        this$1.composing = {\n          data: e.data,\n          done: false\n        };\n      }\n    });\n    on(div, \"compositionend\", function (e) {\n      if (this$1.composing) {\n        if (e.data != this$1.composing.data) {\n          this$1.readFromDOMSoon();\n        }\n\n        this$1.composing.done = true;\n      }\n    });\n    on(div, \"touchstart\", function () {\n      return input.forceCompositionEnd();\n    });\n    on(div, \"input\", function () {\n      if (!this$1.composing) {\n        this$1.readFromDOMSoon();\n      }\n    });\n\n    function onCopyCut(e) {\n      if (signalDOMEvent(cm, e)) {\n        return;\n      }\n\n      if (cm.somethingSelected()) {\n        setLastCopied({\n          lineWise: false,\n          text: cm.getSelections()\n        });\n\n        if (e.type == \"cut\") {\n          cm.replaceSelection(\"\", null, \"cut\");\n        }\n      } else if (!cm.options.lineWiseCopyCut) {\n        return;\n      } else {\n        var ranges = copyableRanges(cm);\n        setLastCopied({\n          lineWise: true,\n          text: ranges.text\n        });\n\n        if (e.type == \"cut\") {\n          cm.operation(function () {\n            cm.setSelections(ranges.ranges, 0, sel_dontScroll);\n            cm.replaceSelection(\"\", null, \"cut\");\n          });\n        }\n      }\n\n      if (e.clipboardData) {\n        e.clipboardData.clearData();\n        var content = lastCopied.text.join(\"\\n\"); // iOS exposes the clipboard API, but seems to discard content inserted into it\n\n        e.clipboardData.setData(\"Text\", content);\n\n        if (e.clipboardData.getData(\"Text\") == content) {\n          e.preventDefault();\n          return;\n        }\n      } // Old-fashioned briefly-focus-a-textarea hack\n\n\n      var kludge = hiddenTextarea(),\n          te = kludge.firstChild;\n      cm.display.lineSpace.insertBefore(kludge, cm.display.lineSpace.firstChild);\n      te.value = lastCopied.text.join(\"\\n\");\n      var hadFocus = document.activeElement;\n      selectInput(te);\n      setTimeout(function () {\n        cm.display.lineSpace.removeChild(kludge);\n        hadFocus.focus();\n\n        if (hadFocus == div) {\n          input.showPrimarySelection();\n        }\n      }, 50);\n    }\n\n    on(div, \"copy\", onCopyCut);\n    on(div, \"cut\", onCopyCut);\n  };\n\n  ContentEditableInput.prototype.screenReaderLabelChanged = function (label) {\n    // Label for screenreaders, accessibility\n    if (label) {\n      this.div.setAttribute('aria-label', label);\n    } else {\n      this.div.removeAttribute('aria-label');\n    }\n  };\n\n  ContentEditableInput.prototype.prepareSelection = function () {\n    var result = prepareSelection(this.cm, false);\n    result.focus = document.activeElement == this.div;\n    return result;\n  };\n\n  ContentEditableInput.prototype.showSelection = function (info, takeFocus) {\n    if (!info || !this.cm.display.view.length) {\n      return;\n    }\n\n    if (info.focus || takeFocus) {\n      this.showPrimarySelection();\n    }\n\n    this.showMultipleSelections(info);\n  };\n\n  ContentEditableInput.prototype.getSelection = function () {\n    return this.cm.display.wrapper.ownerDocument.getSelection();\n  };\n\n  ContentEditableInput.prototype.showPrimarySelection = function () {\n    var sel = this.getSelection(),\n        cm = this.cm,\n        prim = cm.doc.sel.primary();\n    var from = prim.from(),\n        to = prim.to();\n\n    if (cm.display.viewTo == cm.display.viewFrom || from.line >= cm.display.viewTo || to.line < cm.display.viewFrom) {\n      sel.removeAllRanges();\n      return;\n    }\n\n    var curAnchor = domToPos(cm, sel.anchorNode, sel.anchorOffset);\n    var curFocus = domToPos(cm, sel.focusNode, sel.focusOffset);\n\n    if (curAnchor && !curAnchor.bad && curFocus && !curFocus.bad && cmp(minPos(curAnchor, curFocus), from) == 0 && cmp(maxPos(curAnchor, curFocus), to) == 0) {\n      return;\n    }\n\n    var view = cm.display.view;\n    var start = from.line >= cm.display.viewFrom && posToDOM(cm, from) || {\n      node: view[0].measure.map[2],\n      offset: 0\n    };\n    var end = to.line < cm.display.viewTo && posToDOM(cm, to);\n\n    if (!end) {\n      var measure = view[view.length - 1].measure;\n      var map = measure.maps ? measure.maps[measure.maps.length - 1] : measure.map;\n      end = {\n        node: map[map.length - 1],\n        offset: map[map.length - 2] - map[map.length - 3]\n      };\n    }\n\n    if (!start || !end) {\n      sel.removeAllRanges();\n      return;\n    }\n\n    var old = sel.rangeCount && sel.getRangeAt(0),\n        rng;\n\n    try {\n      rng = range(start.node, start.offset, end.offset, end.node);\n    } catch (e) {} // Our model of the DOM might be outdated, in which case the range we try to set can be impossible\n\n\n    if (rng) {\n      if (!gecko && cm.state.focused) {\n        sel.collapse(start.node, start.offset);\n\n        if (!rng.collapsed) {\n          sel.removeAllRanges();\n          sel.addRange(rng);\n        }\n      } else {\n        sel.removeAllRanges();\n        sel.addRange(rng);\n      }\n\n      if (old && sel.anchorNode == null) {\n        sel.addRange(old);\n      } else if (gecko) {\n        this.startGracePeriod();\n      }\n    }\n\n    this.rememberSelection();\n  };\n\n  ContentEditableInput.prototype.startGracePeriod = function () {\n    var this$1 = this;\n    clearTimeout(this.gracePeriod);\n    this.gracePeriod = setTimeout(function () {\n      this$1.gracePeriod = false;\n\n      if (this$1.selectionChanged()) {\n        this$1.cm.operation(function () {\n          return this$1.cm.curOp.selectionChanged = true;\n        });\n      }\n    }, 20);\n  };\n\n  ContentEditableInput.prototype.showMultipleSelections = function (info) {\n    removeChildrenAndAdd(this.cm.display.cursorDiv, info.cursors);\n    removeChildrenAndAdd(this.cm.display.selectionDiv, info.selection);\n  };\n\n  ContentEditableInput.prototype.rememberSelection = function () {\n    var sel = this.getSelection();\n    this.lastAnchorNode = sel.anchorNode;\n    this.lastAnchorOffset = sel.anchorOffset;\n    this.lastFocusNode = sel.focusNode;\n    this.lastFocusOffset = sel.focusOffset;\n  };\n\n  ContentEditableInput.prototype.selectionInEditor = function () {\n    var sel = this.getSelection();\n\n    if (!sel.rangeCount) {\n      return false;\n    }\n\n    var node = sel.getRangeAt(0).commonAncestorContainer;\n    return contains(this.div, node);\n  };\n\n  ContentEditableInput.prototype.focus = function () {\n    if (this.cm.options.readOnly != \"nocursor\") {\n      if (!this.selectionInEditor() || document.activeElement != this.div) {\n        this.showSelection(this.prepareSelection(), true);\n      }\n\n      this.div.focus();\n    }\n  };\n\n  ContentEditableInput.prototype.blur = function () {\n    this.div.blur();\n  };\n\n  ContentEditableInput.prototype.getField = function () {\n    return this.div;\n  };\n\n  ContentEditableInput.prototype.supportsTouch = function () {\n    return true;\n  };\n\n  ContentEditableInput.prototype.receivedFocus = function () {\n    var input = this;\n\n    if (this.selectionInEditor()) {\n      this.pollSelection();\n    } else {\n      runInOp(this.cm, function () {\n        return input.cm.curOp.selectionChanged = true;\n      });\n    }\n\n    function poll() {\n      if (input.cm.state.focused) {\n        input.pollSelection();\n        input.polling.set(input.cm.options.pollInterval, poll);\n      }\n    }\n\n    this.polling.set(this.cm.options.pollInterval, poll);\n  };\n\n  ContentEditableInput.prototype.selectionChanged = function () {\n    var sel = this.getSelection();\n    return sel.anchorNode != this.lastAnchorNode || sel.anchorOffset != this.lastAnchorOffset || sel.focusNode != this.lastFocusNode || sel.focusOffset != this.lastFocusOffset;\n  };\n\n  ContentEditableInput.prototype.pollSelection = function () {\n    if (this.readDOMTimeout != null || this.gracePeriod || !this.selectionChanged()) {\n      return;\n    }\n\n    var sel = this.getSelection(),\n        cm = this.cm; // On Android Chrome (version 56, at least), backspacing into an\n    // uneditable block element will put the cursor in that element,\n    // and then, because it's not editable, hide the virtual keyboard.\n    // Because Android doesn't allow us to actually detect backspace\n    // presses in a sane way, this code checks for when that happens\n    // and simulates a backspace press in this case.\n\n    if (android && chrome && this.cm.display.gutterSpecs.length && isInGutter(sel.anchorNode)) {\n      this.cm.triggerOnKeyDown({\n        type: \"keydown\",\n        keyCode: 8,\n        preventDefault: Math.abs\n      });\n      this.blur();\n      this.focus();\n      return;\n    }\n\n    if (this.composing) {\n      return;\n    }\n\n    this.rememberSelection();\n    var anchor = domToPos(cm, sel.anchorNode, sel.anchorOffset);\n    var head = domToPos(cm, sel.focusNode, sel.focusOffset);\n\n    if (anchor && head) {\n      runInOp(cm, function () {\n        setSelection(cm.doc, simpleSelection(anchor, head), sel_dontScroll);\n\n        if (anchor.bad || head.bad) {\n          cm.curOp.selectionChanged = true;\n        }\n      });\n    }\n  };\n\n  ContentEditableInput.prototype.pollContent = function () {\n    if (this.readDOMTimeout != null) {\n      clearTimeout(this.readDOMTimeout);\n      this.readDOMTimeout = null;\n    }\n\n    var cm = this.cm,\n        display = cm.display,\n        sel = cm.doc.sel.primary();\n    var from = sel.from(),\n        to = sel.to();\n\n    if (from.ch == 0 && from.line > cm.firstLine()) {\n      from = Pos(from.line - 1, getLine(cm.doc, from.line - 1).length);\n    }\n\n    if (to.ch == getLine(cm.doc, to.line).text.length && to.line < cm.lastLine()) {\n      to = Pos(to.line + 1, 0);\n    }\n\n    if (from.line < display.viewFrom || to.line > display.viewTo - 1) {\n      return false;\n    }\n\n    var fromIndex, fromLine, fromNode;\n\n    if (from.line == display.viewFrom || (fromIndex = findViewIndex(cm, from.line)) == 0) {\n      fromLine = lineNo(display.view[0].line);\n      fromNode = display.view[0].node;\n    } else {\n      fromLine = lineNo(display.view[fromIndex].line);\n      fromNode = display.view[fromIndex - 1].node.nextSibling;\n    }\n\n    var toIndex = findViewIndex(cm, to.line);\n    var toLine, toNode;\n\n    if (toIndex == display.view.length - 1) {\n      toLine = display.viewTo - 1;\n      toNode = display.lineDiv.lastChild;\n    } else {\n      toLine = lineNo(display.view[toIndex + 1].line) - 1;\n      toNode = display.view[toIndex + 1].node.previousSibling;\n    }\n\n    if (!fromNode) {\n      return false;\n    }\n\n    var newText = cm.doc.splitLines(domTextBetween(cm, fromNode, toNode, fromLine, toLine));\n    var oldText = getBetween(cm.doc, Pos(fromLine, 0), Pos(toLine, getLine(cm.doc, toLine).text.length));\n\n    while (newText.length > 1 && oldText.length > 1) {\n      if (lst(newText) == lst(oldText)) {\n        newText.pop();\n        oldText.pop();\n        toLine--;\n      } else if (newText[0] == oldText[0]) {\n        newText.shift();\n        oldText.shift();\n        fromLine++;\n      } else {\n        break;\n      }\n    }\n\n    var cutFront = 0,\n        cutEnd = 0;\n    var newTop = newText[0],\n        oldTop = oldText[0],\n        maxCutFront = Math.min(newTop.length, oldTop.length);\n\n    while (cutFront < maxCutFront && newTop.charCodeAt(cutFront) == oldTop.charCodeAt(cutFront)) {\n      ++cutFront;\n    }\n\n    var newBot = lst(newText),\n        oldBot = lst(oldText);\n    var maxCutEnd = Math.min(newBot.length - (newText.length == 1 ? cutFront : 0), oldBot.length - (oldText.length == 1 ? cutFront : 0));\n\n    while (cutEnd < maxCutEnd && newBot.charCodeAt(newBot.length - cutEnd - 1) == oldBot.charCodeAt(oldBot.length - cutEnd - 1)) {\n      ++cutEnd;\n    } // Try to move start of change to start of selection if ambiguous\n\n\n    if (newText.length == 1 && oldText.length == 1 && fromLine == from.line) {\n      while (cutFront && cutFront > from.ch && newBot.charCodeAt(newBot.length - cutEnd - 1) == oldBot.charCodeAt(oldBot.length - cutEnd - 1)) {\n        cutFront--;\n        cutEnd++;\n      }\n    }\n\n    newText[newText.length - 1] = newBot.slice(0, newBot.length - cutEnd).replace(/^\\u200b+/, \"\");\n    newText[0] = newText[0].slice(cutFront).replace(/\\u200b+$/, \"\");\n    var chFrom = Pos(fromLine, cutFront);\n    var chTo = Pos(toLine, oldText.length ? lst(oldText).length - cutEnd : 0);\n\n    if (newText.length > 1 || newText[0] || cmp(chFrom, chTo)) {\n      replaceRange(cm.doc, newText, chFrom, chTo, \"+input\");\n      return true;\n    }\n  };\n\n  ContentEditableInput.prototype.ensurePolled = function () {\n    this.forceCompositionEnd();\n  };\n\n  ContentEditableInput.prototype.reset = function () {\n    this.forceCompositionEnd();\n  };\n\n  ContentEditableInput.prototype.forceCompositionEnd = function () {\n    if (!this.composing) {\n      return;\n    }\n\n    clearTimeout(this.readDOMTimeout);\n    this.composing = null;\n    this.updateFromDOM();\n    this.div.blur();\n    this.div.focus();\n  };\n\n  ContentEditableInput.prototype.readFromDOMSoon = function () {\n    var this$1 = this;\n\n    if (this.readDOMTimeout != null) {\n      return;\n    }\n\n    this.readDOMTimeout = setTimeout(function () {\n      this$1.readDOMTimeout = null;\n\n      if (this$1.composing) {\n        if (this$1.composing.done) {\n          this$1.composing = null;\n        } else {\n          return;\n        }\n      }\n\n      this$1.updateFromDOM();\n    }, 80);\n  };\n\n  ContentEditableInput.prototype.updateFromDOM = function () {\n    var this$1 = this;\n\n    if (this.cm.isReadOnly() || !this.pollContent()) {\n      runInOp(this.cm, function () {\n        return regChange(this$1.cm);\n      });\n    }\n  };\n\n  ContentEditableInput.prototype.setUneditable = function (node) {\n    node.contentEditable = \"false\";\n  };\n\n  ContentEditableInput.prototype.onKeyPress = function (e) {\n    if (e.charCode == 0 || this.composing) {\n      return;\n    }\n\n    e.preventDefault();\n\n    if (!this.cm.isReadOnly()) {\n      operation(this.cm, applyTextInput)(this.cm, String.fromCharCode(e.charCode == null ? e.keyCode : e.charCode), 0);\n    }\n  };\n\n  ContentEditableInput.prototype.readOnlyChanged = function (val) {\n    this.div.contentEditable = String(val != \"nocursor\");\n  };\n\n  ContentEditableInput.prototype.onContextMenu = function () {};\n\n  ContentEditableInput.prototype.resetPosition = function () {};\n\n  ContentEditableInput.prototype.needsContentAttribute = true;\n\n  function posToDOM(cm, pos) {\n    var view = findViewForLine(cm, pos.line);\n\n    if (!view || view.hidden) {\n      return null;\n    }\n\n    var line = getLine(cm.doc, pos.line);\n    var info = mapFromLineView(view, line, pos.line);\n    var order = getOrder(line, cm.doc.direction),\n        side = \"left\";\n\n    if (order) {\n      var partPos = getBidiPartAt(order, pos.ch);\n      side = partPos % 2 ? \"right\" : \"left\";\n    }\n\n    var result = nodeAndOffsetInLineMap(info.map, pos.ch, side);\n    result.offset = result.collapse == \"right\" ? result.end : result.start;\n    return result;\n  }\n\n  function isInGutter(node) {\n    for (var scan = node; scan; scan = scan.parentNode) {\n      if (/CodeMirror-gutter-wrapper/.test(scan.className)) {\n        return true;\n      }\n    }\n\n    return false;\n  }\n\n  function badPos(pos, bad) {\n    if (bad) {\n      pos.bad = true;\n    }\n\n    return pos;\n  }\n\n  function domTextBetween(cm, from, to, fromLine, toLine) {\n    var text = \"\",\n        closing = false,\n        lineSep = cm.doc.lineSeparator(),\n        extraLinebreak = false;\n\n    function recognizeMarker(id) {\n      return function (marker) {\n        return marker.id == id;\n      };\n    }\n\n    function close() {\n      if (closing) {\n        text += lineSep;\n\n        if (extraLinebreak) {\n          text += lineSep;\n        }\n\n        closing = extraLinebreak = false;\n      }\n    }\n\n    function addText(str) {\n      if (str) {\n        close();\n        text += str;\n      }\n    }\n\n    function walk(node) {\n      if (node.nodeType == 1) {\n        var cmText = node.getAttribute(\"cm-text\");\n\n        if (cmText) {\n          addText(cmText);\n          return;\n        }\n\n        var markerID = node.getAttribute(\"cm-marker\"),\n            range;\n\n        if (markerID) {\n          var found = cm.findMarks(Pos(fromLine, 0), Pos(toLine + 1, 0), recognizeMarker(+markerID));\n\n          if (found.length && (range = found[0].find(0))) {\n            addText(getBetween(cm.doc, range.from, range.to).join(lineSep));\n          }\n\n          return;\n        }\n\n        if (node.getAttribute(\"contenteditable\") == \"false\") {\n          return;\n        }\n\n        var isBlock = /^(pre|div|p|li|table|br)$/i.test(node.nodeName);\n\n        if (!/^br$/i.test(node.nodeName) && node.textContent.length == 0) {\n          return;\n        }\n\n        if (isBlock) {\n          close();\n        }\n\n        for (var i = 0; i < node.childNodes.length; i++) {\n          walk(node.childNodes[i]);\n        }\n\n        if (/^(pre|p)$/i.test(node.nodeName)) {\n          extraLinebreak = true;\n        }\n\n        if (isBlock) {\n          closing = true;\n        }\n      } else if (node.nodeType == 3) {\n        addText(node.nodeValue.replace(/\\u200b/g, \"\").replace(/\\u00a0/g, \" \"));\n      }\n    }\n\n    for (;;) {\n      walk(from);\n\n      if (from == to) {\n        break;\n      }\n\n      from = from.nextSibling;\n      extraLinebreak = false;\n    }\n\n    return text;\n  }\n\n  function domToPos(cm, node, offset) {\n    var lineNode;\n\n    if (node == cm.display.lineDiv) {\n      lineNode = cm.display.lineDiv.childNodes[offset];\n\n      if (!lineNode) {\n        return badPos(cm.clipPos(Pos(cm.display.viewTo - 1)), true);\n      }\n\n      node = null;\n      offset = 0;\n    } else {\n      for (lineNode = node;; lineNode = lineNode.parentNode) {\n        if (!lineNode || lineNode == cm.display.lineDiv) {\n          return null;\n        }\n\n        if (lineNode.parentNode && lineNode.parentNode == cm.display.lineDiv) {\n          break;\n        }\n      }\n    }\n\n    for (var i = 0; i < cm.display.view.length; i++) {\n      var lineView = cm.display.view[i];\n\n      if (lineView.node == lineNode) {\n        return locateNodeInLineView(lineView, node, offset);\n      }\n    }\n  }\n\n  function locateNodeInLineView(lineView, node, offset) {\n    var wrapper = lineView.text.firstChild,\n        bad = false;\n\n    if (!node || !contains(wrapper, node)) {\n      return badPos(Pos(lineNo(lineView.line), 0), true);\n    }\n\n    if (node == wrapper) {\n      bad = true;\n      node = wrapper.childNodes[offset];\n      offset = 0;\n\n      if (!node) {\n        var line = lineView.rest ? lst(lineView.rest) : lineView.line;\n        return badPos(Pos(lineNo(line), line.text.length), bad);\n      }\n    }\n\n    var textNode = node.nodeType == 3 ? node : null,\n        topNode = node;\n\n    if (!textNode && node.childNodes.length == 1 && node.firstChild.nodeType == 3) {\n      textNode = node.firstChild;\n\n      if (offset) {\n        offset = textNode.nodeValue.length;\n      }\n    }\n\n    while (topNode.parentNode != wrapper) {\n      topNode = topNode.parentNode;\n    }\n\n    var measure = lineView.measure,\n        maps = measure.maps;\n\n    function find(textNode, topNode, offset) {\n      for (var i = -1; i < (maps ? maps.length : 0); i++) {\n        var map = i < 0 ? measure.map : maps[i];\n\n        for (var j = 0; j < map.length; j += 3) {\n          var curNode = map[j + 2];\n\n          if (curNode == textNode || curNode == topNode) {\n            var line = lineNo(i < 0 ? lineView.line : lineView.rest[i]);\n            var ch = map[j] + offset;\n\n            if (offset < 0 || curNode != textNode) {\n              ch = map[j + (offset ? 1 : 0)];\n            }\n\n            return Pos(line, ch);\n          }\n        }\n      }\n    }\n\n    var found = find(textNode, topNode, offset);\n\n    if (found) {\n      return badPos(found, bad);\n    } // FIXME this is all really shaky. might handle the few cases it needs to handle, but likely to cause problems\n\n\n    for (var after = topNode.nextSibling, dist = textNode ? textNode.nodeValue.length - offset : 0; after; after = after.nextSibling) {\n      found = find(after, after.firstChild, 0);\n\n      if (found) {\n        return badPos(Pos(found.line, found.ch - dist), bad);\n      } else {\n        dist += after.textContent.length;\n      }\n    }\n\n    for (var before = topNode.previousSibling, dist$1 = offset; before; before = before.previousSibling) {\n      found = find(before, before.firstChild, -1);\n\n      if (found) {\n        return badPos(Pos(found.line, found.ch + dist$1), bad);\n      } else {\n        dist$1 += before.textContent.length;\n      }\n    }\n  } // TEXTAREA INPUT STYLE\n\n\n  var TextareaInput = function (cm) {\n    this.cm = cm; // See input.poll and input.reset\n\n    this.prevInput = \"\"; // Flag that indicates whether we expect input to appear real soon\n    // now (after some event like 'keypress' or 'input') and are\n    // polling intensively.\n\n    this.pollingFast = false; // Self-resetting timeout for the poller\n\n    this.polling = new Delayed(); // Used to work around IE issue with selection being forgotten when focus moves away from textarea\n\n    this.hasSelection = false;\n    this.composing = null;\n  };\n\n  TextareaInput.prototype.init = function (display) {\n    var this$1 = this;\n    var input = this,\n        cm = this.cm;\n    this.createField(display);\n    var te = this.textarea;\n    display.wrapper.insertBefore(this.wrapper, display.wrapper.firstChild); // Needed to hide big blue blinking cursor on Mobile Safari (doesn't seem to work in iOS 8 anymore)\n\n    if (ios) {\n      te.style.width = \"0px\";\n    }\n\n    on(te, \"input\", function () {\n      if (ie && ie_version >= 9 && this$1.hasSelection) {\n        this$1.hasSelection = null;\n      }\n\n      input.poll();\n    });\n    on(te, \"paste\", function (e) {\n      if (signalDOMEvent(cm, e) || handlePaste(e, cm)) {\n        return;\n      }\n\n      cm.state.pasteIncoming = +new Date();\n      input.fastPoll();\n    });\n\n    function prepareCopyCut(e) {\n      if (signalDOMEvent(cm, e)) {\n        return;\n      }\n\n      if (cm.somethingSelected()) {\n        setLastCopied({\n          lineWise: false,\n          text: cm.getSelections()\n        });\n      } else if (!cm.options.lineWiseCopyCut) {\n        return;\n      } else {\n        var ranges = copyableRanges(cm);\n        setLastCopied({\n          lineWise: true,\n          text: ranges.text\n        });\n\n        if (e.type == \"cut\") {\n          cm.setSelections(ranges.ranges, null, sel_dontScroll);\n        } else {\n          input.prevInput = \"\";\n          te.value = ranges.text.join(\"\\n\");\n          selectInput(te);\n        }\n      }\n\n      if (e.type == \"cut\") {\n        cm.state.cutIncoming = +new Date();\n      }\n    }\n\n    on(te, \"cut\", prepareCopyCut);\n    on(te, \"copy\", prepareCopyCut);\n    on(display.scroller, \"paste\", function (e) {\n      if (eventInWidget(display, e) || signalDOMEvent(cm, e)) {\n        return;\n      }\n\n      if (!te.dispatchEvent) {\n        cm.state.pasteIncoming = +new Date();\n        input.focus();\n        return;\n      } // Pass the `paste` event to the textarea so it's handled by its event listener.\n\n\n      var event = new Event(\"paste\");\n      event.clipboardData = e.clipboardData;\n      te.dispatchEvent(event);\n    }); // Prevent normal selection in the editor (we handle our own)\n\n    on(display.lineSpace, \"selectstart\", function (e) {\n      if (!eventInWidget(display, e)) {\n        e_preventDefault(e);\n      }\n    });\n    on(te, \"compositionstart\", function () {\n      var start = cm.getCursor(\"from\");\n\n      if (input.composing) {\n        input.composing.range.clear();\n      }\n\n      input.composing = {\n        start: start,\n        range: cm.markText(start, cm.getCursor(\"to\"), {\n          className: \"CodeMirror-composing\"\n        })\n      };\n    });\n    on(te, \"compositionend\", function () {\n      if (input.composing) {\n        input.poll();\n        input.composing.range.clear();\n        input.composing = null;\n      }\n    });\n  };\n\n  TextareaInput.prototype.createField = function (_display) {\n    // Wraps and hides input textarea\n    this.wrapper = hiddenTextarea(); // The semihidden textarea that is focused when the editor is\n    // focused, and receives input.\n\n    this.textarea = this.wrapper.firstChild;\n  };\n\n  TextareaInput.prototype.screenReaderLabelChanged = function (label) {\n    // Label for screenreaders, accessibility\n    if (label) {\n      this.textarea.setAttribute('aria-label', label);\n    } else {\n      this.textarea.removeAttribute('aria-label');\n    }\n  };\n\n  TextareaInput.prototype.prepareSelection = function () {\n    // Redraw the selection and/or cursor\n    var cm = this.cm,\n        display = cm.display,\n        doc = cm.doc;\n    var result = prepareSelection(cm); // Move the hidden textarea near the cursor to prevent scrolling artifacts\n\n    if (cm.options.moveInputWithCursor) {\n      var headPos = cursorCoords(cm, doc.sel.primary().head, \"div\");\n      var wrapOff = display.wrapper.getBoundingClientRect(),\n          lineOff = display.lineDiv.getBoundingClientRect();\n      result.teTop = Math.max(0, Math.min(display.wrapper.clientHeight - 10, headPos.top + lineOff.top - wrapOff.top));\n      result.teLeft = Math.max(0, Math.min(display.wrapper.clientWidth - 10, headPos.left + lineOff.left - wrapOff.left));\n    }\n\n    return result;\n  };\n\n  TextareaInput.prototype.showSelection = function (drawn) {\n    var cm = this.cm,\n        display = cm.display;\n    removeChildrenAndAdd(display.cursorDiv, drawn.cursors);\n    removeChildrenAndAdd(display.selectionDiv, drawn.selection);\n\n    if (drawn.teTop != null) {\n      this.wrapper.style.top = drawn.teTop + \"px\";\n      this.wrapper.style.left = drawn.teLeft + \"px\";\n    }\n  }; // Reset the input to correspond to the selection (or to be empty,\n  // when not typing and nothing is selected)\n\n\n  TextareaInput.prototype.reset = function (typing) {\n    if (this.contextMenuPending || this.composing) {\n      return;\n    }\n\n    var cm = this.cm;\n\n    if (cm.somethingSelected()) {\n      this.prevInput = \"\";\n      var content = cm.getSelection();\n      this.textarea.value = content;\n\n      if (cm.state.focused) {\n        selectInput(this.textarea);\n      }\n\n      if (ie && ie_version >= 9) {\n        this.hasSelection = content;\n      }\n    } else if (!typing) {\n      this.prevInput = this.textarea.value = \"\";\n\n      if (ie && ie_version >= 9) {\n        this.hasSelection = null;\n      }\n    }\n  };\n\n  TextareaInput.prototype.getField = function () {\n    return this.textarea;\n  };\n\n  TextareaInput.prototype.supportsTouch = function () {\n    return false;\n  };\n\n  TextareaInput.prototype.focus = function () {\n    if (this.cm.options.readOnly != \"nocursor\" && (!mobile || activeElt() != this.textarea)) {\n      try {\n        this.textarea.focus();\n      } catch (e) {} // IE8 will throw if the textarea is display: none or not in DOM\n\n    }\n  };\n\n  TextareaInput.prototype.blur = function () {\n    this.textarea.blur();\n  };\n\n  TextareaInput.prototype.resetPosition = function () {\n    this.wrapper.style.top = this.wrapper.style.left = 0;\n  };\n\n  TextareaInput.prototype.receivedFocus = function () {\n    this.slowPoll();\n  }; // Poll for input changes, using the normal rate of polling. This\n  // runs as long as the editor is focused.\n\n\n  TextareaInput.prototype.slowPoll = function () {\n    var this$1 = this;\n\n    if (this.pollingFast) {\n      return;\n    }\n\n    this.polling.set(this.cm.options.pollInterval, function () {\n      this$1.poll();\n\n      if (this$1.cm.state.focused) {\n        this$1.slowPoll();\n      }\n    });\n  }; // When an event has just come in that is likely to add or change\n  // something in the input textarea, we poll faster, to ensure that\n  // the change appears on the screen quickly.\n\n\n  TextareaInput.prototype.fastPoll = function () {\n    var missed = false,\n        input = this;\n    input.pollingFast = true;\n\n    function p() {\n      var changed = input.poll();\n\n      if (!changed && !missed) {\n        missed = true;\n        input.polling.set(60, p);\n      } else {\n        input.pollingFast = false;\n        input.slowPoll();\n      }\n    }\n\n    input.polling.set(20, p);\n  }; // Read input from the textarea, and update the document to match.\n  // When something is selected, it is present in the textarea, and\n  // selected (unless it is huge, in which case a placeholder is\n  // used). When nothing is selected, the cursor sits after previously\n  // seen text (can be empty), which is stored in prevInput (we must\n  // not reset the textarea when typing, because that breaks IME).\n\n\n  TextareaInput.prototype.poll = function () {\n    var this$1 = this;\n    var cm = this.cm,\n        input = this.textarea,\n        prevInput = this.prevInput; // Since this is called a *lot*, try to bail out as cheaply as\n    // possible when it is clear that nothing happened. hasSelection\n    // will be the case when there is a lot of text in the textarea,\n    // in which case reading its value would be expensive.\n\n    if (this.contextMenuPending || !cm.state.focused || hasSelection(input) && !prevInput && !this.composing || cm.isReadOnly() || cm.options.disableInput || cm.state.keySeq) {\n      return false;\n    }\n\n    var text = input.value; // If nothing changed, bail.\n\n    if (text == prevInput && !cm.somethingSelected()) {\n      return false;\n    } // Work around nonsensical selection resetting in IE9/10, and\n    // inexplicable appearance of private area unicode characters on\n    // some key combos in Mac (#2689).\n\n\n    if (ie && ie_version >= 9 && this.hasSelection === text || mac && /[\\uf700-\\uf7ff]/.test(text)) {\n      cm.display.input.reset();\n      return false;\n    }\n\n    if (cm.doc.sel == cm.display.selForContextMenu) {\n      var first = text.charCodeAt(0);\n\n      if (first == 0x200b && !prevInput) {\n        prevInput = \"\\u200b\";\n      }\n\n      if (first == 0x21da) {\n        this.reset();\n        return this.cm.execCommand(\"undo\");\n      }\n    } // Find the part of the input that is actually new\n\n\n    var same = 0,\n        l = Math.min(prevInput.length, text.length);\n\n    while (same < l && prevInput.charCodeAt(same) == text.charCodeAt(same)) {\n      ++same;\n    }\n\n    runInOp(cm, function () {\n      applyTextInput(cm, text.slice(same), prevInput.length - same, null, this$1.composing ? \"*compose\" : null); // Don't leave long text in the textarea, since it makes further polling slow\n\n      if (text.length > 1000 || text.indexOf(\"\\n\") > -1) {\n        input.value = this$1.prevInput = \"\";\n      } else {\n        this$1.prevInput = text;\n      }\n\n      if (this$1.composing) {\n        this$1.composing.range.clear();\n        this$1.composing.range = cm.markText(this$1.composing.start, cm.getCursor(\"to\"), {\n          className: \"CodeMirror-composing\"\n        });\n      }\n    });\n    return true;\n  };\n\n  TextareaInput.prototype.ensurePolled = function () {\n    if (this.pollingFast && this.poll()) {\n      this.pollingFast = false;\n    }\n  };\n\n  TextareaInput.prototype.onKeyPress = function () {\n    if (ie && ie_version >= 9) {\n      this.hasSelection = null;\n    }\n\n    this.fastPoll();\n  };\n\n  TextareaInput.prototype.onContextMenu = function (e) {\n    var input = this,\n        cm = input.cm,\n        display = cm.display,\n        te = input.textarea;\n\n    if (input.contextMenuPending) {\n      input.contextMenuPending();\n    }\n\n    var pos = posFromMouse(cm, e),\n        scrollPos = display.scroller.scrollTop;\n\n    if (!pos || presto) {\n      return;\n    } // Opera is difficult.\n    // Reset the current text selection only if the click is done outside of the selection\n    // and 'resetSelectionOnContextMenu' option is true.\n\n\n    var reset = cm.options.resetSelectionOnContextMenu;\n\n    if (reset && cm.doc.sel.contains(pos) == -1) {\n      operation(cm, setSelection)(cm.doc, simpleSelection(pos), sel_dontScroll);\n    }\n\n    var oldCSS = te.style.cssText,\n        oldWrapperCSS = input.wrapper.style.cssText;\n    var wrapperBox = input.wrapper.offsetParent.getBoundingClientRect();\n    input.wrapper.style.cssText = \"position: static\";\n    te.style.cssText = \"position: absolute; width: 30px; height: 30px;\\n      top: \" + (e.clientY - wrapperBox.top - 5) + \"px; left: \" + (e.clientX - wrapperBox.left - 5) + \"px;\\n      z-index: 1000; background: \" + (ie ? \"rgba(255, 255, 255, .05)\" : \"transparent\") + \";\\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);\";\n    var oldScrollY;\n\n    if (webkit) {\n      oldScrollY = window.scrollY;\n    } // Work around Chrome issue (#2712)\n\n\n    display.input.focus();\n\n    if (webkit) {\n      window.scrollTo(null, oldScrollY);\n    }\n\n    display.input.reset(); // Adds \"Select all\" to context menu in FF\n\n    if (!cm.somethingSelected()) {\n      te.value = input.prevInput = \" \";\n    }\n\n    input.contextMenuPending = rehide;\n    display.selForContextMenu = cm.doc.sel;\n    clearTimeout(display.detectingSelectAll); // Select-all will be greyed out if there's nothing to select, so\n    // this adds a zero-width space so that we can later check whether\n    // it got selected.\n\n    function prepareSelectAllHack() {\n      if (te.selectionStart != null) {\n        var selected = cm.somethingSelected();\n        var extval = \"\\u200b\" + (selected ? te.value : \"\");\n        te.value = \"\\u21da\"; // Used to catch context-menu undo\n\n        te.value = extval;\n        input.prevInput = selected ? \"\" : \"\\u200b\";\n        te.selectionStart = 1;\n        te.selectionEnd = extval.length; // Re-set this, in case some other handler touched the\n        // selection in the meantime.\n\n        display.selForContextMenu = cm.doc.sel;\n      }\n    }\n\n    function rehide() {\n      if (input.contextMenuPending != rehide) {\n        return;\n      }\n\n      input.contextMenuPending = false;\n      input.wrapper.style.cssText = oldWrapperCSS;\n      te.style.cssText = oldCSS;\n\n      if (ie && ie_version < 9) {\n        display.scrollbars.setScrollTop(display.scroller.scrollTop = scrollPos);\n      } // Try to detect the user choosing select-all\n\n\n      if (te.selectionStart != null) {\n        if (!ie || ie && ie_version < 9) {\n          prepareSelectAllHack();\n        }\n\n        var i = 0,\n            poll = function () {\n          if (display.selForContextMenu == cm.doc.sel && te.selectionStart == 0 && te.selectionEnd > 0 && input.prevInput == \"\\u200b\") {\n            operation(cm, selectAll)(cm);\n          } else if (i++ < 10) {\n            display.detectingSelectAll = setTimeout(poll, 500);\n          } else {\n            display.selForContextMenu = null;\n            display.input.reset();\n          }\n        };\n\n        display.detectingSelectAll = setTimeout(poll, 200);\n      }\n    }\n\n    if (ie && ie_version >= 9) {\n      prepareSelectAllHack();\n    }\n\n    if (captureRightClick) {\n      e_stop(e);\n\n      var mouseup = function () {\n        off(window, \"mouseup\", mouseup);\n        setTimeout(rehide, 20);\n      };\n\n      on(window, \"mouseup\", mouseup);\n    } else {\n      setTimeout(rehide, 50);\n    }\n  };\n\n  TextareaInput.prototype.readOnlyChanged = function (val) {\n    if (!val) {\n      this.reset();\n    }\n\n    this.textarea.disabled = val == \"nocursor\";\n  };\n\n  TextareaInput.prototype.setUneditable = function () {};\n\n  TextareaInput.prototype.needsContentAttribute = false;\n\n  function fromTextArea(textarea, options) {\n    options = options ? copyObj(options) : {};\n    options.value = textarea.value;\n\n    if (!options.tabindex && textarea.tabIndex) {\n      options.tabindex = textarea.tabIndex;\n    }\n\n    if (!options.placeholder && textarea.placeholder) {\n      options.placeholder = textarea.placeholder;\n    } // Set autofocus to true if this textarea is focused, or if it has\n    // autofocus and no other element is focused.\n\n\n    if (options.autofocus == null) {\n      var hasFocus = activeElt();\n      options.autofocus = hasFocus == textarea || textarea.getAttribute(\"autofocus\") != null && hasFocus == document.body;\n    }\n\n    function save() {\n      textarea.value = cm.getValue();\n    }\n\n    var realSubmit;\n\n    if (textarea.form) {\n      on(textarea.form, \"submit\", save); // Deplorable hack to make the submit method do the right thing.\n\n      if (!options.leaveSubmitMethodAlone) {\n        var form = textarea.form;\n        realSubmit = form.submit;\n\n        try {\n          var wrappedSubmit = form.submit = function () {\n            save();\n            form.submit = realSubmit;\n            form.submit();\n            form.submit = wrappedSubmit;\n          };\n        } catch (e) {}\n      }\n    }\n\n    options.finishInit = function (cm) {\n      cm.save = save;\n\n      cm.getTextArea = function () {\n        return textarea;\n      };\n\n      cm.toTextArea = function () {\n        cm.toTextArea = isNaN; // Prevent this from being ran twice\n\n        save();\n        textarea.parentNode.removeChild(cm.getWrapperElement());\n        textarea.style.display = \"\";\n\n        if (textarea.form) {\n          off(textarea.form, \"submit\", save);\n\n          if (!options.leaveSubmitMethodAlone && typeof textarea.form.submit == \"function\") {\n            textarea.form.submit = realSubmit;\n          }\n        }\n      };\n    };\n\n    textarea.style.display = \"none\";\n    var cm = CodeMirror(function (node) {\n      return textarea.parentNode.insertBefore(node, textarea.nextSibling);\n    }, options);\n    return cm;\n  }\n\n  function addLegacyProps(CodeMirror) {\n    CodeMirror.off = off;\n    CodeMirror.on = on;\n    CodeMirror.wheelEventPixels = wheelEventPixels;\n    CodeMirror.Doc = Doc;\n    CodeMirror.splitLines = splitLinesAuto;\n    CodeMirror.countColumn = countColumn;\n    CodeMirror.findColumn = findColumn;\n    CodeMirror.isWordChar = isWordCharBasic;\n    CodeMirror.Pass = Pass;\n    CodeMirror.signal = signal;\n    CodeMirror.Line = Line;\n    CodeMirror.changeEnd = changeEnd;\n    CodeMirror.scrollbarModel = scrollbarModel;\n    CodeMirror.Pos = Pos;\n    CodeMirror.cmpPos = cmp;\n    CodeMirror.modes = modes;\n    CodeMirror.mimeModes = mimeModes;\n    CodeMirror.resolveMode = resolveMode;\n    CodeMirror.getMode = getMode;\n    CodeMirror.modeExtensions = modeExtensions;\n    CodeMirror.extendMode = extendMode;\n    CodeMirror.copyState = copyState;\n    CodeMirror.startState = startState;\n    CodeMirror.innerMode = innerMode;\n    CodeMirror.commands = commands;\n    CodeMirror.keyMap = keyMap;\n    CodeMirror.keyName = keyName;\n    CodeMirror.isModifierKey = isModifierKey;\n    CodeMirror.lookupKey = lookupKey;\n    CodeMirror.normalizeKeyMap = normalizeKeyMap;\n    CodeMirror.StringStream = StringStream;\n    CodeMirror.SharedTextMarker = SharedTextMarker;\n    CodeMirror.TextMarker = TextMarker;\n    CodeMirror.LineWidget = LineWidget;\n    CodeMirror.e_preventDefault = e_preventDefault;\n    CodeMirror.e_stopPropagation = e_stopPropagation;\n    CodeMirror.e_stop = e_stop;\n    CodeMirror.addClass = addClass;\n    CodeMirror.contains = contains;\n    CodeMirror.rmClass = rmClass;\n    CodeMirror.keyNames = keyNames;\n  } // EDITOR CONSTRUCTOR\n\n\n  defineOptions(CodeMirror);\n  addEditorMethods(CodeMirror); // Set up methods on CodeMirror's prototype to redirect to the editor's document.\n\n  var dontDelegate = \"iter insert remove copy getEditor constructor\".split(\" \");\n\n  for (var prop in Doc.prototype) {\n    if (Doc.prototype.hasOwnProperty(prop) && indexOf(dontDelegate, prop) < 0) {\n      CodeMirror.prototype[prop] = function (method) {\n        return function () {\n          return method.apply(this.doc, arguments);\n        };\n      }(Doc.prototype[prop]);\n    }\n  }\n\n  eventMixin(Doc);\n  CodeMirror.inputStyles = {\n    \"textarea\": TextareaInput,\n    \"contenteditable\": ContentEditableInput\n  }; // Extra arguments are stored as the mode's dependencies, which is\n  // used by (legacy) mechanisms like loadmode.js to automatically\n  // load a mode. (Preferred mechanism is the require/define calls.)\n\n  CodeMirror.defineMode = function (name\n  /*, mode, */\n  ) {\n    if (!CodeMirror.defaults.mode && name != \"null\") {\n      CodeMirror.defaults.mode = name;\n    }\n\n    defineMode.apply(this, arguments);\n  };\n\n  CodeMirror.defineMIME = defineMIME; // Minimal default mode.\n\n  CodeMirror.defineMode(\"null\", function () {\n    return {\n      token: function (stream) {\n        return stream.skipToEnd();\n      }\n    };\n  });\n  CodeMirror.defineMIME(\"text/plain\", \"null\"); // EXTENSIONS\n\n  CodeMirror.defineExtension = function (name, func) {\n    CodeMirror.prototype[name] = func;\n  };\n\n  CodeMirror.defineDocExtension = function (name, func) {\n    Doc.prototype[name] = func;\n  };\n\n  CodeMirror.fromTextArea = fromTextArea;\n  addLegacyProps(CodeMirror);\n  CodeMirror.version = \"5.53.2\";\n  return CodeMirror;\n});\n\n/***/ }),\n\n/***/ \"./node_modules/codemirror/mode/markdown/markdown.js\":\n/*!***********************************************************!*\\\n  !*** ./node_modules/codemirror/mode/markdown/markdown.js ***!\n  \\***********************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n(function (mod) {\n  if (true) // CommonJS\n    mod(__webpack_require__(/*! ../../lib/codemirror */ \"./node_modules/codemirror/lib/codemirror.js\"), __webpack_require__(/*! ../xml/xml */ \"./node_modules/codemirror/mode/xml/xml.js\"), __webpack_require__(/*! ../meta */ \"./node_modules/codemirror/mode/meta.js\"));else {}\n})(function (CodeMirror) {\n  \"use strict\";\n\n  CodeMirror.defineMode(\"markdown\", function (cmCfg, modeCfg) {\n    var htmlMode = CodeMirror.getMode(cmCfg, \"text/html\");\n    var htmlModeMissing = htmlMode.name == \"null\";\n\n    function getMode(name) {\n      if (CodeMirror.findModeByName) {\n        var found = CodeMirror.findModeByName(name);\n        if (found) name = found.mime || found.mimes[0];\n      }\n\n      var mode = CodeMirror.getMode(cmCfg, name);\n      return mode.name == \"null\" ? null : mode;\n    } // Should characters that affect highlighting be highlighted separate?\n    // Does not include characters that will be output (such as `1.` and `-` for lists)\n\n\n    if (modeCfg.highlightFormatting === undefined) modeCfg.highlightFormatting = false; // Maximum number of nested blockquotes. Set to 0 for infinite nesting.\n    // Excess `>` will emit `error` token.\n\n    if (modeCfg.maxBlockquoteDepth === undefined) modeCfg.maxBlockquoteDepth = 0; // Turn on task lists? (\"- [ ] \" and \"- [x] \")\n\n    if (modeCfg.taskLists === undefined) modeCfg.taskLists = false; // Turn on strikethrough syntax\n\n    if (modeCfg.strikethrough === undefined) modeCfg.strikethrough = false;\n    if (modeCfg.emoji === undefined) modeCfg.emoji = false;\n    if (modeCfg.fencedCodeBlockHighlighting === undefined) modeCfg.fencedCodeBlockHighlighting = true;\n    if (modeCfg.xml === undefined) modeCfg.xml = true; // Allow token types to be overridden by user-provided token types.\n\n    if (modeCfg.tokenTypeOverrides === undefined) modeCfg.tokenTypeOverrides = {};\n    var tokenTypes = {\n      header: \"header\",\n      code: \"comment\",\n      quote: \"quote\",\n      list1: \"variable-2\",\n      list2: \"variable-3\",\n      list3: \"keyword\",\n      hr: \"hr\",\n      image: \"image\",\n      imageAltText: \"image-alt-text\",\n      imageMarker: \"image-marker\",\n      formatting: \"formatting\",\n      linkInline: \"link\",\n      linkEmail: \"link\",\n      linkText: \"link\",\n      linkHref: \"string\",\n      em: \"em\",\n      strong: \"strong\",\n      strikethrough: \"strikethrough\",\n      emoji: \"builtin\"\n    };\n\n    for (var tokenType in tokenTypes) {\n      if (tokenTypes.hasOwnProperty(tokenType) && modeCfg.tokenTypeOverrides[tokenType]) {\n        tokenTypes[tokenType] = modeCfg.tokenTypeOverrides[tokenType];\n      }\n    }\n\n    var hrRE = /^([*\\-_])(?:\\s*\\1){2,}\\s*$/,\n        listRE = /^(?:[*\\-+]|^[0-9]+([.)]))\\s+/,\n        taskListRE = /^\\[(x| )\\](?=\\s)/i // Must follow listRE\n    ,\n        atxHeaderRE = modeCfg.allowAtxHeaderWithoutSpace ? /^(#+)/ : /^(#+)(?: |$)/,\n        setextHeaderRE = /^ {0,3}(?:\\={1,}|-{2,})\\s*$/,\n        textRE = /^[^#!\\[\\]*_\\\\<>` \"'(~:]+/,\n        fencedCodeRE = /^(~~~+|```+)[ \\t]*([\\w+#-]*)[^\\n`]*$/,\n        linkDefRE = /^\\s*\\[[^\\]]+?\\]:.*$/ // naive link-definition\n    ,\n        punctuation = /[!\"#$%&'()*+,\\-.\\/:;<=>?@\\[\\\\\\]^_`{|}~\\xA1\\xA7\\xAB\\xB6\\xB7\\xBB\\xBF\\u037E\\u0387\\u055A-\\u055F\\u0589\\u058A\\u05BE\\u05C0\\u05C3\\u05C6\\u05F3\\u05F4\\u0609\\u060A\\u060C\\u060D\\u061B\\u061E\\u061F\\u066A-\\u066D\\u06D4\\u0700-\\u070D\\u07F7-\\u07F9\\u0830-\\u083E\\u085E\\u0964\\u0965\\u0970\\u0AF0\\u0DF4\\u0E4F\\u0E5A\\u0E5B\\u0F04-\\u0F12\\u0F14\\u0F3A-\\u0F3D\\u0F85\\u0FD0-\\u0FD4\\u0FD9\\u0FDA\\u104A-\\u104F\\u10FB\\u1360-\\u1368\\u1400\\u166D\\u166E\\u169B\\u169C\\u16EB-\\u16ED\\u1735\\u1736\\u17D4-\\u17D6\\u17D8-\\u17DA\\u1800-\\u180A\\u1944\\u1945\\u1A1E\\u1A1F\\u1AA0-\\u1AA6\\u1AA8-\\u1AAD\\u1B5A-\\u1B60\\u1BFC-\\u1BFF\\u1C3B-\\u1C3F\\u1C7E\\u1C7F\\u1CC0-\\u1CC7\\u1CD3\\u2010-\\u2027\\u2030-\\u2043\\u2045-\\u2051\\u2053-\\u205E\\u207D\\u207E\\u208D\\u208E\\u2308-\\u230B\\u2329\\u232A\\u2768-\\u2775\\u27C5\\u27C6\\u27E6-\\u27EF\\u2983-\\u2998\\u29D8-\\u29DB\\u29FC\\u29FD\\u2CF9-\\u2CFC\\u2CFE\\u2CFF\\u2D70\\u2E00-\\u2E2E\\u2E30-\\u2E42\\u3001-\\u3003\\u3008-\\u3011\\u3014-\\u301F\\u3030\\u303D\\u30A0\\u30FB\\uA4FE\\uA4FF\\uA60D-\\uA60F\\uA673\\uA67E\\uA6F2-\\uA6F7\\uA874-\\uA877\\uA8CE\\uA8CF\\uA8F8-\\uA8FA\\uA8FC\\uA92E\\uA92F\\uA95F\\uA9C1-\\uA9CD\\uA9DE\\uA9DF\\uAA5C-\\uAA5F\\uAADE\\uAADF\\uAAF0\\uAAF1\\uABEB\\uFD3E\\uFD3F\\uFE10-\\uFE19\\uFE30-\\uFE52\\uFE54-\\uFE61\\uFE63\\uFE68\\uFE6A\\uFE6B\\uFF01-\\uFF03\\uFF05-\\uFF0A\\uFF0C-\\uFF0F\\uFF1A\\uFF1B\\uFF1F\\uFF20\\uFF3B-\\uFF3D\\uFF3F\\uFF5B\\uFF5D\\uFF5F-\\uFF65]|\\uD800[\\uDD00-\\uDD02\\uDF9F\\uDFD0]|\\uD801\\uDD6F|\\uD802[\\uDC57\\uDD1F\\uDD3F\\uDE50-\\uDE58\\uDE7F\\uDEF0-\\uDEF6\\uDF39-\\uDF3F\\uDF99-\\uDF9C]|\\uD804[\\uDC47-\\uDC4D\\uDCBB\\uDCBC\\uDCBE-\\uDCC1\\uDD40-\\uDD43\\uDD74\\uDD75\\uDDC5-\\uDDC9\\uDDCD\\uDDDB\\uDDDD-\\uDDDF\\uDE38-\\uDE3D\\uDEA9]|\\uD805[\\uDCC6\\uDDC1-\\uDDD7\\uDE41-\\uDE43\\uDF3C-\\uDF3E]|\\uD809[\\uDC70-\\uDC74]|\\uD81A[\\uDE6E\\uDE6F\\uDEF5\\uDF37-\\uDF3B\\uDF44]|\\uD82F\\uDC9F|\\uD836[\\uDE87-\\uDE8B]/,\n        expandedTab = \"    \"; // CommonMark specifies tab as 4 spaces\n\n    function switchInline(stream, state, f) {\n      state.f = state.inline = f;\n      return f(stream, state);\n    }\n\n    function switchBlock(stream, state, f) {\n      state.f = state.block = f;\n      return f(stream, state);\n    }\n\n    function lineIsEmpty(line) {\n      return !line || !/\\S/.test(line.string);\n    } // Blocks\n\n\n    function blankLine(state) {\n      // Reset linkTitle state\n      state.linkTitle = false;\n      state.linkHref = false;\n      state.linkText = false; // Reset EM state\n\n      state.em = false; // Reset STRONG state\n\n      state.strong = false; // Reset strikethrough state\n\n      state.strikethrough = false; // Reset state.quote\n\n      state.quote = 0; // Reset state.indentedCode\n\n      state.indentedCode = false;\n\n      if (state.f == htmlBlock) {\n        var exit = htmlModeMissing;\n\n        if (!exit) {\n          var inner = CodeMirror.innerMode(htmlMode, state.htmlState);\n          exit = inner.mode.name == \"xml\" && inner.state.tagStart === null && !inner.state.context && inner.state.tokenize.isInText;\n        }\n\n        if (exit) {\n          state.f = inlineNormal;\n          state.block = blockNormal;\n          state.htmlState = null;\n        }\n      } // Reset state.trailingSpace\n\n\n      state.trailingSpace = 0;\n      state.trailingSpaceNewLine = false; // Mark this line as blank\n\n      state.prevLine = state.thisLine;\n      state.thisLine = {\n        stream: null\n      };\n      return null;\n    }\n\n    function blockNormal(stream, state) {\n      var firstTokenOnLine = stream.column() === state.indentation;\n      var prevLineLineIsEmpty = lineIsEmpty(state.prevLine.stream);\n      var prevLineIsIndentedCode = state.indentedCode;\n      var prevLineIsHr = state.prevLine.hr;\n      var prevLineIsList = state.list !== false;\n      var maxNonCodeIndentation = (state.listStack[state.listStack.length - 1] || 0) + 3;\n      state.indentedCode = false;\n      var lineIndentation = state.indentation; // compute once per line (on first token)\n\n      if (state.indentationDiff === null) {\n        state.indentationDiff = state.indentation;\n\n        if (prevLineIsList) {\n          state.list = null; // While this list item's marker's indentation is less than the deepest\n          //  list item's content's indentation,pop the deepest list item\n          //  indentation off the stack, and update block indentation state\n\n          while (lineIndentation < state.listStack[state.listStack.length - 1]) {\n            state.listStack.pop();\n\n            if (state.listStack.length) {\n              state.indentation = state.listStack[state.listStack.length - 1]; // less than the first list's indent -> the line is no longer a list\n            } else {\n              state.list = false;\n            }\n          }\n\n          if (state.list !== false) {\n            state.indentationDiff = lineIndentation - state.listStack[state.listStack.length - 1];\n          }\n        }\n      } // not comprehensive (currently only for setext detection purposes)\n\n\n      var allowsInlineContinuation = !prevLineLineIsEmpty && !prevLineIsHr && !state.prevLine.header && (!prevLineIsList || !prevLineIsIndentedCode) && !state.prevLine.fencedCodeEnd;\n      var isHr = (state.list === false || prevLineIsHr || prevLineLineIsEmpty) && state.indentation <= maxNonCodeIndentation && stream.match(hrRE);\n      var match = null;\n\n      if (state.indentationDiff >= 4 && (prevLineIsIndentedCode || state.prevLine.fencedCodeEnd || state.prevLine.header || prevLineLineIsEmpty)) {\n        stream.skipToEnd();\n        state.indentedCode = true;\n        return tokenTypes.code;\n      } else if (stream.eatSpace()) {\n        return null;\n      } else if (firstTokenOnLine && state.indentation <= maxNonCodeIndentation && (match = stream.match(atxHeaderRE)) && match[1].length <= 6) {\n        state.quote = 0;\n        state.header = match[1].length;\n        state.thisLine.header = true;\n        if (modeCfg.highlightFormatting) state.formatting = \"header\";\n        state.f = state.inline;\n        return getType(state);\n      } else if (state.indentation <= maxNonCodeIndentation && stream.eat('>')) {\n        state.quote = firstTokenOnLine ? 1 : state.quote + 1;\n        if (modeCfg.highlightFormatting) state.formatting = \"quote\";\n        stream.eatSpace();\n        return getType(state);\n      } else if (!isHr && !state.setext && firstTokenOnLine && state.indentation <= maxNonCodeIndentation && (match = stream.match(listRE))) {\n        var listType = match[1] ? \"ol\" : \"ul\";\n        state.indentation = lineIndentation + stream.current().length;\n        state.list = true;\n        state.quote = 0; // Add this list item's content's indentation to the stack\n\n        state.listStack.push(state.indentation); // Reset inline styles which shouldn't propagate aross list items\n\n        state.em = false;\n        state.strong = false;\n        state.code = false;\n        state.strikethrough = false;\n\n        if (modeCfg.taskLists && stream.match(taskListRE, false)) {\n          state.taskList = true;\n        }\n\n        state.f = state.inline;\n        if (modeCfg.highlightFormatting) state.formatting = [\"list\", \"list-\" + listType];\n        return getType(state);\n      } else if (firstTokenOnLine && state.indentation <= maxNonCodeIndentation && (match = stream.match(fencedCodeRE, true))) {\n        state.quote = 0;\n        state.fencedEndRE = new RegExp(match[1] + \"+ *$\"); // try switching mode\n\n        state.localMode = modeCfg.fencedCodeBlockHighlighting && getMode(match[2]);\n        if (state.localMode) state.localState = CodeMirror.startState(state.localMode);\n        state.f = state.block = local;\n        if (modeCfg.highlightFormatting) state.formatting = \"code-block\";\n        state.code = -1;\n        return getType(state); // SETEXT has lowest block-scope precedence after HR, so check it after\n        //  the others (code, blockquote, list...)\n      } else if ( // if setext set, indicates line after ---/===\n      state.setext || // line before ---/===\n      (!allowsInlineContinuation || !prevLineIsList) && !state.quote && state.list === false && !state.code && !isHr && !linkDefRE.test(stream.string) && (match = stream.lookAhead(1)) && (match = match.match(setextHeaderRE))) {\n        if (!state.setext) {\n          state.header = match[0].charAt(0) == '=' ? 1 : 2;\n          state.setext = state.header;\n        } else {\n          state.header = state.setext; // has no effect on type so we can reset it now\n\n          state.setext = 0;\n          stream.skipToEnd();\n          if (modeCfg.highlightFormatting) state.formatting = \"header\";\n        }\n\n        state.thisLine.header = true;\n        state.f = state.inline;\n        return getType(state);\n      } else if (isHr) {\n        stream.skipToEnd();\n        state.hr = true;\n        state.thisLine.hr = true;\n        return tokenTypes.hr;\n      } else if (stream.peek() === '[') {\n        return switchInline(stream, state, footnoteLink);\n      }\n\n      return switchInline(stream, state, state.inline);\n    }\n\n    function htmlBlock(stream, state) {\n      var style = htmlMode.token(stream, state.htmlState);\n\n      if (!htmlModeMissing) {\n        var inner = CodeMirror.innerMode(htmlMode, state.htmlState);\n\n        if (inner.mode.name == \"xml\" && inner.state.tagStart === null && !inner.state.context && inner.state.tokenize.isInText || state.md_inside && stream.current().indexOf(\">\") > -1) {\n          state.f = inlineNormal;\n          state.block = blockNormal;\n          state.htmlState = null;\n        }\n      }\n\n      return style;\n    }\n\n    function local(stream, state) {\n      var currListInd = state.listStack[state.listStack.length - 1] || 0;\n      var hasExitedList = state.indentation < currListInd;\n      var maxFencedEndInd = currListInd + 3;\n\n      if (state.fencedEndRE && state.indentation <= maxFencedEndInd && (hasExitedList || stream.match(state.fencedEndRE))) {\n        if (modeCfg.highlightFormatting) state.formatting = \"code-block\";\n        var returnType;\n        if (!hasExitedList) returnType = getType(state);\n        state.localMode = state.localState = null;\n        state.block = blockNormal;\n        state.f = inlineNormal;\n        state.fencedEndRE = null;\n        state.code = 0;\n        state.thisLine.fencedCodeEnd = true;\n        if (hasExitedList) return switchBlock(stream, state, state.block);\n        return returnType;\n      } else if (state.localMode) {\n        return state.localMode.token(stream, state.localState);\n      } else {\n        stream.skipToEnd();\n        return tokenTypes.code;\n      }\n    } // Inline\n\n\n    function getType(state) {\n      var styles = [];\n\n      if (state.formatting) {\n        styles.push(tokenTypes.formatting);\n        if (typeof state.formatting === \"string\") state.formatting = [state.formatting];\n\n        for (var i = 0; i < state.formatting.length; i++) {\n          styles.push(tokenTypes.formatting + \"-\" + state.formatting[i]);\n\n          if (state.formatting[i] === \"header\") {\n            styles.push(tokenTypes.formatting + \"-\" + state.formatting[i] + \"-\" + state.header);\n          } // Add `formatting-quote` and `formatting-quote-#` for blockquotes\n          // Add `error` instead if the maximum blockquote nesting depth is passed\n\n\n          if (state.formatting[i] === \"quote\") {\n            if (!modeCfg.maxBlockquoteDepth || modeCfg.maxBlockquoteDepth >= state.quote) {\n              styles.push(tokenTypes.formatting + \"-\" + state.formatting[i] + \"-\" + state.quote);\n            } else {\n              styles.push(\"error\");\n            }\n          }\n        }\n      }\n\n      if (state.taskOpen) {\n        styles.push(\"meta\");\n        return styles.length ? styles.join(' ') : null;\n      }\n\n      if (state.taskClosed) {\n        styles.push(\"property\");\n        return styles.length ? styles.join(' ') : null;\n      }\n\n      if (state.linkHref) {\n        styles.push(tokenTypes.linkHref, \"url\");\n      } else {\n        // Only apply inline styles to non-url text\n        if (state.strong) {\n          styles.push(tokenTypes.strong);\n        }\n\n        if (state.em) {\n          styles.push(tokenTypes.em);\n        }\n\n        if (state.strikethrough) {\n          styles.push(tokenTypes.strikethrough);\n        }\n\n        if (state.emoji) {\n          styles.push(tokenTypes.emoji);\n        }\n\n        if (state.linkText) {\n          styles.push(tokenTypes.linkText);\n        }\n\n        if (state.code) {\n          styles.push(tokenTypes.code);\n        }\n\n        if (state.image) {\n          styles.push(tokenTypes.image);\n        }\n\n        if (state.imageAltText) {\n          styles.push(tokenTypes.imageAltText, \"link\");\n        }\n\n        if (state.imageMarker) {\n          styles.push(tokenTypes.imageMarker);\n        }\n      }\n\n      if (state.header) {\n        styles.push(tokenTypes.header, tokenTypes.header + \"-\" + state.header);\n      }\n\n      if (state.quote) {\n        styles.push(tokenTypes.quote); // Add `quote-#` where the maximum for `#` is modeCfg.maxBlockquoteDepth\n\n        if (!modeCfg.maxBlockquoteDepth || modeCfg.maxBlockquoteDepth >= state.quote) {\n          styles.push(tokenTypes.quote + \"-\" + state.quote);\n        } else {\n          styles.push(tokenTypes.quote + \"-\" + modeCfg.maxBlockquoteDepth);\n        }\n      }\n\n      if (state.list !== false) {\n        var listMod = (state.listStack.length - 1) % 3;\n\n        if (!listMod) {\n          styles.push(tokenTypes.list1);\n        } else if (listMod === 1) {\n          styles.push(tokenTypes.list2);\n        } else {\n          styles.push(tokenTypes.list3);\n        }\n      }\n\n      if (state.trailingSpaceNewLine) {\n        styles.push(\"trailing-space-new-line\");\n      } else if (state.trailingSpace) {\n        styles.push(\"trailing-space-\" + (state.trailingSpace % 2 ? \"a\" : \"b\"));\n      }\n\n      return styles.length ? styles.join(' ') : null;\n    }\n\n    function handleText(stream, state) {\n      if (stream.match(textRE, true)) {\n        return getType(state);\n      }\n\n      return undefined;\n    }\n\n    function inlineNormal(stream, state) {\n      var style = state.text(stream, state);\n      if (typeof style !== 'undefined') return style;\n\n      if (state.list) {\n        // List marker (*, +, -, 1., etc)\n        state.list = null;\n        return getType(state);\n      }\n\n      if (state.taskList) {\n        var taskOpen = stream.match(taskListRE, true)[1] === \" \";\n        if (taskOpen) state.taskOpen = true;else state.taskClosed = true;\n        if (modeCfg.highlightFormatting) state.formatting = \"task\";\n        state.taskList = false;\n        return getType(state);\n      }\n\n      state.taskOpen = false;\n      state.taskClosed = false;\n\n      if (state.header && stream.match(/^#+$/, true)) {\n        if (modeCfg.highlightFormatting) state.formatting = \"header\";\n        return getType(state);\n      }\n\n      var ch = stream.next(); // Matches link titles present on next line\n\n      if (state.linkTitle) {\n        state.linkTitle = false;\n        var matchCh = ch;\n\n        if (ch === '(') {\n          matchCh = ')';\n        }\n\n        matchCh = (matchCh + '').replace(/([.?*+^\\[\\]\\\\(){}|-])/g, \"\\\\$1\");\n        var regex = '^\\\\s*(?:[^' + matchCh + '\\\\\\\\]+|\\\\\\\\\\\\\\\\|\\\\\\\\.)' + matchCh;\n\n        if (stream.match(new RegExp(regex), true)) {\n          return tokenTypes.linkHref;\n        }\n      } // If this block is changed, it may need to be updated in GFM mode\n\n\n      if (ch === '`') {\n        var previousFormatting = state.formatting;\n        if (modeCfg.highlightFormatting) state.formatting = \"code\";\n        stream.eatWhile('`');\n        var count = stream.current().length;\n\n        if (state.code == 0 && (!state.quote || count == 1)) {\n          state.code = count;\n          return getType(state);\n        } else if (count == state.code) {\n          // Must be exact\n          var t = getType(state);\n          state.code = 0;\n          return t;\n        } else {\n          state.formatting = previousFormatting;\n          return getType(state);\n        }\n      } else if (state.code) {\n        return getType(state);\n      }\n\n      if (ch === '\\\\') {\n        stream.next();\n\n        if (modeCfg.highlightFormatting) {\n          var type = getType(state);\n          var formattingEscape = tokenTypes.formatting + \"-escape\";\n          return type ? type + \" \" + formattingEscape : formattingEscape;\n        }\n      }\n\n      if (ch === '!' && stream.match(/\\[[^\\]]*\\] ?(?:\\(|\\[)/, false)) {\n        state.imageMarker = true;\n        state.image = true;\n        if (modeCfg.highlightFormatting) state.formatting = \"image\";\n        return getType(state);\n      }\n\n      if (ch === '[' && state.imageMarker && stream.match(/[^\\]]*\\](\\(.*?\\)| ?\\[.*?\\])/, false)) {\n        state.imageMarker = false;\n        state.imageAltText = true;\n        if (modeCfg.highlightFormatting) state.formatting = \"image\";\n        return getType(state);\n      }\n\n      if (ch === ']' && state.imageAltText) {\n        if (modeCfg.highlightFormatting) state.formatting = \"image\";\n        var type = getType(state);\n        state.imageAltText = false;\n        state.image = false;\n        state.inline = state.f = linkHref;\n        return type;\n      }\n\n      if (ch === '[' && !state.image) {\n        if (state.linkText && stream.match(/^.*?\\]/)) return getType(state);\n        state.linkText = true;\n        if (modeCfg.highlightFormatting) state.formatting = \"link\";\n        return getType(state);\n      }\n\n      if (ch === ']' && state.linkText) {\n        if (modeCfg.highlightFormatting) state.formatting = \"link\";\n        var type = getType(state);\n        state.linkText = false;\n        state.inline = state.f = stream.match(/\\(.*?\\)| ?\\[.*?\\]/, false) ? linkHref : inlineNormal;\n        return type;\n      }\n\n      if (ch === '<' && stream.match(/^(https?|ftps?):\\/\\/(?:[^\\\\>]|\\\\.)+>/, false)) {\n        state.f = state.inline = linkInline;\n        if (modeCfg.highlightFormatting) state.formatting = \"link\";\n        var type = getType(state);\n\n        if (type) {\n          type += \" \";\n        } else {\n          type = \"\";\n        }\n\n        return type + tokenTypes.linkInline;\n      }\n\n      if (ch === '<' && stream.match(/^[^> \\\\]+@(?:[^\\\\>]|\\\\.)+>/, false)) {\n        state.f = state.inline = linkInline;\n        if (modeCfg.highlightFormatting) state.formatting = \"link\";\n        var type = getType(state);\n\n        if (type) {\n          type += \" \";\n        } else {\n          type = \"\";\n        }\n\n        return type + tokenTypes.linkEmail;\n      }\n\n      if (modeCfg.xml && ch === '<' && stream.match(/^(!--|\\?|!\\[CDATA\\[|[a-z][a-z0-9-]*(?:\\s+[a-z_:.\\-]+(?:\\s*=\\s*[^>]+)?)*\\s*(?:>|$))/i, false)) {\n        var end = stream.string.indexOf(\">\", stream.pos);\n\n        if (end != -1) {\n          var atts = stream.string.substring(stream.start, end);\n          if (/markdown\\s*=\\s*('|\"){0,1}1('|\"){0,1}/.test(atts)) state.md_inside = true;\n        }\n\n        stream.backUp(1);\n        state.htmlState = CodeMirror.startState(htmlMode);\n        return switchBlock(stream, state, htmlBlock);\n      }\n\n      if (modeCfg.xml && ch === '<' && stream.match(/^\\/\\w*?>/)) {\n        state.md_inside = false;\n        return \"tag\";\n      } else if (ch === \"*\" || ch === \"_\") {\n        var len = 1,\n            before = stream.pos == 1 ? \" \" : stream.string.charAt(stream.pos - 2);\n\n        while (len < 3 && stream.eat(ch)) len++;\n\n        var after = stream.peek() || \" \"; // See http://spec.commonmark.org/0.27/#emphasis-and-strong-emphasis\n\n        var leftFlanking = !/\\s/.test(after) && (!punctuation.test(after) || /\\s/.test(before) || punctuation.test(before));\n        var rightFlanking = !/\\s/.test(before) && (!punctuation.test(before) || /\\s/.test(after) || punctuation.test(after));\n        var setEm = null,\n            setStrong = null;\n\n        if (len % 2) {\n          // Em\n          if (!state.em && leftFlanking && (ch === \"*\" || !rightFlanking || punctuation.test(before))) setEm = true;else if (state.em == ch && rightFlanking && (ch === \"*\" || !leftFlanking || punctuation.test(after))) setEm = false;\n        }\n\n        if (len > 1) {\n          // Strong\n          if (!state.strong && leftFlanking && (ch === \"*\" || !rightFlanking || punctuation.test(before))) setStrong = true;else if (state.strong == ch && rightFlanking && (ch === \"*\" || !leftFlanking || punctuation.test(after))) setStrong = false;\n        }\n\n        if (setStrong != null || setEm != null) {\n          if (modeCfg.highlightFormatting) state.formatting = setEm == null ? \"strong\" : setStrong == null ? \"em\" : \"strong em\";\n          if (setEm === true) state.em = ch;\n          if (setStrong === true) state.strong = ch;\n          var t = getType(state);\n          if (setEm === false) state.em = false;\n          if (setStrong === false) state.strong = false;\n          return t;\n        }\n      } else if (ch === ' ') {\n        if (stream.eat('*') || stream.eat('_')) {\n          // Probably surrounded by spaces\n          if (stream.peek() === ' ') {\n            // Surrounded by spaces, ignore\n            return getType(state);\n          } else {\n            // Not surrounded by spaces, back up pointer\n            stream.backUp(1);\n          }\n        }\n      }\n\n      if (modeCfg.strikethrough) {\n        if (ch === '~' && stream.eatWhile(ch)) {\n          if (state.strikethrough) {\n            // Remove strikethrough\n            if (modeCfg.highlightFormatting) state.formatting = \"strikethrough\";\n            var t = getType(state);\n            state.strikethrough = false;\n            return t;\n          } else if (stream.match(/^[^\\s]/, false)) {\n            // Add strikethrough\n            state.strikethrough = true;\n            if (modeCfg.highlightFormatting) state.formatting = \"strikethrough\";\n            return getType(state);\n          }\n        } else if (ch === ' ') {\n          if (stream.match(/^~~/, true)) {\n            // Probably surrounded by space\n            if (stream.peek() === ' ') {\n              // Surrounded by spaces, ignore\n              return getType(state);\n            } else {\n              // Not surrounded by spaces, back up pointer\n              stream.backUp(2);\n            }\n          }\n        }\n      }\n\n      if (modeCfg.emoji && ch === \":\" && stream.match(/^(?:[a-z_\\d+][a-z_\\d+-]*|\\-[a-z_\\d+][a-z_\\d+-]*):/)) {\n        state.emoji = true;\n        if (modeCfg.highlightFormatting) state.formatting = \"emoji\";\n        var retType = getType(state);\n        state.emoji = false;\n        return retType;\n      }\n\n      if (ch === ' ') {\n        if (stream.match(/^ +$/, false)) {\n          state.trailingSpace++;\n        } else if (state.trailingSpace) {\n          state.trailingSpaceNewLine = true;\n        }\n      }\n\n      return getType(state);\n    }\n\n    function linkInline(stream, state) {\n      var ch = stream.next();\n\n      if (ch === \">\") {\n        state.f = state.inline = inlineNormal;\n        if (modeCfg.highlightFormatting) state.formatting = \"link\";\n        var type = getType(state);\n\n        if (type) {\n          type += \" \";\n        } else {\n          type = \"\";\n        }\n\n        return type + tokenTypes.linkInline;\n      }\n\n      stream.match(/^[^>]+/, true);\n      return tokenTypes.linkInline;\n    }\n\n    function linkHref(stream, state) {\n      // Check if space, and return NULL if so (to avoid marking the space)\n      if (stream.eatSpace()) {\n        return null;\n      }\n\n      var ch = stream.next();\n\n      if (ch === '(' || ch === '[') {\n        state.f = state.inline = getLinkHrefInside(ch === \"(\" ? \")\" : \"]\");\n        if (modeCfg.highlightFormatting) state.formatting = \"link-string\";\n        state.linkHref = true;\n        return getType(state);\n      }\n\n      return 'error';\n    }\n\n    var linkRE = {\n      \")\": /^(?:[^\\\\\\(\\)]|\\\\.|\\((?:[^\\\\\\(\\)]|\\\\.)*\\))*?(?=\\))/,\n      \"]\": /^(?:[^\\\\\\[\\]]|\\\\.|\\[(?:[^\\\\\\[\\]]|\\\\.)*\\])*?(?=\\])/\n    };\n\n    function getLinkHrefInside(endChar) {\n      return function (stream, state) {\n        var ch = stream.next();\n\n        if (ch === endChar) {\n          state.f = state.inline = inlineNormal;\n          if (modeCfg.highlightFormatting) state.formatting = \"link-string\";\n          var returnState = getType(state);\n          state.linkHref = false;\n          return returnState;\n        }\n\n        stream.match(linkRE[endChar]);\n        state.linkHref = true;\n        return getType(state);\n      };\n    }\n\n    function footnoteLink(stream, state) {\n      if (stream.match(/^([^\\]\\\\]|\\\\.)*\\]:/, false)) {\n        state.f = footnoteLinkInside;\n        stream.next(); // Consume [\n\n        if (modeCfg.highlightFormatting) state.formatting = \"link\";\n        state.linkText = true;\n        return getType(state);\n      }\n\n      return switchInline(stream, state, inlineNormal);\n    }\n\n    function footnoteLinkInside(stream, state) {\n      if (stream.match(/^\\]:/, true)) {\n        state.f = state.inline = footnoteUrl;\n        if (modeCfg.highlightFormatting) state.formatting = \"link\";\n        var returnType = getType(state);\n        state.linkText = false;\n        return returnType;\n      }\n\n      stream.match(/^([^\\]\\\\]|\\\\.)+/, true);\n      return tokenTypes.linkText;\n    }\n\n    function footnoteUrl(stream, state) {\n      // Check if space, and return NULL if so (to avoid marking the space)\n      if (stream.eatSpace()) {\n        return null;\n      } // Match URL\n\n\n      stream.match(/^[^\\s]+/, true); // Check for link title\n\n      if (stream.peek() === undefined) {\n        // End of line, set flag to check next line\n        state.linkTitle = true;\n      } else {\n        // More content on line, check if link title\n        stream.match(/^(?:\\s+(?:\"(?:[^\"\\\\]|\\\\\\\\|\\\\.)+\"|'(?:[^'\\\\]|\\\\\\\\|\\\\.)+'|\\((?:[^)\\\\]|\\\\\\\\|\\\\.)+\\)))?/, true);\n      }\n\n      state.f = state.inline = inlineNormal;\n      return tokenTypes.linkHref + \" url\";\n    }\n\n    var mode = {\n      startState: function () {\n        return {\n          f: blockNormal,\n          prevLine: {\n            stream: null\n          },\n          thisLine: {\n            stream: null\n          },\n          block: blockNormal,\n          htmlState: null,\n          indentation: 0,\n          inline: inlineNormal,\n          text: handleText,\n          formatting: false,\n          linkText: false,\n          linkHref: false,\n          linkTitle: false,\n          code: 0,\n          em: false,\n          strong: false,\n          header: 0,\n          setext: 0,\n          hr: false,\n          taskList: false,\n          list: false,\n          listStack: [],\n          quote: 0,\n          trailingSpace: 0,\n          trailingSpaceNewLine: false,\n          strikethrough: false,\n          emoji: false,\n          fencedEndRE: null\n        };\n      },\n      copyState: function (s) {\n        return {\n          f: s.f,\n          prevLine: s.prevLine,\n          thisLine: s.thisLine,\n          block: s.block,\n          htmlState: s.htmlState && CodeMirror.copyState(htmlMode, s.htmlState),\n          indentation: s.indentation,\n          localMode: s.localMode,\n          localState: s.localMode ? CodeMirror.copyState(s.localMode, s.localState) : null,\n          inline: s.inline,\n          text: s.text,\n          formatting: false,\n          linkText: s.linkText,\n          linkTitle: s.linkTitle,\n          linkHref: s.linkHref,\n          code: s.code,\n          em: s.em,\n          strong: s.strong,\n          strikethrough: s.strikethrough,\n          emoji: s.emoji,\n          header: s.header,\n          setext: s.setext,\n          hr: s.hr,\n          taskList: s.taskList,\n          list: s.list,\n          listStack: s.listStack.slice(0),\n          quote: s.quote,\n          indentedCode: s.indentedCode,\n          trailingSpace: s.trailingSpace,\n          trailingSpaceNewLine: s.trailingSpaceNewLine,\n          md_inside: s.md_inside,\n          fencedEndRE: s.fencedEndRE\n        };\n      },\n      token: function (stream, state) {\n        // Reset state.formatting\n        state.formatting = false;\n\n        if (stream != state.thisLine.stream) {\n          state.header = 0;\n          state.hr = false;\n\n          if (stream.match(/^\\s*$/, true)) {\n            blankLine(state);\n            return null;\n          }\n\n          state.prevLine = state.thisLine;\n          state.thisLine = {\n            stream: stream\n          }; // Reset state.taskList\n\n          state.taskList = false; // Reset state.trailingSpace\n\n          state.trailingSpace = 0;\n          state.trailingSpaceNewLine = false;\n\n          if (!state.localState) {\n            state.f = state.block;\n\n            if (state.f != htmlBlock) {\n              var indentation = stream.match(/^\\s*/, true)[0].replace(/\\t/g, expandedTab).length;\n              state.indentation = indentation;\n              state.indentationDiff = null;\n              if (indentation > 0) return null;\n            }\n          }\n        }\n\n        return state.f(stream, state);\n      },\n      innerMode: function (state) {\n        if (state.block == htmlBlock) return {\n          state: state.htmlState,\n          mode: htmlMode\n        };\n        if (state.localState) return {\n          state: state.localState,\n          mode: state.localMode\n        };\n        return {\n          state: state,\n          mode: mode\n        };\n      },\n      indent: function (state, textAfter, line) {\n        if (state.block == htmlBlock && htmlMode.indent) return htmlMode.indent(state.htmlState, textAfter, line);\n        if (state.localState && state.localMode.indent) return state.localMode.indent(state.localState, textAfter, line);\n        return CodeMirror.Pass;\n      },\n      blankLine: blankLine,\n      getType: getType,\n      blockCommentStart: \"<!--\",\n      blockCommentEnd: \"-->\",\n      closeBrackets: \"()[]{}''\\\"\\\"``\",\n      fold: \"markdown\"\n    };\n    return mode;\n  }, \"xml\");\n  CodeMirror.defineMIME(\"text/markdown\", \"markdown\");\n  CodeMirror.defineMIME(\"text/x-markdown\", \"markdown\");\n});\n\n/***/ }),\n\n/***/ \"./node_modules/codemirror/mode/meta.js\":\n/*!**********************************************!*\\\n  !*** ./node_modules/codemirror/mode/meta.js ***!\n  \\**********************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n(function (mod) {\n  if (true) // CommonJS\n    mod(__webpack_require__(/*! ../lib/codemirror */ \"./node_modules/codemirror/lib/codemirror.js\"));else {}\n})(function (CodeMirror) {\n  \"use strict\";\n\n  CodeMirror.modeInfo = [{\n    name: \"APL\",\n    mime: \"text/apl\",\n    mode: \"apl\",\n    ext: [\"dyalog\", \"apl\"]\n  }, {\n    name: \"PGP\",\n    mimes: [\"application/pgp\", \"application/pgp-encrypted\", \"application/pgp-keys\", \"application/pgp-signature\"],\n    mode: \"asciiarmor\",\n    ext: [\"asc\", \"pgp\", \"sig\"]\n  }, {\n    name: \"ASN.1\",\n    mime: \"text/x-ttcn-asn\",\n    mode: \"asn.1\",\n    ext: [\"asn\", \"asn1\"]\n  }, {\n    name: \"Asterisk\",\n    mime: \"text/x-asterisk\",\n    mode: \"asterisk\",\n    file: /^extensions\\.conf$/i\n  }, {\n    name: \"Brainfuck\",\n    mime: \"text/x-brainfuck\",\n    mode: \"brainfuck\",\n    ext: [\"b\", \"bf\"]\n  }, {\n    name: \"C\",\n    mime: \"text/x-csrc\",\n    mode: \"clike\",\n    ext: [\"c\", \"h\", \"ino\"]\n  }, {\n    name: \"C++\",\n    mime: \"text/x-c++src\",\n    mode: \"clike\",\n    ext: [\"cpp\", \"c++\", \"cc\", \"cxx\", \"hpp\", \"h++\", \"hh\", \"hxx\"],\n    alias: [\"cpp\"]\n  }, {\n    name: \"Cobol\",\n    mime: \"text/x-cobol\",\n    mode: \"cobol\",\n    ext: [\"cob\", \"cpy\"]\n  }, {\n    name: \"C#\",\n    mime: \"text/x-csharp\",\n    mode: \"clike\",\n    ext: [\"cs\"],\n    alias: [\"csharp\", \"cs\"]\n  }, {\n    name: \"Clojure\",\n    mime: \"text/x-clojure\",\n    mode: \"clojure\",\n    ext: [\"clj\", \"cljc\", \"cljx\"]\n  }, {\n    name: \"ClojureScript\",\n    mime: \"text/x-clojurescript\",\n    mode: \"clojure\",\n    ext: [\"cljs\"]\n  }, {\n    name: \"Closure Stylesheets (GSS)\",\n    mime: \"text/x-gss\",\n    mode: \"css\",\n    ext: [\"gss\"]\n  }, {\n    name: \"CMake\",\n    mime: \"text/x-cmake\",\n    mode: \"cmake\",\n    ext: [\"cmake\", \"cmake.in\"],\n    file: /^CMakeLists.txt$/\n  }, {\n    name: \"CoffeeScript\",\n    mimes: [\"application/vnd.coffeescript\", \"text/coffeescript\", \"text/x-coffeescript\"],\n    mode: \"coffeescript\",\n    ext: [\"coffee\"],\n    alias: [\"coffee\", \"coffee-script\"]\n  }, {\n    name: \"Common Lisp\",\n    mime: \"text/x-common-lisp\",\n    mode: \"commonlisp\",\n    ext: [\"cl\", \"lisp\", \"el\"],\n    alias: [\"lisp\"]\n  }, {\n    name: \"Cypher\",\n    mime: \"application/x-cypher-query\",\n    mode: \"cypher\",\n    ext: [\"cyp\", \"cypher\"]\n  }, {\n    name: \"Cython\",\n    mime: \"text/x-cython\",\n    mode: \"python\",\n    ext: [\"pyx\", \"pxd\", \"pxi\"]\n  }, {\n    name: \"Crystal\",\n    mime: \"text/x-crystal\",\n    mode: \"crystal\",\n    ext: [\"cr\"]\n  }, {\n    name: \"CSS\",\n    mime: \"text/css\",\n    mode: \"css\",\n    ext: [\"css\"]\n  }, {\n    name: \"CQL\",\n    mime: \"text/x-cassandra\",\n    mode: \"sql\",\n    ext: [\"cql\"]\n  }, {\n    name: \"D\",\n    mime: \"text/x-d\",\n    mode: \"d\",\n    ext: [\"d\"]\n  }, {\n    name: \"Dart\",\n    mimes: [\"application/dart\", \"text/x-dart\"],\n    mode: \"dart\",\n    ext: [\"dart\"]\n  }, {\n    name: \"diff\",\n    mime: \"text/x-diff\",\n    mode: \"diff\",\n    ext: [\"diff\", \"patch\"]\n  }, {\n    name: \"Django\",\n    mime: \"text/x-django\",\n    mode: \"django\"\n  }, {\n    name: \"Dockerfile\",\n    mime: \"text/x-dockerfile\",\n    mode: \"dockerfile\",\n    file: /^Dockerfile$/\n  }, {\n    name: \"DTD\",\n    mime: \"application/xml-dtd\",\n    mode: \"dtd\",\n    ext: [\"dtd\"]\n  }, {\n    name: \"Dylan\",\n    mime: \"text/x-dylan\",\n    mode: \"dylan\",\n    ext: [\"dylan\", \"dyl\", \"intr\"]\n  }, {\n    name: \"EBNF\",\n    mime: \"text/x-ebnf\",\n    mode: \"ebnf\"\n  }, {\n    name: \"ECL\",\n    mime: \"text/x-ecl\",\n    mode: \"ecl\",\n    ext: [\"ecl\"]\n  }, {\n    name: \"edn\",\n    mime: \"application/edn\",\n    mode: \"clojure\",\n    ext: [\"edn\"]\n  }, {\n    name: \"Eiffel\",\n    mime: \"text/x-eiffel\",\n    mode: \"eiffel\",\n    ext: [\"e\"]\n  }, {\n    name: \"Elm\",\n    mime: \"text/x-elm\",\n    mode: \"elm\",\n    ext: [\"elm\"]\n  }, {\n    name: \"Embedded Javascript\",\n    mime: \"application/x-ejs\",\n    mode: \"htmlembedded\",\n    ext: [\"ejs\"]\n  }, {\n    name: \"Embedded Ruby\",\n    mime: \"application/x-erb\",\n    mode: \"htmlembedded\",\n    ext: [\"erb\"]\n  }, {\n    name: \"Erlang\",\n    mime: \"text/x-erlang\",\n    mode: \"erlang\",\n    ext: [\"erl\"]\n  }, {\n    name: \"Esper\",\n    mime: \"text/x-esper\",\n    mode: \"sql\"\n  }, {\n    name: \"Factor\",\n    mime: \"text/x-factor\",\n    mode: \"factor\",\n    ext: [\"factor\"]\n  }, {\n    name: \"FCL\",\n    mime: \"text/x-fcl\",\n    mode: \"fcl\"\n  }, {\n    name: \"Forth\",\n    mime: \"text/x-forth\",\n    mode: \"forth\",\n    ext: [\"forth\", \"fth\", \"4th\"]\n  }, {\n    name: \"Fortran\",\n    mime: \"text/x-fortran\",\n    mode: \"fortran\",\n    ext: [\"f\", \"for\", \"f77\", \"f90\", \"f95\"]\n  }, {\n    name: \"F#\",\n    mime: \"text/x-fsharp\",\n    mode: \"mllike\",\n    ext: [\"fs\"],\n    alias: [\"fsharp\"]\n  }, {\n    name: \"Gas\",\n    mime: \"text/x-gas\",\n    mode: \"gas\",\n    ext: [\"s\"]\n  }, {\n    name: \"Gherkin\",\n    mime: \"text/x-feature\",\n    mode: \"gherkin\",\n    ext: [\"feature\"]\n  }, {\n    name: \"GitHub Flavored Markdown\",\n    mime: \"text/x-gfm\",\n    mode: \"gfm\",\n    file: /^(readme|contributing|history).md$/i\n  }, {\n    name: \"Go\",\n    mime: \"text/x-go\",\n    mode: \"go\",\n    ext: [\"go\"]\n  }, {\n    name: \"Groovy\",\n    mime: \"text/x-groovy\",\n    mode: \"groovy\",\n    ext: [\"groovy\", \"gradle\"],\n    file: /^Jenkinsfile$/\n  }, {\n    name: \"HAML\",\n    mime: \"text/x-haml\",\n    mode: \"haml\",\n    ext: [\"haml\"]\n  }, {\n    name: \"Haskell\",\n    mime: \"text/x-haskell\",\n    mode: \"haskell\",\n    ext: [\"hs\"]\n  }, {\n    name: \"Haskell (Literate)\",\n    mime: \"text/x-literate-haskell\",\n    mode: \"haskell-literate\",\n    ext: [\"lhs\"]\n  }, {\n    name: \"Haxe\",\n    mime: \"text/x-haxe\",\n    mode: \"haxe\",\n    ext: [\"hx\"]\n  }, {\n    name: \"HXML\",\n    mime: \"text/x-hxml\",\n    mode: \"haxe\",\n    ext: [\"hxml\"]\n  }, {\n    name: \"ASP.NET\",\n    mime: \"application/x-aspx\",\n    mode: \"htmlembedded\",\n    ext: [\"aspx\"],\n    alias: [\"asp\", \"aspx\"]\n  }, {\n    name: \"HTML\",\n    mime: \"text/html\",\n    mode: \"htmlmixed\",\n    ext: [\"html\", \"htm\", \"handlebars\", \"hbs\"],\n    alias: [\"xhtml\"]\n  }, {\n    name: \"HTTP\",\n    mime: \"message/http\",\n    mode: \"http\"\n  }, {\n    name: \"IDL\",\n    mime: \"text/x-idl\",\n    mode: \"idl\",\n    ext: [\"pro\"]\n  }, {\n    name: \"Pug\",\n    mime: \"text/x-pug\",\n    mode: \"pug\",\n    ext: [\"jade\", \"pug\"],\n    alias: [\"jade\"]\n  }, {\n    name: \"Java\",\n    mime: \"text/x-java\",\n    mode: \"clike\",\n    ext: [\"java\"]\n  }, {\n    name: \"Java Server Pages\",\n    mime: \"application/x-jsp\",\n    mode: \"htmlembedded\",\n    ext: [\"jsp\"],\n    alias: [\"jsp\"]\n  }, {\n    name: \"JavaScript\",\n    mimes: [\"text/javascript\", \"text/ecmascript\", \"application/javascript\", \"application/x-javascript\", \"application/ecmascript\"],\n    mode: \"javascript\",\n    ext: [\"js\"],\n    alias: [\"ecmascript\", \"js\", \"node\"]\n  }, {\n    name: \"JSON\",\n    mimes: [\"application/json\", \"application/x-json\"],\n    mode: \"javascript\",\n    ext: [\"json\", \"map\"],\n    alias: [\"json5\"]\n  }, {\n    name: \"JSON-LD\",\n    mime: \"application/ld+json\",\n    mode: \"javascript\",\n    ext: [\"jsonld\"],\n    alias: [\"jsonld\"]\n  }, {\n    name: \"JSX\",\n    mime: \"text/jsx\",\n    mode: \"jsx\",\n    ext: [\"jsx\"]\n  }, {\n    name: \"Jinja2\",\n    mime: \"text/jinja2\",\n    mode: \"jinja2\",\n    ext: [\"j2\", \"jinja\", \"jinja2\"]\n  }, {\n    name: \"Julia\",\n    mime: \"text/x-julia\",\n    mode: \"julia\",\n    ext: [\"jl\"]\n  }, {\n    name: \"Kotlin\",\n    mime: \"text/x-kotlin\",\n    mode: \"clike\",\n    ext: [\"kt\"]\n  }, {\n    name: \"LESS\",\n    mime: \"text/x-less\",\n    mode: \"css\",\n    ext: [\"less\"]\n  }, {\n    name: \"LiveScript\",\n    mime: \"text/x-livescript\",\n    mode: \"livescript\",\n    ext: [\"ls\"],\n    alias: [\"ls\"]\n  }, {\n    name: \"Lua\",\n    mime: \"text/x-lua\",\n    mode: \"lua\",\n    ext: [\"lua\"]\n  }, {\n    name: \"Markdown\",\n    mime: \"text/x-markdown\",\n    mode: \"markdown\",\n    ext: [\"markdown\", \"md\", \"mkd\"]\n  }, {\n    name: \"mIRC\",\n    mime: \"text/mirc\",\n    mode: \"mirc\"\n  }, {\n    name: \"MariaDB SQL\",\n    mime: \"text/x-mariadb\",\n    mode: \"sql\"\n  }, {\n    name: \"Mathematica\",\n    mime: \"text/x-mathematica\",\n    mode: \"mathematica\",\n    ext: [\"m\", \"nb\", \"wl\", \"wls\"]\n  }, {\n    name: \"Modelica\",\n    mime: \"text/x-modelica\",\n    mode: \"modelica\",\n    ext: [\"mo\"]\n  }, {\n    name: \"MUMPS\",\n    mime: \"text/x-mumps\",\n    mode: \"mumps\",\n    ext: [\"mps\"]\n  }, {\n    name: \"MS SQL\",\n    mime: \"text/x-mssql\",\n    mode: \"sql\"\n  }, {\n    name: \"mbox\",\n    mime: \"application/mbox\",\n    mode: \"mbox\",\n    ext: [\"mbox\"]\n  }, {\n    name: \"MySQL\",\n    mime: \"text/x-mysql\",\n    mode: \"sql\"\n  }, {\n    name: \"Nginx\",\n    mime: \"text/x-nginx-conf\",\n    mode: \"nginx\",\n    file: /nginx.*\\.conf$/i\n  }, {\n    name: \"NSIS\",\n    mime: \"text/x-nsis\",\n    mode: \"nsis\",\n    ext: [\"nsh\", \"nsi\"]\n  }, {\n    name: \"NTriples\",\n    mimes: [\"application/n-triples\", \"application/n-quads\", \"text/n-triples\"],\n    mode: \"ntriples\",\n    ext: [\"nt\", \"nq\"]\n  }, {\n    name: \"Objective-C\",\n    mime: \"text/x-objectivec\",\n    mode: \"clike\",\n    ext: [\"m\"],\n    alias: [\"objective-c\", \"objc\"]\n  }, {\n    name: \"Objective-C++\",\n    mime: \"text/x-objectivec++\",\n    mode: \"clike\",\n    ext: [\"mm\"],\n    alias: [\"objective-c++\", \"objc++\"]\n  }, {\n    name: \"OCaml\",\n    mime: \"text/x-ocaml\",\n    mode: \"mllike\",\n    ext: [\"ml\", \"mli\", \"mll\", \"mly\"]\n  }, {\n    name: \"Octave\",\n    mime: \"text/x-octave\",\n    mode: \"octave\",\n    ext: [\"m\"]\n  }, {\n    name: \"Oz\",\n    mime: \"text/x-oz\",\n    mode: \"oz\",\n    ext: [\"oz\"]\n  }, {\n    name: \"Pascal\",\n    mime: \"text/x-pascal\",\n    mode: \"pascal\",\n    ext: [\"p\", \"pas\"]\n  }, {\n    name: \"PEG.js\",\n    mime: \"null\",\n    mode: \"pegjs\",\n    ext: [\"jsonld\"]\n  }, {\n    name: \"Perl\",\n    mime: \"text/x-perl\",\n    mode: \"perl\",\n    ext: [\"pl\", \"pm\"]\n  }, {\n    name: \"PHP\",\n    mimes: [\"text/x-php\", \"application/x-httpd-php\", \"application/x-httpd-php-open\"],\n    mode: \"php\",\n    ext: [\"php\", \"php3\", \"php4\", \"php5\", \"php7\", \"phtml\"]\n  }, {\n    name: \"Pig\",\n    mime: \"text/x-pig\",\n    mode: \"pig\",\n    ext: [\"pig\"]\n  }, {\n    name: \"Plain Text\",\n    mime: \"text/plain\",\n    mode: \"null\",\n    ext: [\"txt\", \"text\", \"conf\", \"def\", \"list\", \"log\"]\n  }, {\n    name: \"PLSQL\",\n    mime: \"text/x-plsql\",\n    mode: \"sql\",\n    ext: [\"pls\"]\n  }, {\n    name: \"PostgreSQL\",\n    mime: \"text/x-pgsql\",\n    mode: \"sql\"\n  }, {\n    name: \"PowerShell\",\n    mime: \"application/x-powershell\",\n    mode: \"powershell\",\n    ext: [\"ps1\", \"psd1\", \"psm1\"]\n  }, {\n    name: \"Properties files\",\n    mime: \"text/x-properties\",\n    mode: \"properties\",\n    ext: [\"properties\", \"ini\", \"in\"],\n    alias: [\"ini\", \"properties\"]\n  }, {\n    name: \"ProtoBuf\",\n    mime: \"text/x-protobuf\",\n    mode: \"protobuf\",\n    ext: [\"proto\"]\n  }, {\n    name: \"Python\",\n    mime: \"text/x-python\",\n    mode: \"python\",\n    ext: [\"BUILD\", \"bzl\", \"py\", \"pyw\"],\n    file: /^(BUCK|BUILD)$/\n  }, {\n    name: \"Puppet\",\n    mime: \"text/x-puppet\",\n    mode: \"puppet\",\n    ext: [\"pp\"]\n  }, {\n    name: \"Q\",\n    mime: \"text/x-q\",\n    mode: \"q\",\n    ext: [\"q\"]\n  }, {\n    name: \"R\",\n    mime: \"text/x-rsrc\",\n    mode: \"r\",\n    ext: [\"r\", \"R\"],\n    alias: [\"rscript\"]\n  }, {\n    name: \"reStructuredText\",\n    mime: \"text/x-rst\",\n    mode: \"rst\",\n    ext: [\"rst\"],\n    alias: [\"rst\"]\n  }, {\n    name: \"RPM Changes\",\n    mime: \"text/x-rpm-changes\",\n    mode: \"rpm\"\n  }, {\n    name: \"RPM Spec\",\n    mime: \"text/x-rpm-spec\",\n    mode: \"rpm\",\n    ext: [\"spec\"]\n  }, {\n    name: \"Ruby\",\n    mime: \"text/x-ruby\",\n    mode: \"ruby\",\n    ext: [\"rb\"],\n    alias: [\"jruby\", \"macruby\", \"rake\", \"rb\", \"rbx\"]\n  }, {\n    name: \"Rust\",\n    mime: \"text/x-rustsrc\",\n    mode: \"rust\",\n    ext: [\"rs\"]\n  }, {\n    name: \"SAS\",\n    mime: \"text/x-sas\",\n    mode: \"sas\",\n    ext: [\"sas\"]\n  }, {\n    name: \"Sass\",\n    mime: \"text/x-sass\",\n    mode: \"sass\",\n    ext: [\"sass\"]\n  }, {\n    name: \"Scala\",\n    mime: \"text/x-scala\",\n    mode: \"clike\",\n    ext: [\"scala\"]\n  }, {\n    name: \"Scheme\",\n    mime: \"text/x-scheme\",\n    mode: \"scheme\",\n    ext: [\"scm\", \"ss\"]\n  }, {\n    name: \"SCSS\",\n    mime: \"text/x-scss\",\n    mode: \"css\",\n    ext: [\"scss\"]\n  }, {\n    name: \"Shell\",\n    mimes: [\"text/x-sh\", \"application/x-sh\"],\n    mode: \"shell\",\n    ext: [\"sh\", \"ksh\", \"bash\"],\n    alias: [\"bash\", \"sh\", \"zsh\"],\n    file: /^PKGBUILD$/\n  }, {\n    name: \"Sieve\",\n    mime: \"application/sieve\",\n    mode: \"sieve\",\n    ext: [\"siv\", \"sieve\"]\n  }, {\n    name: \"Slim\",\n    mimes: [\"text/x-slim\", \"application/x-slim\"],\n    mode: \"slim\",\n    ext: [\"slim\"]\n  }, {\n    name: \"Smalltalk\",\n    mime: \"text/x-stsrc\",\n    mode: \"smalltalk\",\n    ext: [\"st\"]\n  }, {\n    name: \"Smarty\",\n    mime: \"text/x-smarty\",\n    mode: \"smarty\",\n    ext: [\"tpl\"]\n  }, {\n    name: \"Solr\",\n    mime: \"text/x-solr\",\n    mode: \"solr\"\n  }, {\n    name: \"SML\",\n    mime: \"text/x-sml\",\n    mode: \"mllike\",\n    ext: [\"sml\", \"sig\", \"fun\", \"smackspec\"]\n  }, {\n    name: \"Soy\",\n    mime: \"text/x-soy\",\n    mode: \"soy\",\n    ext: [\"soy\"],\n    alias: [\"closure template\"]\n  }, {\n    name: \"SPARQL\",\n    mime: \"application/sparql-query\",\n    mode: \"sparql\",\n    ext: [\"rq\", \"sparql\"],\n    alias: [\"sparul\"]\n  }, {\n    name: \"Spreadsheet\",\n    mime: \"text/x-spreadsheet\",\n    mode: \"spreadsheet\",\n    alias: [\"excel\", \"formula\"]\n  }, {\n    name: \"SQL\",\n    mime: \"text/x-sql\",\n    mode: \"sql\",\n    ext: [\"sql\"]\n  }, {\n    name: \"SQLite\",\n    mime: \"text/x-sqlite\",\n    mode: \"sql\"\n  }, {\n    name: \"Squirrel\",\n    mime: \"text/x-squirrel\",\n    mode: \"clike\",\n    ext: [\"nut\"]\n  }, {\n    name: \"Stylus\",\n    mime: \"text/x-styl\",\n    mode: \"stylus\",\n    ext: [\"styl\"]\n  }, {\n    name: \"Swift\",\n    mime: \"text/x-swift\",\n    mode: \"swift\",\n    ext: [\"swift\"]\n  }, {\n    name: \"sTeX\",\n    mime: \"text/x-stex\",\n    mode: \"stex\"\n  }, {\n    name: \"LaTeX\",\n    mime: \"text/x-latex\",\n    mode: \"stex\",\n    ext: [\"text\", \"ltx\", \"tex\"],\n    alias: [\"tex\"]\n  }, {\n    name: \"SystemVerilog\",\n    mime: \"text/x-systemverilog\",\n    mode: \"verilog\",\n    ext: [\"v\", \"sv\", \"svh\"]\n  }, {\n    name: \"Tcl\",\n    mime: \"text/x-tcl\",\n    mode: \"tcl\",\n    ext: [\"tcl\"]\n  }, {\n    name: \"Textile\",\n    mime: \"text/x-textile\",\n    mode: \"textile\",\n    ext: [\"textile\"]\n  }, {\n    name: \"TiddlyWiki \",\n    mime: \"text/x-tiddlywiki\",\n    mode: \"tiddlywiki\"\n  }, {\n    name: \"Tiki wiki\",\n    mime: \"text/tiki\",\n    mode: \"tiki\"\n  }, {\n    name: \"TOML\",\n    mime: \"text/x-toml\",\n    mode: \"toml\",\n    ext: [\"toml\"]\n  }, {\n    name: \"Tornado\",\n    mime: \"text/x-tornado\",\n    mode: \"tornado\"\n  }, {\n    name: \"troff\",\n    mime: \"text/troff\",\n    mode: \"troff\",\n    ext: [\"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\"]\n  }, {\n    name: \"TTCN\",\n    mime: \"text/x-ttcn\",\n    mode: \"ttcn\",\n    ext: [\"ttcn\", \"ttcn3\", \"ttcnpp\"]\n  }, {\n    name: \"TTCN_CFG\",\n    mime: \"text/x-ttcn-cfg\",\n    mode: \"ttcn-cfg\",\n    ext: [\"cfg\"]\n  }, {\n    name: \"Turtle\",\n    mime: \"text/turtle\",\n    mode: \"turtle\",\n    ext: [\"ttl\"]\n  }, {\n    name: \"TypeScript\",\n    mime: \"application/typescript\",\n    mode: \"javascript\",\n    ext: [\"ts\"],\n    alias: [\"ts\"]\n  }, {\n    name: \"TypeScript-JSX\",\n    mime: \"text/typescript-jsx\",\n    mode: \"jsx\",\n    ext: [\"tsx\"],\n    alias: [\"tsx\"]\n  }, {\n    name: \"Twig\",\n    mime: \"text/x-twig\",\n    mode: \"twig\"\n  }, {\n    name: \"Web IDL\",\n    mime: \"text/x-webidl\",\n    mode: \"webidl\",\n    ext: [\"webidl\"]\n  }, {\n    name: \"VB.NET\",\n    mime: \"text/x-vb\",\n    mode: \"vb\",\n    ext: [\"vb\"]\n  }, {\n    name: \"VBScript\",\n    mime: \"text/vbscript\",\n    mode: \"vbscript\",\n    ext: [\"vbs\"]\n  }, {\n    name: \"Velocity\",\n    mime: \"text/velocity\",\n    mode: \"velocity\",\n    ext: [\"vtl\"]\n  }, {\n    name: \"Verilog\",\n    mime: \"text/x-verilog\",\n    mode: \"verilog\",\n    ext: [\"v\"]\n  }, {\n    name: \"VHDL\",\n    mime: \"text/x-vhdl\",\n    mode: \"vhdl\",\n    ext: [\"vhd\", \"vhdl\"]\n  }, {\n    name: \"Vue.js Component\",\n    mimes: [\"script/x-vue\", \"text/x-vue\"],\n    mode: \"vue\",\n    ext: [\"vue\"]\n  }, {\n    name: \"XML\",\n    mimes: [\"application/xml\", \"text/xml\"],\n    mode: \"xml\",\n    ext: [\"xml\", \"xsl\", \"xsd\", \"svg\"],\n    alias: [\"rss\", \"wsdl\", \"xsd\"]\n  }, {\n    name: \"XQuery\",\n    mime: \"application/xquery\",\n    mode: \"xquery\",\n    ext: [\"xy\", \"xquery\"]\n  }, {\n    name: \"Yacas\",\n    mime: \"text/x-yacas\",\n    mode: \"yacas\",\n    ext: [\"ys\"]\n  }, {\n    name: \"YAML\",\n    mimes: [\"text/x-yaml\", \"text/yaml\"],\n    mode: \"yaml\",\n    ext: [\"yaml\", \"yml\"],\n    alias: [\"yml\"]\n  }, {\n    name: \"Z80\",\n    mime: \"text/x-z80\",\n    mode: \"z80\",\n    ext: [\"z80\"]\n  }, {\n    name: \"mscgen\",\n    mime: \"text/x-mscgen\",\n    mode: \"mscgen\",\n    ext: [\"mscgen\", \"mscin\", \"msc\"]\n  }, {\n    name: \"xu\",\n    mime: \"text/x-xu\",\n    mode: \"mscgen\",\n    ext: [\"xu\"]\n  }, {\n    name: \"msgenny\",\n    mime: \"text/x-msgenny\",\n    mode: \"mscgen\",\n    ext: [\"msgenny\"]\n  }]; // Ensure all modes have a mime property for backwards compatibility\n\n  for (var i = 0; i < CodeMirror.modeInfo.length; i++) {\n    var info = CodeMirror.modeInfo[i];\n    if (info.mimes) info.mime = info.mimes[0];\n  }\n\n  CodeMirror.findModeByMIME = function (mime) {\n    mime = mime.toLowerCase();\n\n    for (var i = 0; i < CodeMirror.modeInfo.length; i++) {\n      var info = CodeMirror.modeInfo[i];\n      if (info.mime == mime) return info;\n      if (info.mimes) for (var j = 0; j < info.mimes.length; j++) if (info.mimes[j] == mime) return info;\n    }\n\n    if (/\\+xml$/.test(mime)) return CodeMirror.findModeByMIME(\"application/xml\");\n    if (/\\+json$/.test(mime)) return CodeMirror.findModeByMIME(\"application/json\");\n  };\n\n  CodeMirror.findModeByExtension = function (ext) {\n    ext = ext.toLowerCase();\n\n    for (var i = 0; i < CodeMirror.modeInfo.length; i++) {\n      var info = CodeMirror.modeInfo[i];\n      if (info.ext) for (var j = 0; j < info.ext.length; j++) if (info.ext[j] == ext) return info;\n    }\n  };\n\n  CodeMirror.findModeByFileName = function (filename) {\n    for (var i = 0; i < CodeMirror.modeInfo.length; i++) {\n      var info = CodeMirror.modeInfo[i];\n      if (info.file && info.file.test(filename)) return info;\n    }\n\n    var dot = filename.lastIndexOf(\".\");\n    var ext = dot > -1 && filename.substring(dot + 1, filename.length);\n    if (ext) return CodeMirror.findModeByExtension(ext);\n  };\n\n  CodeMirror.findModeByName = function (name) {\n    name = name.toLowerCase();\n\n    for (var i = 0; i < CodeMirror.modeInfo.length; i++) {\n      var info = CodeMirror.modeInfo[i];\n      if (info.name.toLowerCase() == name) return info;\n      if (info.alias) for (var j = 0; j < info.alias.length; j++) if (info.alias[j].toLowerCase() == name) return info;\n    }\n  };\n});\n\n/***/ }),\n\n/***/ \"./node_modules/codemirror/mode/xml/xml.js\":\n/*!*************************************************!*\\\n  !*** ./node_modules/codemirror/mode/xml/xml.js ***!\n  \\*************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n(function (mod) {\n  if (true) // CommonJS\n    mod(__webpack_require__(/*! ../../lib/codemirror */ \"./node_modules/codemirror/lib/codemirror.js\"));else {}\n})(function (CodeMirror) {\n  \"use strict\";\n\n  var htmlConfig = {\n    autoSelfClosers: {\n      'area': true,\n      'base': true,\n      'br': true,\n      'col': true,\n      'command': true,\n      'embed': true,\n      'frame': true,\n      'hr': true,\n      'img': true,\n      'input': true,\n      'keygen': true,\n      'link': true,\n      'meta': true,\n      'param': true,\n      'source': true,\n      'track': true,\n      'wbr': true,\n      'menuitem': true\n    },\n    implicitlyClosed: {\n      'dd': true,\n      'li': true,\n      'optgroup': true,\n      'option': true,\n      'p': true,\n      'rp': true,\n      'rt': true,\n      'tbody': true,\n      'td': true,\n      'tfoot': true,\n      'th': true,\n      'tr': true\n    },\n    contextGrabbers: {\n      'dd': {\n        'dd': true,\n        'dt': true\n      },\n      'dt': {\n        'dd': true,\n        'dt': true\n      },\n      'li': {\n        'li': true\n      },\n      'option': {\n        'option': true,\n        'optgroup': true\n      },\n      'optgroup': {\n        'optgroup': true\n      },\n      'p': {\n        'address': true,\n        'article': true,\n        'aside': true,\n        'blockquote': true,\n        'dir': true,\n        'div': true,\n        'dl': true,\n        'fieldset': true,\n        'footer': true,\n        'form': true,\n        'h1': true,\n        'h2': true,\n        'h3': true,\n        'h4': true,\n        'h5': true,\n        'h6': true,\n        'header': true,\n        'hgroup': true,\n        'hr': true,\n        'menu': true,\n        'nav': true,\n        'ol': true,\n        'p': true,\n        'pre': true,\n        'section': true,\n        'table': true,\n        'ul': true\n      },\n      'rp': {\n        'rp': true,\n        'rt': true\n      },\n      'rt': {\n        'rp': true,\n        'rt': true\n      },\n      'tbody': {\n        'tbody': true,\n        'tfoot': true\n      },\n      'td': {\n        'td': true,\n        'th': true\n      },\n      'tfoot': {\n        'tbody': true\n      },\n      'th': {\n        'td': true,\n        'th': true\n      },\n      'thead': {\n        'tbody': true,\n        'tfoot': true\n      },\n      'tr': {\n        'tr': true\n      }\n    },\n    doNotIndent: {\n      \"pre\": true\n    },\n    allowUnquoted: true,\n    allowMissing: true,\n    caseFold: true\n  };\n  var xmlConfig = {\n    autoSelfClosers: {},\n    implicitlyClosed: {},\n    contextGrabbers: {},\n    doNotIndent: {},\n    allowUnquoted: false,\n    allowMissing: false,\n    allowMissingTagName: false,\n    caseFold: false\n  };\n  CodeMirror.defineMode(\"xml\", function (editorConf, config_) {\n    var indentUnit = editorConf.indentUnit;\n    var config = {};\n    var defaults = config_.htmlMode ? htmlConfig : xmlConfig;\n\n    for (var prop in defaults) config[prop] = defaults[prop];\n\n    for (var prop in config_) config[prop] = config_[prop]; // Return variables for tokenizers\n\n\n    var type, setStyle;\n\n    function inText(stream, state) {\n      function chain(parser) {\n        state.tokenize = parser;\n        return parser(stream, state);\n      }\n\n      var ch = stream.next();\n\n      if (ch == \"<\") {\n        if (stream.eat(\"!\")) {\n          if (stream.eat(\"[\")) {\n            if (stream.match(\"CDATA[\")) return chain(inBlock(\"atom\", \"]]>\"));else return null;\n          } else if (stream.match(\"--\")) {\n            return chain(inBlock(\"comment\", \"-->\"));\n          } else if (stream.match(\"DOCTYPE\", true, true)) {\n            stream.eatWhile(/[\\w\\._\\-]/);\n            return chain(doctype(1));\n          } else {\n            return null;\n          }\n        } else if (stream.eat(\"?\")) {\n          stream.eatWhile(/[\\w\\._\\-]/);\n          state.tokenize = inBlock(\"meta\", \"?>\");\n          return \"meta\";\n        } else {\n          type = stream.eat(\"/\") ? \"closeTag\" : \"openTag\";\n          state.tokenize = inTag;\n          return \"tag bracket\";\n        }\n      } else if (ch == \"&\") {\n        var ok;\n\n        if (stream.eat(\"#\")) {\n          if (stream.eat(\"x\")) {\n            ok = stream.eatWhile(/[a-fA-F\\d]/) && stream.eat(\";\");\n          } else {\n            ok = stream.eatWhile(/[\\d]/) && stream.eat(\";\");\n          }\n        } else {\n          ok = stream.eatWhile(/[\\w\\.\\-:]/) && stream.eat(\";\");\n        }\n\n        return ok ? \"atom\" : \"error\";\n      } else {\n        stream.eatWhile(/[^&<]/);\n        return null;\n      }\n    }\n\n    inText.isInText = true;\n\n    function inTag(stream, state) {\n      var ch = stream.next();\n\n      if (ch == \">\" || ch == \"/\" && stream.eat(\">\")) {\n        state.tokenize = inText;\n        type = ch == \">\" ? \"endTag\" : \"selfcloseTag\";\n        return \"tag bracket\";\n      } else if (ch == \"=\") {\n        type = \"equals\";\n        return null;\n      } else if (ch == \"<\") {\n        state.tokenize = inText;\n        state.state = baseState;\n        state.tagName = state.tagStart = null;\n        var next = state.tokenize(stream, state);\n        return next ? next + \" tag error\" : \"tag error\";\n      } else if (/[\\'\\\"]/.test(ch)) {\n        state.tokenize = inAttribute(ch);\n        state.stringStartCol = stream.column();\n        return state.tokenize(stream, state);\n      } else {\n        stream.match(/^[^\\s\\u00a0=<>\\\"\\']*[^\\s\\u00a0=<>\\\"\\'\\/]/);\n        return \"word\";\n      }\n    }\n\n    function inAttribute(quote) {\n      var closure = function (stream, state) {\n        while (!stream.eol()) {\n          if (stream.next() == quote) {\n            state.tokenize = inTag;\n            break;\n          }\n        }\n\n        return \"string\";\n      };\n\n      closure.isInAttribute = true;\n      return closure;\n    }\n\n    function inBlock(style, terminator) {\n      return function (stream, state) {\n        while (!stream.eol()) {\n          if (stream.match(terminator)) {\n            state.tokenize = inText;\n            break;\n          }\n\n          stream.next();\n        }\n\n        return style;\n      };\n    }\n\n    function doctype(depth) {\n      return function (stream, state) {\n        var ch;\n\n        while ((ch = stream.next()) != null) {\n          if (ch == \"<\") {\n            state.tokenize = doctype(depth + 1);\n            return state.tokenize(stream, state);\n          } else if (ch == \">\") {\n            if (depth == 1) {\n              state.tokenize = inText;\n              break;\n            } else {\n              state.tokenize = doctype(depth - 1);\n              return state.tokenize(stream, state);\n            }\n          }\n        }\n\n        return \"meta\";\n      };\n    }\n\n    function Context(state, tagName, startOfLine) {\n      this.prev = state.context;\n      this.tagName = tagName;\n      this.indent = state.indented;\n      this.startOfLine = startOfLine;\n      if (config.doNotIndent.hasOwnProperty(tagName) || state.context && state.context.noIndent) this.noIndent = true;\n    }\n\n    function popContext(state) {\n      if (state.context) state.context = state.context.prev;\n    }\n\n    function maybePopContext(state, nextTagName) {\n      var parentTagName;\n\n      while (true) {\n        if (!state.context) {\n          return;\n        }\n\n        parentTagName = state.context.tagName;\n\n        if (!config.contextGrabbers.hasOwnProperty(parentTagName) || !config.contextGrabbers[parentTagName].hasOwnProperty(nextTagName)) {\n          return;\n        }\n\n        popContext(state);\n      }\n    }\n\n    function baseState(type, stream, state) {\n      if (type == \"openTag\") {\n        state.tagStart = stream.column();\n        return tagNameState;\n      } else if (type == \"closeTag\") {\n        return closeTagNameState;\n      } else {\n        return baseState;\n      }\n    }\n\n    function tagNameState(type, stream, state) {\n      if (type == \"word\") {\n        state.tagName = stream.current();\n        setStyle = \"tag\";\n        return attrState;\n      } else if (config.allowMissingTagName && type == \"endTag\") {\n        setStyle = \"tag bracket\";\n        return attrState(type, stream, state);\n      } else {\n        setStyle = \"error\";\n        return tagNameState;\n      }\n    }\n\n    function closeTagNameState(type, stream, state) {\n      if (type == \"word\") {\n        var tagName = stream.current();\n        if (state.context && state.context.tagName != tagName && config.implicitlyClosed.hasOwnProperty(state.context.tagName)) popContext(state);\n\n        if (state.context && state.context.tagName == tagName || config.matchClosing === false) {\n          setStyle = \"tag\";\n          return closeState;\n        } else {\n          setStyle = \"tag error\";\n          return closeStateErr;\n        }\n      } else if (config.allowMissingTagName && type == \"endTag\") {\n        setStyle = \"tag bracket\";\n        return closeState(type, stream, state);\n      } else {\n        setStyle = \"error\";\n        return closeStateErr;\n      }\n    }\n\n    function closeState(type, _stream, state) {\n      if (type != \"endTag\") {\n        setStyle = \"error\";\n        return closeState;\n      }\n\n      popContext(state);\n      return baseState;\n    }\n\n    function closeStateErr(type, stream, state) {\n      setStyle = \"error\";\n      return closeState(type, stream, state);\n    }\n\n    function attrState(type, _stream, state) {\n      if (type == \"word\") {\n        setStyle = \"attribute\";\n        return attrEqState;\n      } else if (type == \"endTag\" || type == \"selfcloseTag\") {\n        var tagName = state.tagName,\n            tagStart = state.tagStart;\n        state.tagName = state.tagStart = null;\n\n        if (type == \"selfcloseTag\" || config.autoSelfClosers.hasOwnProperty(tagName)) {\n          maybePopContext(state, tagName);\n        } else {\n          maybePopContext(state, tagName);\n          state.context = new Context(state, tagName, tagStart == state.indented);\n        }\n\n        return baseState;\n      }\n\n      setStyle = \"error\";\n      return attrState;\n    }\n\n    function attrEqState(type, stream, state) {\n      if (type == \"equals\") return attrValueState;\n      if (!config.allowMissing) setStyle = \"error\";\n      return attrState(type, stream, state);\n    }\n\n    function attrValueState(type, stream, state) {\n      if (type == \"string\") return attrContinuedState;\n\n      if (type == \"word\" && config.allowUnquoted) {\n        setStyle = \"string\";\n        return attrState;\n      }\n\n      setStyle = \"error\";\n      return attrState(type, stream, state);\n    }\n\n    function attrContinuedState(type, stream, state) {\n      if (type == \"string\") return attrContinuedState;\n      return attrState(type, stream, state);\n    }\n\n    return {\n      startState: function (baseIndent) {\n        var state = {\n          tokenize: inText,\n          state: baseState,\n          indented: baseIndent || 0,\n          tagName: null,\n          tagStart: null,\n          context: null\n        };\n        if (baseIndent != null) state.baseIndent = baseIndent;\n        return state;\n      },\n      token: function (stream, state) {\n        if (!state.tagName && stream.sol()) state.indented = stream.indentation();\n        if (stream.eatSpace()) return null;\n        type = null;\n        var style = state.tokenize(stream, state);\n\n        if ((style || type) && style != \"comment\") {\n          setStyle = null;\n          state.state = state.state(type || style, stream, state);\n          if (setStyle) style = setStyle == \"error\" ? style + \" error\" : setStyle;\n        }\n\n        return style;\n      },\n      indent: function (state, textAfter, fullLine) {\n        var context = state.context; // Indent multi-line strings (e.g. css).\n\n        if (state.tokenize.isInAttribute) {\n          if (state.tagStart == state.indented) return state.stringStartCol + 1;else return state.indented + indentUnit;\n        }\n\n        if (context && context.noIndent) return CodeMirror.Pass;\n        if (state.tokenize != inTag && state.tokenize != inText) return fullLine ? fullLine.match(/^(\\s*)/)[0].length : 0; // Indent the starts of attribute names.\n\n        if (state.tagName) {\n          if (config.multilineTagIndentPastTag !== false) return state.tagStart + state.tagName.length + 2;else return state.tagStart + indentUnit * (config.multilineTagIndentFactor || 1);\n        }\n\n        if (config.alignCDATA && /<!\\[CDATA\\[/.test(textAfter)) return 0;\n        var tagAfter = textAfter && /^<(\\/)?([\\w_:\\.-]*)/.exec(textAfter);\n\n        if (tagAfter && tagAfter[1]) {\n          // Closing tag spotted\n          while (context) {\n            if (context.tagName == tagAfter[2]) {\n              context = context.prev;\n              break;\n            } else if (config.implicitlyClosed.hasOwnProperty(context.tagName)) {\n              context = context.prev;\n            } else {\n              break;\n            }\n          }\n        } else if (tagAfter) {\n          // Opening tag spotted\n          while (context) {\n            var grabbers = config.contextGrabbers[context.tagName];\n            if (grabbers && grabbers.hasOwnProperty(tagAfter[2])) context = context.prev;else break;\n          }\n        }\n\n        while (context && context.prev && !context.startOfLine) context = context.prev;\n\n        if (context) return context.indent + indentUnit;else return state.baseIndent || 0;\n      },\n      electricInput: /<\\/[\\s\\w:]+>$/,\n      blockCommentStart: \"<!--\",\n      blockCommentEnd: \"-->\",\n      configuration: config.htmlMode ? \"html\" : \"xml\",\n      helperType: config.htmlMode ? \"html\" : \"xml\",\n      skipAttribute: function (state) {\n        if (state.state == attrValueState) state.state = attrState;\n      },\n      xmlCurrentTag: function (state) {\n        return state.tagName ? {\n          name: state.tagName,\n          close: state.type == \"closeTag\"\n        } : null;\n      },\n      xmlCurrentContext: function (state) {\n        var context = [];\n\n        for (var cx = state.context; cx; cx = cx.prev) if (cx.tagName) context.push(cx.tagName);\n\n        return context.reverse();\n      }\n    };\n  });\n  CodeMirror.defineMIME(\"text/xml\", \"xml\");\n  CodeMirror.defineMIME(\"application/xml\", \"xml\");\n  if (!CodeMirror.mimeModes.hasOwnProperty(\"text/html\")) CodeMirror.defineMIME(\"text/html\", {\n    name: \"xml\",\n    htmlMode: true\n  });\n});\n\n/***/ }),\n\n/***/ \"./node_modules/markdownparser/index.js\":\n/*!**********************************************!*\\\n  !*** ./node_modules/markdownparser/index.js ***!\n  \\**********************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\nmodule.exports = {\n  _patterns: [{\n    name: 'blockquote',\n    regex: /<blockquote.*?>([\\s\\S]*?)<\\/blockquote>/im,\n    callback: function (matches) {\n      return '> ' + this.trim(matches[1]);\n    }\n  }, {\n    name: 'pre-code',\n    regex: /<pre.*?>.*?<code.*?>([\\s\\S]*?)<\\/code>.*?<\\/pre>/im,\n    callback: function (matches) {\n      return '```\\n' + this.escape(matches[1]) + '\\n```'; //return '\\n```\\n$1\\n```\\n';\n    }\n  }, {\n    name: 'code',\n    regex: /<code.*?>([\\s\\S]*?)<\\/code>/im,\n    callback: function (matches) {\n      return '```' + this.escape(matches[1]) + '```';\n    }\n  }, {\n    name: 'pre',\n    regex: /<pre.*?>([\\s\\S]*?)<\\/pre>/im,\n    callback: function (matches) {\n      return '\\n```\\n' + this.escape(matches[1]) + '\\n```\\n';\n    }\n  }, {\n    name: 'heading',\n    regex: /<h(\\d*).*?>(.*?)<\\/h\\d*>/im,\n    callback: function (matches) {\n      var count = parseInt(matches[1]);\n      var string = '';\n\n      for (var x = 0; x < count; x++) {\n        string += '#';\n      }\n\n      return string + ' ' + this.trim(matches[2]) + '\\n';\n    }\n  }, {\n    name: 'p',\n    //regex: /<p>([\\s\\S]*?)<\\/p>/gim,\n    regex: /<p.*?>(.*?)<\\/p>/gmi,\n    callback: function () {\n      return '\\n$1\\n';\n    }\n  }, {\n    name: 'ul',\n    regex: /<ul.*?>([\\s\\S]*?)<\\/ul>/im,\n    callback: function (matches) {\n      var html = matches[1];\n      var regex = /<li>([\\s\\S]*?)<\\/li>/i;\n      var m = [];\n\n      while (m = regex.exec(html)) {\n        if (m) {\n          html = this.trim(html.replace(regex, '* $1{x}'));\n        }\n      }\n\n      return html.replace(/{x}/g, '\\n');\n      ;\n    }\n  }, {\n    name: 'ol',\n    regex: /<ol.*?>([\\s\\S]*?)<\\/ol>/im,\n    callback: function (matches) {\n      var html = matches[1];\n      var regex = /<li>([\\s\\S]*?)<\\/li>/i;\n      var m = [];\n\n      while (m = regex.exec(html)) {\n        if (m) {\n          html = this.trim(html.replace(regex, '1. $1{x}'));\n        }\n      }\n\n      return html.replace(/{x}/g, '\\n');\n    }\n  }, {\n    name: 'bold',\n    regex: /<(?:b|strong)>([\\s\\S]*?)<\\/\\w*>/gim,\n    callback: function () {\n      return '**$1**';\n    }\n  }, {\n    name: 'italic',\n    regex: /<(?:i|em)>([\\s\\S]*?)<\\/\\w*>/gim,\n    callback: function () {\n      return '*$1*';\n    }\n  }, {\n    name: 'del',\n    regex: /<del.*?>([\\s\\S]*?)<\\/\\w*>/gim,\n    callback: function () {\n      return '~~$1~~';\n    }\n  }, {\n    name: 'br',\n    regex: /<br.*?>/gim,\n    callback: function () {\n      return '\\n';\n    }\n  }, {\n    name: 'hr',\n    regex: /<hr.*?>/gim,\n    callback: function () {\n      return '\\n* * *\\n';\n    }\n  }, {\n    name: 'div',\n    regex: /<div.*?>(.*?)<\\/div>/gim,\n    callback: function () {\n      return '$1\\n';\n    }\n  }, {\n    name: 'a',\n    regex: /<a.*? href=\"([^\"]+)\".*?>([^<]+)<\\/a>/gim,\n    callback: function () {\n      return '[$2]($1 \"$2\")';\n    }\n  }, {\n    name: 'image',\n    regex: /<img.*?src\\s*=\\s*['\\\"]([^'\\\"]*?)['\\\"][^>]*?>/gim,\n    callback: function () {\n      return '![]($1)';\n    }\n  }, {\n    name: 'style',\n    regex: /<style\\b[^<]*(?:(?!<\\/style>)<[^<]*)*<\\/style>/gim,\n    callback: function () {\n      return '';\n    }\n  }, {\n    name: 'script',\n    regex: /<script\\b[^<]*(?:(?!<\\/script>)<[^<]*)*<\\/script>/gim,\n    callback: function () {\n      return '';\n    }\n  }, {\n    name: 'html',\n    regex: /<(?:.)*?>/gm,\n    callback: function () {\n      return '';\n    }\n  }],\n  escape: function (html) {\n    return html.replace(/</g, \"&lt;\").replace(/>/g, \"&gt;\"); // .replace(/\"/g, \"&quot;\")\n    // .replace(/'/g, \"&#039;\");\n  },\n  decode: function (str) {\n    return str.replace(/&nbsp;/g, ' ').replace(/&amp;/g, '&').replace(/&gt;/g, '>').replace(/&lt;/g, '<').replace(/&quot;/g, '\"').replace(/&#(\\d+);/g, function (match, dec) {\n      return String.fromCharCode(dec);\n    });\n  },\n  trim: function (str) {\n    return str.replace(/(?:(?:^|\\n)\\s+|\\s+(?:$|\\n))/g, '').replace(/\\s+/g, ' ');\n  },\n  parse: function (html, regexs) {\n    var _t = this;\n\n    if (html && html.length > 0) {\n      if (regexs) {\n        regexs = Array.isArray(regexs) ? regexs : [regexs];\n\n        this._patterns.concat(regexs);\n      }\n\n      this._patterns.forEach(function (p) {\n        var matches = [];\n\n        while (matches = p.regex.exec(html)) {\n          // console.log(matches);\n          if (matches) {\n            var txt = '$1';\n\n            if (p.callback && typeof p.callback === 'function') {\n              txt = p.callback.call(_t, matches);\n            }\n\n            html = html.replace(p.regex, txt);\n          }\n        }\n      });\n    }\n\n    return this.decode(html);\n  }\n};\n\n/***/ }),\n\n/***/ \"./node_modules/marked/src/Lexer.js\":\n/*!******************************************!*\\\n  !*** ./node_modules/marked/src/Lexer.js ***!\n  \\******************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nconst Tokenizer = __webpack_require__(/*! ./Tokenizer.js */ \"./node_modules/marked/src/Tokenizer.js\");\n\nconst {\n  defaults\n} = __webpack_require__(/*! ./defaults.js */ \"./node_modules/marked/src/defaults.js\");\n\nconst {\n  block,\n  inline\n} = __webpack_require__(/*! ./rules.js */ \"./node_modules/marked/src/rules.js\");\n/**\n * smartypants text replacement\n */\n\n\nfunction smartypants(text) {\n  return text // em-dashes\n  .replace(/---/g, '\\u2014') // en-dashes\n  .replace(/--/g, '\\u2013') // opening singles\n  .replace(/(^|[-\\u2014/(\\[{\"\\s])'/g, '$1\\u2018') // closing singles & apostrophes\n  .replace(/'/g, '\\u2019') // opening doubles\n  .replace(/(^|[-\\u2014/(\\[{\\u2018\\s])\"/g, '$1\\u201c') // closing doubles\n  .replace(/\"/g, '\\u201d') // ellipses\n  .replace(/\\.{3}/g, '\\u2026');\n}\n/**\n * mangle email addresses\n */\n\n\nfunction mangle(text) {\n  let out = '',\n      i,\n      ch;\n  const l = text.length;\n\n  for (i = 0; i < l; i++) {\n    ch = text.charCodeAt(i);\n\n    if (Math.random() > 0.5) {\n      ch = 'x' + ch.toString(16);\n    }\n\n    out += '&#' + ch + ';';\n  }\n\n  return out;\n}\n/**\n * Block Lexer\n */\n\n\nmodule.exports = class Lexer {\n  constructor(options) {\n    this.tokens = [];\n    this.tokens.links = Object.create(null);\n    this.options = options || defaults;\n    this.options.tokenizer = this.options.tokenizer || new Tokenizer();\n    this.tokenizer = this.options.tokenizer;\n    this.tokenizer.options = this.options;\n    const rules = {\n      block: block.normal,\n      inline: inline.normal\n    };\n\n    if (this.options.pedantic) {\n      rules.block = block.pedantic;\n      rules.inline = inline.pedantic;\n    } else if (this.options.gfm) {\n      rules.block = block.gfm;\n\n      if (this.options.breaks) {\n        rules.inline = inline.breaks;\n      } else {\n        rules.inline = inline.gfm;\n      }\n    }\n\n    this.tokenizer.rules = rules;\n  }\n  /**\n   * Expose Rules\n   */\n\n\n  static get rules() {\n    return {\n      block,\n      inline\n    };\n  }\n  /**\n   * Static Lex Method\n   */\n\n\n  static lex(src, options) {\n    const lexer = new Lexer(options);\n    return lexer.lex(src);\n  }\n  /**\n   * Preprocessing\n   */\n\n\n  lex(src) {\n    src = src.replace(/\\r\\n|\\r/g, '\\n').replace(/\\t/g, '    ');\n    this.blockTokens(src, this.tokens, true);\n    this.inline(this.tokens);\n    return this.tokens;\n  }\n  /**\n   * Lexing\n   */\n\n\n  blockTokens(src, tokens = [], top = true) {\n    src = src.replace(/^ +$/gm, '');\n    let token, i, l;\n\n    while (src) {\n      // newline\n      if (token = this.tokenizer.space(src)) {\n        src = src.substring(token.raw.length);\n\n        if (token.type) {\n          tokens.push(token);\n        }\n\n        continue;\n      } // code\n\n\n      if (token = this.tokenizer.code(src, tokens)) {\n        src = src.substring(token.raw.length);\n        tokens.push(token);\n        continue;\n      } // fences\n\n\n      if (token = this.tokenizer.fences(src)) {\n        src = src.substring(token.raw.length);\n        tokens.push(token);\n        continue;\n      } // heading\n\n\n      if (token = this.tokenizer.heading(src)) {\n        src = src.substring(token.raw.length);\n        tokens.push(token);\n        continue;\n      } // table no leading pipe (gfm)\n\n\n      if (token = this.tokenizer.nptable(src)) {\n        src = src.substring(token.raw.length);\n        tokens.push(token);\n        continue;\n      } // hr\n\n\n      if (token = this.tokenizer.hr(src)) {\n        src = src.substring(token.raw.length);\n        tokens.push(token);\n        continue;\n      } // blockquote\n\n\n      if (token = this.tokenizer.blockquote(src)) {\n        src = src.substring(token.raw.length);\n        token.tokens = this.blockTokens(token.text, [], top);\n        tokens.push(token);\n        continue;\n      } // list\n\n\n      if (token = this.tokenizer.list(src)) {\n        src = src.substring(token.raw.length);\n        l = token.items.length;\n\n        for (i = 0; i < l; i++) {\n          token.items[i].tokens = this.blockTokens(token.items[i].text, [], false);\n        }\n\n        tokens.push(token);\n        continue;\n      } // html\n\n\n      if (token = this.tokenizer.html(src)) {\n        src = src.substring(token.raw.length);\n        tokens.push(token);\n        continue;\n      } // def\n\n\n      if (top && (token = this.tokenizer.def(src))) {\n        src = src.substring(token.raw.length);\n\n        if (!this.tokens.links[token.tag]) {\n          this.tokens.links[token.tag] = {\n            href: token.href,\n            title: token.title\n          };\n        }\n\n        continue;\n      } // table (gfm)\n\n\n      if (token = this.tokenizer.table(src)) {\n        src = src.substring(token.raw.length);\n        tokens.push(token);\n        continue;\n      } // lheading\n\n\n      if (token = this.tokenizer.lheading(src)) {\n        src = src.substring(token.raw.length);\n        tokens.push(token);\n        continue;\n      } // top-level paragraph\n\n\n      if (top && (token = this.tokenizer.paragraph(src))) {\n        src = src.substring(token.raw.length);\n        tokens.push(token);\n        continue;\n      } // text\n\n\n      if (token = this.tokenizer.text(src)) {\n        src = src.substring(token.raw.length);\n        tokens.push(token);\n        continue;\n      }\n\n      if (src) {\n        const errMsg = 'Infinite loop on byte: ' + src.charCodeAt(0);\n\n        if (this.options.silent) {\n          console.error(errMsg);\n          break;\n        } else {\n          throw new Error(errMsg);\n        }\n      }\n    }\n\n    return tokens;\n  }\n\n  inline(tokens) {\n    let i, j, k, l2, row, token;\n    const l = tokens.length;\n\n    for (i = 0; i < l; i++) {\n      token = tokens[i];\n\n      switch (token.type) {\n        case 'paragraph':\n        case 'text':\n        case 'heading':\n          {\n            token.tokens = [];\n            this.inlineTokens(token.text, token.tokens);\n            break;\n          }\n\n        case 'table':\n          {\n            token.tokens = {\n              header: [],\n              cells: []\n            }; // header\n\n            l2 = token.header.length;\n\n            for (j = 0; j < l2; j++) {\n              token.tokens.header[j] = [];\n              this.inlineTokens(token.header[j], token.tokens.header[j]);\n            } // cells\n\n\n            l2 = token.cells.length;\n\n            for (j = 0; j < l2; j++) {\n              row = token.cells[j];\n              token.tokens.cells[j] = [];\n\n              for (k = 0; k < row.length; k++) {\n                token.tokens.cells[j][k] = [];\n                this.inlineTokens(row[k], token.tokens.cells[j][k]);\n              }\n            }\n\n            break;\n          }\n\n        case 'blockquote':\n          {\n            this.inline(token.tokens);\n            break;\n          }\n\n        case 'list':\n          {\n            l2 = token.items.length;\n\n            for (j = 0; j < l2; j++) {\n              this.inline(token.items[j].tokens);\n            }\n\n            break;\n          }\n\n        default:\n          {// do nothing\n          }\n      }\n    }\n\n    return tokens;\n  }\n  /**\n   * Lexing/Compiling\n   */\n\n\n  inlineTokens(src, tokens = [], inLink = false, inRawBlock = false) {\n    let token;\n\n    while (src) {\n      // escape\n      if (token = this.tokenizer.escape(src)) {\n        src = src.substring(token.raw.length);\n        tokens.push(token);\n        continue;\n      } // tag\n\n\n      if (token = this.tokenizer.tag(src, inLink, inRawBlock)) {\n        src = src.substring(token.raw.length);\n        inLink = token.inLink;\n        inRawBlock = token.inRawBlock;\n        tokens.push(token);\n        continue;\n      } // link\n\n\n      if (token = this.tokenizer.link(src)) {\n        src = src.substring(token.raw.length);\n\n        if (token.type === 'link') {\n          token.tokens = this.inlineTokens(token.text, [], true, inRawBlock);\n        }\n\n        tokens.push(token);\n        continue;\n      } // reflink, nolink\n\n\n      if (token = this.tokenizer.reflink(src, this.tokens.links)) {\n        src = src.substring(token.raw.length);\n\n        if (token.type === 'link') {\n          token.tokens = this.inlineTokens(token.text, [], true, inRawBlock);\n        }\n\n        tokens.push(token);\n        continue;\n      } // strong\n\n\n      if (token = this.tokenizer.strong(src)) {\n        src = src.substring(token.raw.length);\n        token.tokens = this.inlineTokens(token.text, [], inLink, inRawBlock);\n        tokens.push(token);\n        continue;\n      } // em\n\n\n      if (token = this.tokenizer.em(src)) {\n        src = src.substring(token.raw.length);\n        token.tokens = this.inlineTokens(token.text, [], inLink, inRawBlock);\n        tokens.push(token);\n        continue;\n      } // code\n\n\n      if (token = this.tokenizer.codespan(src)) {\n        src = src.substring(token.raw.length);\n        tokens.push(token);\n        continue;\n      } // br\n\n\n      if (token = this.tokenizer.br(src)) {\n        src = src.substring(token.raw.length);\n        tokens.push(token);\n        continue;\n      } // del (gfm)\n\n\n      if (token = this.tokenizer.del(src)) {\n        src = src.substring(token.raw.length);\n        token.tokens = this.inlineTokens(token.text, [], inLink, inRawBlock);\n        tokens.push(token);\n        continue;\n      } // autolink\n\n\n      if (token = this.tokenizer.autolink(src, mangle)) {\n        src = src.substring(token.raw.length);\n        tokens.push(token);\n        continue;\n      } // url (gfm)\n\n\n      if (!inLink && (token = this.tokenizer.url(src, mangle))) {\n        src = src.substring(token.raw.length);\n        tokens.push(token);\n        continue;\n      } // text\n\n\n      if (token = this.tokenizer.inlineText(src, inRawBlock, smartypants)) {\n        src = src.substring(token.raw.length);\n        tokens.push(token);\n        continue;\n      }\n\n      if (src) {\n        const errMsg = 'Infinite loop on byte: ' + src.charCodeAt(0);\n\n        if (this.options.silent) {\n          console.error(errMsg);\n          break;\n        } else {\n          throw new Error(errMsg);\n        }\n      }\n    }\n\n    return tokens;\n  }\n\n};\n\n/***/ }),\n\n/***/ \"./node_modules/marked/src/Parser.js\":\n/*!*******************************************!*\\\n  !*** ./node_modules/marked/src/Parser.js ***!\n  \\*******************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nconst Renderer = __webpack_require__(/*! ./Renderer.js */ \"./node_modules/marked/src/Renderer.js\");\n\nconst TextRenderer = __webpack_require__(/*! ./TextRenderer.js */ \"./node_modules/marked/src/TextRenderer.js\");\n\nconst Slugger = __webpack_require__(/*! ./Slugger.js */ \"./node_modules/marked/src/Slugger.js\");\n\nconst {\n  defaults\n} = __webpack_require__(/*! ./defaults.js */ \"./node_modules/marked/src/defaults.js\");\n\nconst {\n  unescape\n} = __webpack_require__(/*! ./helpers.js */ \"./node_modules/marked/src/helpers.js\");\n/**\n * Parsing & Compiling\n */\n\n\nmodule.exports = class Parser {\n  constructor(options) {\n    this.options = options || defaults;\n    this.options.renderer = this.options.renderer || new Renderer();\n    this.renderer = this.options.renderer;\n    this.renderer.options = this.options;\n    this.textRenderer = new TextRenderer();\n    this.slugger = new Slugger();\n  }\n  /**\n   * Static Parse Method\n   */\n\n\n  static parse(tokens, options) {\n    const parser = new Parser(options);\n    return parser.parse(tokens);\n  }\n  /**\n   * Parse Loop\n   */\n\n\n  parse(tokens, top = true) {\n    let out = '',\n        i,\n        j,\n        k,\n        l2,\n        l3,\n        row,\n        cell,\n        header,\n        body,\n        token,\n        ordered,\n        start,\n        loose,\n        itemBody,\n        item,\n        checked,\n        task,\n        checkbox;\n    const l = tokens.length;\n\n    for (i = 0; i < l; i++) {\n      token = tokens[i];\n\n      switch (token.type) {\n        case 'space':\n          {\n            continue;\n          }\n\n        case 'hr':\n          {\n            out += this.renderer.hr();\n            continue;\n          }\n\n        case 'heading':\n          {\n            out += this.renderer.heading(this.parseInline(token.tokens), token.depth, unescape(this.parseInline(token.tokens, this.textRenderer)), this.slugger);\n            continue;\n          }\n\n        case 'code':\n          {\n            out += this.renderer.code(token.text, token.lang, token.escaped);\n            continue;\n          }\n\n        case 'table':\n          {\n            header = ''; // header\n\n            cell = '';\n            l2 = token.header.length;\n\n            for (j = 0; j < l2; j++) {\n              cell += this.renderer.tablecell(this.parseInline(token.tokens.header[j]), {\n                header: true,\n                align: token.align[j]\n              });\n            }\n\n            header += this.renderer.tablerow(cell);\n            body = '';\n            l2 = token.cells.length;\n\n            for (j = 0; j < l2; j++) {\n              row = token.tokens.cells[j];\n              cell = '';\n              l3 = row.length;\n\n              for (k = 0; k < l3; k++) {\n                cell += this.renderer.tablecell(this.parseInline(row[k]), {\n                  header: false,\n                  align: token.align[k]\n                });\n              }\n\n              body += this.renderer.tablerow(cell);\n            }\n\n            out += this.renderer.table(header, body);\n            continue;\n          }\n\n        case 'blockquote':\n          {\n            body = this.parse(token.tokens);\n            out += this.renderer.blockquote(body);\n            continue;\n          }\n\n        case 'list':\n          {\n            ordered = token.ordered;\n            start = token.start;\n            loose = token.loose;\n            l2 = token.items.length;\n            body = '';\n\n            for (j = 0; j < l2; j++) {\n              item = token.items[j];\n              checked = item.checked;\n              task = item.task;\n              itemBody = '';\n\n              if (item.task) {\n                checkbox = this.renderer.checkbox(checked);\n\n                if (loose) {\n                  if (item.tokens[0].type === 'text') {\n                    item.tokens[0].text = checkbox + ' ' + item.tokens[0].text;\n\n                    if (item.tokens[0].tokens && item.tokens[0].tokens.length > 0 && item.tokens[0].tokens[0].type === 'text') {\n                      item.tokens[0].tokens[0].text = checkbox + ' ' + item.tokens[0].tokens[0].text;\n                    }\n                  } else {\n                    item.tokens.unshift({\n                      type: 'text',\n                      text: checkbox\n                    });\n                  }\n                } else {\n                  itemBody += checkbox;\n                }\n              }\n\n              itemBody += this.parse(item.tokens, loose);\n              body += this.renderer.listitem(itemBody, task, checked);\n            }\n\n            out += this.renderer.list(body, ordered, start);\n            continue;\n          }\n\n        case 'html':\n          {\n            // TODO parse inline content if parameter markdown=1\n            out += this.renderer.html(token.text);\n            continue;\n          }\n\n        case 'paragraph':\n          {\n            out += this.renderer.paragraph(this.parseInline(token.tokens));\n            continue;\n          }\n\n        case 'text':\n          {\n            body = token.tokens ? this.parseInline(token.tokens) : token.text;\n\n            while (i + 1 < l && tokens[i + 1].type === 'text') {\n              token = tokens[++i];\n              body += '\\n' + (token.tokens ? this.parseInline(token.tokens) : token.text);\n            }\n\n            out += top ? this.renderer.paragraph(body) : body;\n            continue;\n          }\n\n        default:\n          {\n            const errMsg = 'Token with \"' + token.type + '\" type was not found.';\n\n            if (this.options.silent) {\n              console.error(errMsg);\n              return;\n            } else {\n              throw new Error(errMsg);\n            }\n          }\n      }\n    }\n\n    return out;\n  }\n  /**\n   * Parse Inline Tokens\n   */\n\n\n  parseInline(tokens, renderer) {\n    renderer = renderer || this.renderer;\n    let out = '',\n        i,\n        token;\n    const l = tokens.length;\n\n    for (i = 0; i < l; i++) {\n      token = tokens[i];\n\n      switch (token.type) {\n        case 'escape':\n          {\n            out += renderer.text(token.text);\n            break;\n          }\n\n        case 'html':\n          {\n            out += renderer.html(token.text);\n            break;\n          }\n\n        case 'link':\n          {\n            out += renderer.link(token.href, token.title, this.parseInline(token.tokens, renderer));\n            break;\n          }\n\n        case 'image':\n          {\n            out += renderer.image(token.href, token.title, token.text);\n            break;\n          }\n\n        case 'strong':\n          {\n            out += renderer.strong(this.parseInline(token.tokens, renderer));\n            break;\n          }\n\n        case 'em':\n          {\n            out += renderer.em(this.parseInline(token.tokens, renderer));\n            break;\n          }\n\n        case 'codespan':\n          {\n            out += renderer.codespan(token.text);\n            break;\n          }\n\n        case 'br':\n          {\n            out += renderer.br();\n            break;\n          }\n\n        case 'del':\n          {\n            out += renderer.del(this.parseInline(token.tokens, renderer));\n            break;\n          }\n\n        case 'text':\n          {\n            out += renderer.text(token.text);\n            break;\n          }\n\n        default:\n          {\n            const errMsg = 'Token with \"' + token.type + '\" type was not found.';\n\n            if (this.options.silent) {\n              console.error(errMsg);\n              return;\n            } else {\n              throw new Error(errMsg);\n            }\n          }\n      }\n    }\n\n    return out;\n  }\n\n};\n\n/***/ }),\n\n/***/ \"./node_modules/marked/src/Renderer.js\":\n/*!*********************************************!*\\\n  !*** ./node_modules/marked/src/Renderer.js ***!\n  \\*********************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nconst {\n  defaults\n} = __webpack_require__(/*! ./defaults.js */ \"./node_modules/marked/src/defaults.js\");\n\nconst {\n  cleanUrl,\n  escape\n} = __webpack_require__(/*! ./helpers.js */ \"./node_modules/marked/src/helpers.js\");\n/**\n * Renderer\n */\n\n\nmodule.exports = class Renderer {\n  constructor(options) {\n    this.options = options || defaults;\n  }\n\n  code(code, infostring, escaped) {\n    const lang = (infostring || '').match(/\\S*/)[0];\n\n    if (this.options.highlight) {\n      const out = this.options.highlight(code, lang);\n\n      if (out != null && out !== code) {\n        escaped = true;\n        code = out;\n      }\n    }\n\n    if (!lang) {\n      return '<pre><code>' + (escaped ? code : escape(code, true)) + '</code></pre>';\n    }\n\n    return '<pre><code class=\"' + this.options.langPrefix + escape(lang, true) + '\">' + (escaped ? code : escape(code, true)) + '</code></pre>\\n';\n  }\n\n  blockquote(quote) {\n    return '<blockquote>\\n' + quote + '</blockquote>\\n';\n  }\n\n  html(html) {\n    return html;\n  }\n\n  heading(text, level, raw, slugger) {\n    if (this.options.headerIds) {\n      return '<h' + level + ' id=\"' + this.options.headerPrefix + slugger.slug(raw) + '\">' + text + '</h' + level + '>\\n';\n    } // ignore IDs\n\n\n    return '<h' + level + '>' + text + '</h' + level + '>\\n';\n  }\n\n  hr() {\n    return this.options.xhtml ? '<hr/>\\n' : '<hr>\\n';\n  }\n\n  list(body, ordered, start) {\n    const type = ordered ? 'ol' : 'ul',\n          startatt = ordered && start !== 1 ? ' start=\"' + start + '\"' : '';\n    return '<' + type + startatt + '>\\n' + body + '</' + type + '>\\n';\n  }\n\n  listitem(text) {\n    return '<li>' + text + '</li>\\n';\n  }\n\n  checkbox(checked) {\n    return '<input ' + (checked ? 'checked=\"\" ' : '') + 'disabled=\"\" type=\"checkbox\"' + (this.options.xhtml ? ' /' : '') + '> ';\n  }\n\n  paragraph(text) {\n    return '<p>' + text + '</p>\\n';\n  }\n\n  table(header, body) {\n    if (body) body = '<tbody>' + body + '</tbody>';\n    return '<table>\\n' + '<thead>\\n' + header + '</thead>\\n' + body + '</table>\\n';\n  }\n\n  tablerow(content) {\n    return '<tr>\\n' + content + '</tr>\\n';\n  }\n\n  tablecell(content, flags) {\n    const type = flags.header ? 'th' : 'td';\n    const tag = flags.align ? '<' + type + ' align=\"' + flags.align + '\">' : '<' + type + '>';\n    return tag + content + '</' + type + '>\\n';\n  } // span level renderer\n\n\n  strong(text) {\n    return '<strong>' + text + '</strong>';\n  }\n\n  em(text) {\n    return '<em>' + text + '</em>';\n  }\n\n  codespan(text) {\n    return '<code>' + text + '</code>';\n  }\n\n  br() {\n    return this.options.xhtml ? '<br/>' : '<br>';\n  }\n\n  del(text) {\n    return '<del>' + text + '</del>';\n  }\n\n  link(href, title, text) {\n    href = cleanUrl(this.options.sanitize, this.options.baseUrl, href);\n\n    if (href === null) {\n      return text;\n    }\n\n    let out = '<a href=\"' + escape(href) + '\"';\n\n    if (title) {\n      out += ' title=\"' + title + '\"';\n    }\n\n    out += '>' + text + '</a>';\n    return out;\n  }\n\n  image(href, title, text) {\n    href = cleanUrl(this.options.sanitize, this.options.baseUrl, href);\n\n    if (href === null) {\n      return text;\n    }\n\n    let out = '<img src=\"' + href + '\" alt=\"' + text + '\"';\n\n    if (title) {\n      out += ' title=\"' + title + '\"';\n    }\n\n    out += this.options.xhtml ? '/>' : '>';\n    return out;\n  }\n\n  text(text) {\n    return text;\n  }\n\n};\n\n/***/ }),\n\n/***/ \"./node_modules/marked/src/Slugger.js\":\n/*!********************************************!*\\\n  !*** ./node_modules/marked/src/Slugger.js ***!\n  \\********************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\n/**\n * Slugger generates header id\n */\nmodule.exports = class Slugger {\n  constructor() {\n    this.seen = {};\n  }\n  /**\n   * Convert string to unique id\n   */\n\n\n  slug(value) {\n    let slug = value.toLowerCase().trim() // remove html tags\n    .replace(/<[!\\/a-z].*?>/ig, '') // remove unwanted chars\n    .replace(/[\\u2000-\\u206F\\u2E00-\\u2E7F\\\\'!\"#$%&()*+,./:;<=>?@[\\]^`{|}~]/g, '').replace(/\\s/g, '-');\n\n    if (this.seen.hasOwnProperty(slug)) {\n      const originalSlug = slug;\n\n      do {\n        this.seen[originalSlug]++;\n        slug = originalSlug + '-' + this.seen[originalSlug];\n      } while (this.seen.hasOwnProperty(slug));\n    }\n\n    this.seen[slug] = 0;\n    return slug;\n  }\n\n};\n\n/***/ }),\n\n/***/ \"./node_modules/marked/src/TextRenderer.js\":\n/*!*************************************************!*\\\n  !*** ./node_modules/marked/src/TextRenderer.js ***!\n  \\*************************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\n/**\n * TextRenderer\n * returns only the textual part of the token\n */\nmodule.exports = class TextRenderer {\n  // no need for block level renderers\n  strong(text) {\n    return text;\n  }\n\n  em(text) {\n    return text;\n  }\n\n  codespan(text) {\n    return text;\n  }\n\n  del(text) {\n    return text;\n  }\n\n  html(text) {\n    return text;\n  }\n\n  text(text) {\n    return text;\n  }\n\n  link(href, title, text) {\n    return '' + text;\n  }\n\n  image(href, title, text) {\n    return '' + text;\n  }\n\n  br() {\n    return '';\n  }\n\n};\n\n/***/ }),\n\n/***/ \"./node_modules/marked/src/Tokenizer.js\":\n/*!**********************************************!*\\\n  !*** ./node_modules/marked/src/Tokenizer.js ***!\n  \\**********************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nconst {\n  defaults\n} = __webpack_require__(/*! ./defaults.js */ \"./node_modules/marked/src/defaults.js\");\n\nconst {\n  rtrim,\n  splitCells,\n  escape,\n  findClosingBracket\n} = __webpack_require__(/*! ./helpers.js */ \"./node_modules/marked/src/helpers.js\");\n\nfunction outputLink(cap, link, raw) {\n  const href = link.href;\n  const title = link.title ? escape(link.title) : null;\n\n  if (cap[0].charAt(0) !== '!') {\n    return {\n      type: 'link',\n      raw,\n      href,\n      title,\n      text: cap[1]\n    };\n  } else {\n    return {\n      type: 'image',\n      raw,\n      text: escape(cap[1]),\n      href,\n      title\n    };\n  }\n}\n/**\n * Tokenizer\n */\n\n\nmodule.exports = class Tokenizer {\n  constructor(options) {\n    this.options = options || defaults;\n  }\n\n  space(src) {\n    const cap = this.rules.block.newline.exec(src);\n\n    if (cap) {\n      if (cap[0].length > 1) {\n        return {\n          type: 'space',\n          raw: cap[0]\n        };\n      }\n\n      return {\n        raw: '\\n'\n      };\n    }\n  }\n\n  code(src, tokens) {\n    const cap = this.rules.block.code.exec(src);\n\n    if (cap) {\n      const lastToken = tokens[tokens.length - 1]; // An indented code block cannot interrupt a paragraph.\n\n      if (lastToken && lastToken.type === 'paragraph') {\n        tokens.pop();\n        lastToken.text += '\\n' + cap[0].trimRight();\n        lastToken.raw += '\\n' + cap[0];\n        return lastToken;\n      } else {\n        const text = cap[0].replace(/^ {4}/gm, '');\n        return {\n          type: 'code',\n          raw: cap[0],\n          codeBlockStyle: 'indented',\n          text: !this.options.pedantic ? rtrim(text, '\\n') : text\n        };\n      }\n    }\n  }\n\n  fences(src) {\n    const cap = this.rules.block.fences.exec(src);\n\n    if (cap) {\n      return {\n        type: 'code',\n        raw: cap[0],\n        lang: cap[2] ? cap[2].trim() : cap[2],\n        text: cap[3] || ''\n      };\n    }\n  }\n\n  heading(src) {\n    const cap = this.rules.block.heading.exec(src);\n\n    if (cap) {\n      return {\n        type: 'heading',\n        raw: cap[0],\n        depth: cap[1].length,\n        text: cap[2]\n      };\n    }\n  }\n\n  nptable(src) {\n    const cap = this.rules.block.nptable.exec(src);\n\n    if (cap) {\n      const item = {\n        type: 'table',\n        header: splitCells(cap[1].replace(/^ *| *\\| *$/g, '')),\n        align: cap[2].replace(/^ *|\\| *$/g, '').split(/ *\\| */),\n        cells: cap[3] ? cap[3].replace(/\\n$/, '').split('\\n') : [],\n        raw: cap[0]\n      };\n\n      if (item.header.length === item.align.length) {\n        let l = item.align.length;\n        let i;\n\n        for (i = 0; i < l; i++) {\n          if (/^ *-+: *$/.test(item.align[i])) {\n            item.align[i] = 'right';\n          } else if (/^ *:-+: *$/.test(item.align[i])) {\n            item.align[i] = 'center';\n          } else if (/^ *:-+ *$/.test(item.align[i])) {\n            item.align[i] = 'left';\n          } else {\n            item.align[i] = null;\n          }\n        }\n\n        l = item.cells.length;\n\n        for (i = 0; i < l; i++) {\n          item.cells[i] = splitCells(item.cells[i], item.header.length);\n        }\n\n        return item;\n      }\n    }\n  }\n\n  hr(src) {\n    const cap = this.rules.block.hr.exec(src);\n\n    if (cap) {\n      return {\n        type: 'hr',\n        raw: cap[0]\n      };\n    }\n  }\n\n  blockquote(src) {\n    const cap = this.rules.block.blockquote.exec(src);\n\n    if (cap) {\n      const text = cap[0].replace(/^ *> ?/gm, '');\n      return {\n        type: 'blockquote',\n        raw: cap[0],\n        text\n      };\n    }\n  }\n\n  list(src) {\n    const cap = this.rules.block.list.exec(src);\n\n    if (cap) {\n      let raw = cap[0];\n      const bull = cap[2];\n      const isordered = bull.length > 1;\n      const list = {\n        type: 'list',\n        raw,\n        ordered: isordered,\n        start: isordered ? +bull : '',\n        loose: false,\n        items: []\n      }; // Get each top-level item.\n\n      const itemMatch = cap[0].match(this.rules.block.item);\n      let next = false,\n          item,\n          space,\n          b,\n          addBack,\n          loose,\n          istask,\n          ischecked;\n      const l = itemMatch.length;\n\n      for (let i = 0; i < l; i++) {\n        item = itemMatch[i];\n        raw = item; // Remove the list item's bullet\n        // so it is seen as the next token.\n\n        space = item.length;\n        item = item.replace(/^ *([*+-]|\\d+\\.) */, ''); // Outdent whatever the\n        // list item contains. Hacky.\n\n        if (~item.indexOf('\\n ')) {\n          space -= item.length;\n          item = !this.options.pedantic ? item.replace(new RegExp('^ {1,' + space + '}', 'gm'), '') : item.replace(/^ {1,4}/gm, '');\n        } // Determine whether the next list item belongs here.\n        // Backpedal if it does not belong in this list.\n\n\n        if (i !== l - 1) {\n          b = this.rules.block.bullet.exec(itemMatch[i + 1])[0];\n\n          if (bull.length > 1 ? b.length === 1 : b.length > 1 || this.options.smartLists && b !== bull) {\n            addBack = itemMatch.slice(i + 1).join('\\n');\n            list.raw = list.raw.substring(0, list.raw.length - addBack.length);\n            i = l - 1;\n          }\n        } // Determine whether item is loose or not.\n        // Use: /(^|\\n)(?! )[^\\n]+\\n\\n(?!\\s*$)/\n        // for discount behavior.\n\n\n        loose = next || /\\n\\n(?!\\s*$)/.test(item);\n\n        if (i !== l - 1) {\n          next = item.charAt(item.length - 1) === '\\n';\n          if (!loose) loose = next;\n        }\n\n        if (loose) {\n          list.loose = true;\n        } // Check for task list items\n\n\n        istask = /^\\[[ xX]\\] /.test(item);\n        ischecked = undefined;\n\n        if (istask) {\n          ischecked = item[1] !== ' ';\n          item = item.replace(/^\\[[ xX]\\] +/, '');\n        }\n\n        list.items.push({\n          raw,\n          task: istask,\n          checked: ischecked,\n          loose: loose,\n          text: item\n        });\n      }\n\n      return list;\n    }\n  }\n\n  html(src) {\n    const cap = this.rules.block.html.exec(src);\n\n    if (cap) {\n      return {\n        type: this.options.sanitize ? 'paragraph' : 'html',\n        raw: cap[0],\n        pre: !this.options.sanitizer && (cap[1] === 'pre' || cap[1] === 'script' || cap[1] === 'style'),\n        text: this.options.sanitize ? this.options.sanitizer ? this.options.sanitizer(cap[0]) : escape(cap[0]) : cap[0]\n      };\n    }\n  }\n\n  def(src) {\n    const cap = this.rules.block.def.exec(src);\n\n    if (cap) {\n      if (cap[3]) cap[3] = cap[3].substring(1, cap[3].length - 1);\n      const tag = cap[1].toLowerCase().replace(/\\s+/g, ' ');\n      return {\n        tag,\n        raw: cap[0],\n        href: cap[2],\n        title: cap[3]\n      };\n    }\n  }\n\n  table(src) {\n    const cap = this.rules.block.table.exec(src);\n\n    if (cap) {\n      const item = {\n        type: 'table',\n        header: splitCells(cap[1].replace(/^ *| *\\| *$/g, '')),\n        align: cap[2].replace(/^ *|\\| *$/g, '').split(/ *\\| */),\n        cells: cap[3] ? cap[3].replace(/\\n$/, '').split('\\n') : []\n      };\n\n      if (item.header.length === item.align.length) {\n        item.raw = cap[0];\n        let l = item.align.length;\n        let i;\n\n        for (i = 0; i < l; i++) {\n          if (/^ *-+: *$/.test(item.align[i])) {\n            item.align[i] = 'right';\n          } else if (/^ *:-+: *$/.test(item.align[i])) {\n            item.align[i] = 'center';\n          } else if (/^ *:-+ *$/.test(item.align[i])) {\n            item.align[i] = 'left';\n          } else {\n            item.align[i] = null;\n          }\n        }\n\n        l = item.cells.length;\n\n        for (i = 0; i < l; i++) {\n          item.cells[i] = splitCells(item.cells[i].replace(/^ *\\| *| *\\| *$/g, ''), item.header.length);\n        }\n\n        return item;\n      }\n    }\n  }\n\n  lheading(src) {\n    const cap = this.rules.block.lheading.exec(src);\n\n    if (cap) {\n      return {\n        type: 'heading',\n        raw: cap[0],\n        depth: cap[2].charAt(0) === '=' ? 1 : 2,\n        text: cap[1]\n      };\n    }\n  }\n\n  paragraph(src) {\n    const cap = this.rules.block.paragraph.exec(src);\n\n    if (cap) {\n      return {\n        type: 'paragraph',\n        raw: cap[0],\n        text: cap[1].charAt(cap[1].length - 1) === '\\n' ? cap[1].slice(0, -1) : cap[1]\n      };\n    }\n  }\n\n  text(src) {\n    const cap = this.rules.block.text.exec(src);\n\n    if (cap) {\n      return {\n        type: 'text',\n        raw: cap[0],\n        text: cap[0]\n      };\n    }\n  }\n\n  escape(src) {\n    const cap = this.rules.inline.escape.exec(src);\n\n    if (cap) {\n      return {\n        type: 'escape',\n        raw: cap[0],\n        text: escape(cap[1])\n      };\n    }\n  }\n\n  tag(src, inLink, inRawBlock) {\n    const cap = this.rules.inline.tag.exec(src);\n\n    if (cap) {\n      if (!inLink && /^<a /i.test(cap[0])) {\n        inLink = true;\n      } else if (inLink && /^<\\/a>/i.test(cap[0])) {\n        inLink = false;\n      }\n\n      if (!inRawBlock && /^<(pre|code|kbd|script)(\\s|>)/i.test(cap[0])) {\n        inRawBlock = true;\n      } else if (inRawBlock && /^<\\/(pre|code|kbd|script)(\\s|>)/i.test(cap[0])) {\n        inRawBlock = false;\n      }\n\n      return {\n        type: this.options.sanitize ? 'text' : 'html',\n        raw: cap[0],\n        inLink,\n        inRawBlock,\n        text: this.options.sanitize ? this.options.sanitizer ? this.options.sanitizer(cap[0]) : escape(cap[0]) : cap[0]\n      };\n    }\n  }\n\n  link(src) {\n    const cap = this.rules.inline.link.exec(src);\n\n    if (cap) {\n      const lastParenIndex = findClosingBracket(cap[2], '()');\n\n      if (lastParenIndex > -1) {\n        const start = cap[0].indexOf('!') === 0 ? 5 : 4;\n        const linkLen = start + cap[1].length + lastParenIndex;\n        cap[2] = cap[2].substring(0, lastParenIndex);\n        cap[0] = cap[0].substring(0, linkLen).trim();\n        cap[3] = '';\n      }\n\n      let href = cap[2];\n      let title = '';\n\n      if (this.options.pedantic) {\n        const link = /^([^'\"]*[^\\s])\\s+(['\"])(.*)\\2/.exec(href);\n\n        if (link) {\n          href = link[1];\n          title = link[3];\n        } else {\n          title = '';\n        }\n      } else {\n        title = cap[3] ? cap[3].slice(1, -1) : '';\n      }\n\n      href = href.trim().replace(/^<([\\s\\S]*)>$/, '$1');\n      const token = outputLink(cap, {\n        href: href ? href.replace(this.rules.inline._escapes, '$1') : href,\n        title: title ? title.replace(this.rules.inline._escapes, '$1') : title\n      }, cap[0]);\n      return token;\n    }\n  }\n\n  reflink(src, links) {\n    let cap;\n\n    if ((cap = this.rules.inline.reflink.exec(src)) || (cap = this.rules.inline.nolink.exec(src))) {\n      let link = (cap[2] || cap[1]).replace(/\\s+/g, ' ');\n      link = links[link.toLowerCase()];\n\n      if (!link || !link.href) {\n        const text = cap[0].charAt(0);\n        return {\n          type: 'text',\n          raw: text,\n          text\n        };\n      }\n\n      const token = outputLink(cap, link, cap[0]);\n      return token;\n    }\n  }\n\n  strong(src) {\n    const cap = this.rules.inline.strong.exec(src);\n\n    if (cap) {\n      return {\n        type: 'strong',\n        raw: cap[0],\n        text: cap[4] || cap[3] || cap[2] || cap[1]\n      };\n    }\n  }\n\n  em(src) {\n    const cap = this.rules.inline.em.exec(src);\n\n    if (cap) {\n      return {\n        type: 'em',\n        raw: cap[0],\n        text: cap[6] || cap[5] || cap[4] || cap[3] || cap[2] || cap[1]\n      };\n    }\n  }\n\n  codespan(src) {\n    const cap = this.rules.inline.code.exec(src);\n\n    if (cap) {\n      return {\n        type: 'codespan',\n        raw: cap[0],\n        text: escape(cap[2].trim(), true)\n      };\n    }\n  }\n\n  br(src) {\n    const cap = this.rules.inline.br.exec(src);\n\n    if (cap) {\n      return {\n        type: 'br',\n        raw: cap[0]\n      };\n    }\n  }\n\n  del(src) {\n    const cap = this.rules.inline.del.exec(src);\n\n    if (cap) {\n      return {\n        type: 'del',\n        raw: cap[0],\n        text: cap[1]\n      };\n    }\n  }\n\n  autolink(src, mangle) {\n    const cap = this.rules.inline.autolink.exec(src);\n\n    if (cap) {\n      let text, href;\n\n      if (cap[2] === '@') {\n        text = escape(this.options.mangle ? mangle(cap[1]) : cap[1]);\n        href = 'mailto:' + text;\n      } else {\n        text = escape(cap[1]);\n        href = text;\n      }\n\n      return {\n        type: 'link',\n        raw: cap[0],\n        text,\n        href,\n        tokens: [{\n          type: 'text',\n          raw: text,\n          text\n        }]\n      };\n    }\n  }\n\n  url(src, mangle) {\n    let cap;\n\n    if (cap = this.rules.inline.url.exec(src)) {\n      let text, href;\n\n      if (cap[2] === '@') {\n        text = escape(this.options.mangle ? mangle(cap[0]) : cap[0]);\n        href = 'mailto:' + text;\n      } else {\n        // do extended autolink path validation\n        let prevCapZero;\n\n        do {\n          prevCapZero = cap[0];\n          cap[0] = this.rules.inline._backpedal.exec(cap[0])[0];\n        } while (prevCapZero !== cap[0]);\n\n        text = escape(cap[0]);\n\n        if (cap[1] === 'www.') {\n          href = 'http://' + text;\n        } else {\n          href = text;\n        }\n      }\n\n      return {\n        type: 'link',\n        raw: cap[0],\n        text,\n        href,\n        tokens: [{\n          type: 'text',\n          raw: text,\n          text\n        }]\n      };\n    }\n  }\n\n  inlineText(src, inRawBlock, smartypants) {\n    const cap = this.rules.inline.text.exec(src);\n\n    if (cap) {\n      let text;\n\n      if (inRawBlock) {\n        text = this.options.sanitize ? this.options.sanitizer ? this.options.sanitizer(cap[0]) : escape(cap[0]) : cap[0];\n      } else {\n        text = escape(this.options.smartypants ? smartypants(cap[0]) : cap[0]);\n      }\n\n      return {\n        type: 'text',\n        raw: cap[0],\n        text\n      };\n    }\n  }\n\n};\n\n/***/ }),\n\n/***/ \"./node_modules/marked/src/defaults.js\":\n/*!*********************************************!*\\\n  !*** ./node_modules/marked/src/defaults.js ***!\n  \\*********************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\nfunction getDefaults() {\n  return {\n    baseUrl: null,\n    breaks: false,\n    gfm: true,\n    headerIds: true,\n    headerPrefix: '',\n    highlight: null,\n    langPrefix: 'language-',\n    mangle: true,\n    pedantic: false,\n    renderer: null,\n    sanitize: false,\n    sanitizer: null,\n    silent: false,\n    smartLists: false,\n    smartypants: false,\n    tokenizer: null,\n    xhtml: false\n  };\n}\n\nfunction changeDefaults(newDefaults) {\n  module.exports.defaults = newDefaults;\n}\n\nmodule.exports = {\n  defaults: getDefaults(),\n  getDefaults,\n  changeDefaults\n};\n\n/***/ }),\n\n/***/ \"./node_modules/marked/src/helpers.js\":\n/*!********************************************!*\\\n  !*** ./node_modules/marked/src/helpers.js ***!\n  \\********************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\n/**\n * Helpers\n */\nconst escapeTest = /[&<>\"']/;\nconst escapeReplace = /[&<>\"']/g;\nconst escapeTestNoEncode = /[<>\"']|&(?!#?\\w+;)/;\nconst escapeReplaceNoEncode = /[<>\"']|&(?!#?\\w+;)/g;\nconst escapeReplacements = {\n  '&': '&amp;',\n  '<': '&lt;',\n  '>': '&gt;',\n  '\"': '&quot;',\n  \"'\": '&#39;'\n};\n\nconst getEscapeReplacement = ch => escapeReplacements[ch];\n\nfunction escape(html, encode) {\n  if (encode) {\n    if (escapeTest.test(html)) {\n      return html.replace(escapeReplace, getEscapeReplacement);\n    }\n  } else {\n    if (escapeTestNoEncode.test(html)) {\n      return html.replace(escapeReplaceNoEncode, getEscapeReplacement);\n    }\n  }\n\n  return html;\n}\n\nconst unescapeTest = /&(#(?:\\d+)|(?:#x[0-9A-Fa-f]+)|(?:\\w+));?/ig;\n\nfunction unescape(html) {\n  // explicitly match decimal, hex, and named HTML entities\n  return html.replace(unescapeTest, (_, n) => {\n    n = n.toLowerCase();\n    if (n === 'colon') return ':';\n\n    if (n.charAt(0) === '#') {\n      return n.charAt(1) === 'x' ? String.fromCharCode(parseInt(n.substring(2), 16)) : String.fromCharCode(+n.substring(1));\n    }\n\n    return '';\n  });\n}\n\nconst caret = /(^|[^\\[])\\^/g;\n\nfunction edit(regex, opt) {\n  regex = regex.source || regex;\n  opt = opt || '';\n  const obj = {\n    replace: (name, val) => {\n      val = val.source || val;\n      val = val.replace(caret, '$1');\n      regex = regex.replace(name, val);\n      return obj;\n    },\n    getRegex: () => {\n      return new RegExp(regex, opt);\n    }\n  };\n  return obj;\n}\n\nconst nonWordAndColonTest = /[^\\w:]/g;\nconst originIndependentUrl = /^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;\n\nfunction cleanUrl(sanitize, base, href) {\n  if (sanitize) {\n    let prot;\n\n    try {\n      prot = decodeURIComponent(unescape(href)).replace(nonWordAndColonTest, '').toLowerCase();\n    } catch (e) {\n      return null;\n    }\n\n    if (prot.indexOf('javascript:') === 0 || prot.indexOf('vbscript:') === 0 || prot.indexOf('data:') === 0) {\n      return null;\n    }\n  }\n\n  if (base && !originIndependentUrl.test(href)) {\n    href = resolveUrl(base, href);\n  }\n\n  try {\n    href = encodeURI(href).replace(/%25/g, '%');\n  } catch (e) {\n    return null;\n  }\n\n  return href;\n}\n\nconst baseUrls = {};\nconst justDomain = /^[^:]+:\\/*[^/]*$/;\nconst protocol = /^([^:]+:)[\\s\\S]*$/;\nconst domain = /^([^:]+:\\/*[^/]*)[\\s\\S]*$/;\n\nfunction resolveUrl(base, href) {\n  if (!baseUrls[' ' + base]) {\n    // we can ignore everything in base after the last slash of its path component,\n    // but we might need to add _that_\n    // https://tools.ietf.org/html/rfc3986#section-3\n    if (justDomain.test(base)) {\n      baseUrls[' ' + base] = base + '/';\n    } else {\n      baseUrls[' ' + base] = rtrim(base, '/', true);\n    }\n  }\n\n  base = baseUrls[' ' + base];\n  const relativeBase = base.indexOf(':') === -1;\n\n  if (href.substring(0, 2) === '//') {\n    if (relativeBase) {\n      return href;\n    }\n\n    return base.replace(protocol, '$1') + href;\n  } else if (href.charAt(0) === '/') {\n    if (relativeBase) {\n      return href;\n    }\n\n    return base.replace(domain, '$1') + href;\n  } else {\n    return base + href;\n  }\n}\n\nconst noopTest = {\n  exec: function noopTest() {}\n};\n\nfunction merge(obj) {\n  let i = 1,\n      target,\n      key;\n\n  for (; i < arguments.length; i++) {\n    target = arguments[i];\n\n    for (key in target) {\n      if (Object.prototype.hasOwnProperty.call(target, key)) {\n        obj[key] = target[key];\n      }\n    }\n  }\n\n  return obj;\n}\n\nfunction splitCells(tableRow, count) {\n  // ensure that every cell-delimiting pipe has a space\n  // before it to distinguish it from an escaped pipe\n  const row = tableRow.replace(/\\|/g, (match, offset, str) => {\n    let escaped = false,\n        curr = offset;\n\n    while (--curr >= 0 && str[curr] === '\\\\') escaped = !escaped;\n\n    if (escaped) {\n      // odd number of slashes means | is escaped\n      // so we leave it alone\n      return '|';\n    } else {\n      // add space before unescaped |\n      return ' |';\n    }\n  }),\n        cells = row.split(/ \\|/);\n  let i = 0;\n\n  if (cells.length > count) {\n    cells.splice(count);\n  } else {\n    while (cells.length < count) cells.push('');\n  }\n\n  for (; i < cells.length; i++) {\n    // leading or trailing whitespace is ignored per the gfm spec\n    cells[i] = cells[i].trim().replace(/\\\\\\|/g, '|');\n  }\n\n  return cells;\n} // Remove trailing 'c's. Equivalent to str.replace(/c*$/, '').\n// /c*$/ is vulnerable to REDOS.\n// invert: Remove suffix of non-c chars instead. Default falsey.\n\n\nfunction rtrim(str, c, invert) {\n  const l = str.length;\n\n  if (l === 0) {\n    return '';\n  } // Length of suffix matching the invert condition.\n\n\n  let suffLen = 0; // Step left until we fail to match the invert condition.\n\n  while (suffLen < l) {\n    const currChar = str.charAt(l - suffLen - 1);\n\n    if (currChar === c && !invert) {\n      suffLen++;\n    } else if (currChar !== c && invert) {\n      suffLen++;\n    } else {\n      break;\n    }\n  }\n\n  return str.substr(0, l - suffLen);\n}\n\nfunction findClosingBracket(str, b) {\n  if (str.indexOf(b[1]) === -1) {\n    return -1;\n  }\n\n  const l = str.length;\n  let level = 0,\n      i = 0;\n\n  for (; i < l; i++) {\n    if (str[i] === '\\\\') {\n      i++;\n    } else if (str[i] === b[0]) {\n      level++;\n    } else if (str[i] === b[1]) {\n      level--;\n\n      if (level < 0) {\n        return i;\n      }\n    }\n  }\n\n  return -1;\n}\n\nfunction checkSanitizeDeprecation(opt) {\n  if (opt && opt.sanitize && !opt.silent) {\n    console.warn('marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options');\n  }\n}\n\nmodule.exports = {\n  escape,\n  unescape,\n  edit,\n  cleanUrl,\n  resolveUrl,\n  noopTest,\n  merge,\n  splitCells,\n  rtrim,\n  findClosingBracket,\n  checkSanitizeDeprecation\n};\n\n/***/ }),\n\n/***/ \"./node_modules/marked/src/marked.js\":\n/*!*******************************************!*\\\n  !*** ./node_modules/marked/src/marked.js ***!\n  \\*******************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nconst Lexer = __webpack_require__(/*! ./Lexer.js */ \"./node_modules/marked/src/Lexer.js\");\n\nconst Parser = __webpack_require__(/*! ./Parser.js */ \"./node_modules/marked/src/Parser.js\");\n\nconst Tokenizer = __webpack_require__(/*! ./Tokenizer.js */ \"./node_modules/marked/src/Tokenizer.js\");\n\nconst Renderer = __webpack_require__(/*! ./Renderer.js */ \"./node_modules/marked/src/Renderer.js\");\n\nconst TextRenderer = __webpack_require__(/*! ./TextRenderer.js */ \"./node_modules/marked/src/TextRenderer.js\");\n\nconst Slugger = __webpack_require__(/*! ./Slugger.js */ \"./node_modules/marked/src/Slugger.js\");\n\nconst {\n  merge,\n  checkSanitizeDeprecation,\n  escape\n} = __webpack_require__(/*! ./helpers.js */ \"./node_modules/marked/src/helpers.js\");\n\nconst {\n  getDefaults,\n  changeDefaults,\n  defaults\n} = __webpack_require__(/*! ./defaults.js */ \"./node_modules/marked/src/defaults.js\");\n/**\n * Marked\n */\n\n\nfunction marked(src, opt, callback) {\n  // throw error in case of non string input\n  if (typeof src === 'undefined' || src === null) {\n    throw new Error('marked(): input parameter is undefined or null');\n  }\n\n  if (typeof src !== 'string') {\n    throw new Error('marked(): input parameter is of type ' + Object.prototype.toString.call(src) + ', string expected');\n  }\n\n  if (callback || typeof opt === 'function') {\n    if (!callback) {\n      callback = opt;\n      opt = null;\n    }\n\n    opt = merge({}, marked.defaults, opt || {});\n    checkSanitizeDeprecation(opt);\n    const highlight = opt.highlight;\n    let tokens,\n        pending,\n        i = 0;\n\n    try {\n      tokens = Lexer.lex(src, opt);\n    } catch (e) {\n      return callback(e);\n    }\n\n    pending = tokens.length;\n\n    const done = function (err) {\n      if (err) {\n        opt.highlight = highlight;\n        return callback(err);\n      }\n\n      let out;\n\n      try {\n        out = Parser.parse(tokens, opt);\n      } catch (e) {\n        err = e;\n      }\n\n      opt.highlight = highlight;\n      return err ? callback(err) : callback(null, out);\n    };\n\n    if (!highlight || highlight.length < 3) {\n      return done();\n    }\n\n    delete opt.highlight;\n    if (!pending) return done();\n\n    for (; i < tokens.length; i++) {\n      (function (token) {\n        if (token.type !== 'code') {\n          return --pending || done();\n        }\n\n        return highlight(token.text, token.lang, function (err, code) {\n          if (err) return done(err);\n\n          if (code == null || code === token.text) {\n            return --pending || done();\n          }\n\n          token.text = code;\n          token.escaped = true;\n          --pending || done();\n        });\n      })(tokens[i]);\n    }\n\n    return;\n  }\n\n  try {\n    opt = merge({}, marked.defaults, opt || {});\n    checkSanitizeDeprecation(opt);\n    return Parser.parse(Lexer.lex(src, opt), opt);\n  } catch (e) {\n    e.message += '\\nPlease report this to https://github.com/markedjs/marked.';\n\n    if ((opt || marked.defaults).silent) {\n      return '<p>An error occurred:</p><pre>' + escape(e.message + '', true) + '</pre>';\n    }\n\n    throw e;\n  }\n}\n/**\n * Options\n */\n\n\nmarked.options = marked.setOptions = function (opt) {\n  merge(marked.defaults, opt);\n  changeDefaults(marked.defaults);\n  return marked;\n};\n\nmarked.getDefaults = getDefaults;\nmarked.defaults = defaults;\n/**\n * Use Extension\n */\n\nmarked.use = function (extension) {\n  const opts = merge({}, extension);\n\n  if (extension.renderer) {\n    const renderer = marked.defaults.renderer || new Renderer();\n\n    for (const prop in extension.renderer) {\n      const prevRenderer = renderer[prop];\n\n      renderer[prop] = (...args) => {\n        let ret = extension.renderer[prop].apply(renderer, args);\n\n        if (ret === false) {\n          ret = prevRenderer.apply(renderer, args);\n        }\n\n        return ret;\n      };\n    }\n\n    opts.renderer = renderer;\n  }\n\n  if (extension.tokenizer) {\n    const tokenizer = marked.defaults.tokenizer || new Tokenizer();\n\n    for (const prop in extension.tokenizer) {\n      const prevTokenizer = tokenizer[prop];\n\n      tokenizer[prop] = (...args) => {\n        let ret = extension.tokenizer[prop].apply(tokenizer, args);\n\n        if (ret === false) {\n          ret = prevTokenizer.apply(tokenizer, args);\n        }\n\n        return ret;\n      };\n    }\n\n    opts.tokenizer = tokenizer;\n  }\n\n  marked.setOptions(opts);\n};\n/**\n * Expose\n */\n\n\nmarked.Parser = Parser;\nmarked.parser = Parser.parse;\nmarked.Renderer = Renderer;\nmarked.TextRenderer = TextRenderer;\nmarked.Lexer = Lexer;\nmarked.lexer = Lexer.lex;\nmarked.Tokenizer = Tokenizer;\nmarked.Slugger = Slugger;\nmarked.parse = marked;\nmodule.exports = marked;\n\n/***/ }),\n\n/***/ \"./node_modules/marked/src/rules.js\":\n/*!******************************************!*\\\n  !*** ./node_modules/marked/src/rules.js ***!\n  \\******************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nconst {\n  noopTest,\n  edit,\n  merge\n} = __webpack_require__(/*! ./helpers.js */ \"./node_modules/marked/src/helpers.js\");\n/**\n * Block-Level Grammar\n */\n\n\nconst block = {\n  newline: /^\\n+/,\n  code: /^( {4}[^\\n]+\\n*)+/,\n  fences: /^ {0,3}(`{3,}(?=[^`\\n]*\\n)|~{3,})([^\\n]*)\\n(?:|([\\s\\S]*?)\\n)(?: {0,3}\\1[~`]* *(?:\\n+|$)|$)/,\n  hr: /^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)/,\n  heading: /^ {0,3}(#{1,6}) +([^\\n]*?)(?: +#+)? *(?:\\n+|$)/,\n  blockquote: /^( {0,3}> ?(paragraph|[^\\n]*)(?:\\n|$))+/,\n  list: /^( {0,3})(bull) [\\s\\S]+?(?:hr|def|\\n{2,}(?! )(?!\\1bull )\\n*|\\s*$)/,\n  html: '^ {0,3}(?:' // optional indentation\n  + '<(script|pre|style)[\\\\s>][\\\\s\\\\S]*?(?:</\\\\1>[^\\\\n]*\\\\n+|$)' // (1)\n  + '|comment[^\\\\n]*(\\\\n+|$)' // (2)\n  + '|<\\\\?[\\\\s\\\\S]*?\\\\?>\\\\n*' // (3)\n  + '|<![A-Z][\\\\s\\\\S]*?>\\\\n*' // (4)\n  + '|<!\\\\[CDATA\\\\[[\\\\s\\\\S]*?\\\\]\\\\]>\\\\n*' // (5)\n  + '|</?(tag)(?: +|\\\\n|/?>)[\\\\s\\\\S]*?(?:\\\\n{2,}|$)' // (6)\n  + '|<(?!script|pre|style)([a-z][\\\\w-]*)(?:attribute)*? */?>(?=[ \\\\t]*(?:\\\\n|$))[\\\\s\\\\S]*?(?:\\\\n{2,}|$)' // (7) open tag\n  + '|</(?!script|pre|style)[a-z][\\\\w-]*\\\\s*>(?=[ \\\\t]*(?:\\\\n|$))[\\\\s\\\\S]*?(?:\\\\n{2,}|$)' // (7) closing tag\n  + ')',\n  def: /^ {0,3}\\[(label)\\]: *\\n? *<?([^\\s>]+)>?(?:(?: +\\n? *| *\\n *)(title))? *(?:\\n+|$)/,\n  nptable: noopTest,\n  table: noopTest,\n  lheading: /^([^\\n]+)\\n {0,3}(=+|-+) *(?:\\n+|$)/,\n  // regex template, placeholders will be replaced according to different paragraph\n  // interruption rules of commonmark and the original markdown spec:\n  _paragraph: /^([^\\n]+(?:\\n(?!hr|heading|lheading|blockquote|fences|list|html)[^\\n]+)*)/,\n  text: /^[^\\n]+/\n};\nblock._label = /(?!\\s*\\])(?:\\\\[\\[\\]]|[^\\[\\]])+/;\nblock._title = /(?:\"(?:\\\\\"?|[^\"\\\\])*\"|'[^'\\n]*(?:\\n[^'\\n]+)*\\n?'|\\([^()]*\\))/;\nblock.def = edit(block.def).replace('label', block._label).replace('title', block._title).getRegex();\nblock.bullet = /(?:[*+-]|\\d{1,9}\\.)/;\nblock.item = /^( *)(bull) ?[^\\n]*(?:\\n(?!\\1bull ?)[^\\n]*)*/;\nblock.item = edit(block.item, 'gm').replace(/bull/g, block.bullet).getRegex();\nblock.list = edit(block.list).replace(/bull/g, block.bullet).replace('hr', '\\\\n+(?=\\\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\\\* *){3,})(?:\\\\n+|$))').replace('def', '\\\\n+(?=' + block.def.source + ')').getRegex();\nblock._tag = 'address|article|aside|base|basefont|blockquote|body|caption' + '|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption' + '|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe' + '|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option' + '|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr' + '|track|ul';\nblock._comment = /<!--(?!-?>)[\\s\\S]*?-->/;\nblock.html = edit(block.html, 'i').replace('comment', block._comment).replace('tag', block._tag).replace('attribute', / +[a-zA-Z:_][\\w.:-]*(?: *= *\"[^\"\\n]*\"| *= *'[^'\\n]*'| *= *[^\\s\"'=<>`]+)?/).getRegex();\nblock.paragraph = edit(block._paragraph).replace('hr', block.hr).replace('heading', ' {0,3}#{1,6} ').replace('|lheading', '') // setex headings don't interrupt commonmark paragraphs\n.replace('blockquote', ' {0,3}>').replace('fences', ' {0,3}(?:`{3,}(?=[^`\\\\n]*\\\\n)|~{3,})[^\\\\n]*\\\\n').replace('list', ' {0,3}(?:[*+-]|1[.)]) ') // only lists starting from 1 can interrupt\n.replace('html', '</?(?:tag)(?: +|\\\\n|/?>)|<(?:script|pre|style|!--)').replace('tag', block._tag) // pars can be interrupted by type (6) html blocks\n.getRegex();\nblock.blockquote = edit(block.blockquote).replace('paragraph', block.paragraph).getRegex();\n/**\n * Normal Block Grammar\n */\n\nblock.normal = merge({}, block);\n/**\n * GFM Block Grammar\n */\n\nblock.gfm = merge({}, block.normal, {\n  nptable: '^ *([^|\\\\n ].*\\\\|.*)\\\\n' // Header\n  + ' *([-:]+ *\\\\|[-| :]*)' // Align\n  + '(?:\\\\n((?:(?!\\\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\\\n|$))*)\\\\n*|$)',\n  // Cells\n  table: '^ *\\\\|(.+)\\\\n' // Header\n  + ' *\\\\|?( *[-:]+[-| :]*)' // Align\n  + '(?:\\\\n *((?:(?!\\\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\\\n|$))*)\\\\n*|$)' // Cells\n\n});\nblock.gfm.nptable = edit(block.gfm.nptable).replace('hr', block.hr).replace('heading', ' {0,3}#{1,6} ').replace('blockquote', ' {0,3}>').replace('code', ' {4}[^\\\\n]').replace('fences', ' {0,3}(?:`{3,}(?=[^`\\\\n]*\\\\n)|~{3,})[^\\\\n]*\\\\n').replace('list', ' {0,3}(?:[*+-]|1[.)]) ') // only lists starting from 1 can interrupt\n.replace('html', '</?(?:tag)(?: +|\\\\n|/?>)|<(?:script|pre|style|!--)').replace('tag', block._tag) // tables can be interrupted by type (6) html blocks\n.getRegex();\nblock.gfm.table = edit(block.gfm.table).replace('hr', block.hr).replace('heading', ' {0,3}#{1,6} ').replace('blockquote', ' {0,3}>').replace('code', ' {4}[^\\\\n]').replace('fences', ' {0,3}(?:`{3,}(?=[^`\\\\n]*\\\\n)|~{3,})[^\\\\n]*\\\\n').replace('list', ' {0,3}(?:[*+-]|1[.)]) ') // only lists starting from 1 can interrupt\n.replace('html', '</?(?:tag)(?: +|\\\\n|/?>)|<(?:script|pre|style|!--)').replace('tag', block._tag) // tables can be interrupted by type (6) html blocks\n.getRegex();\n/**\n * Pedantic grammar (original John Gruber's loose markdown specification)\n */\n\nblock.pedantic = merge({}, block.normal, {\n  html: edit('^ *(?:comment *(?:\\\\n|\\\\s*$)' + '|<(tag)[\\\\s\\\\S]+?</\\\\1> *(?:\\\\n{2,}|\\\\s*$)' // closed tag\n  + '|<tag(?:\"[^\"]*\"|\\'[^\\']*\\'|\\\\s[^\\'\"/>\\\\s]*)*?/?> *(?:\\\\n{2,}|\\\\s*$))').replace('comment', block._comment).replace(/tag/g, '(?!(?:' + 'a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub' + '|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)' + '\\\\b)\\\\w+(?!:|[^\\\\w\\\\s@]*@)\\\\b').getRegex(),\n  def: /^ *\\[([^\\]]+)\\]: *<?([^\\s>]+)>?(?: +([\"(][^\\n]+[\")]))? *(?:\\n+|$)/,\n  heading: /^ *(#{1,6}) *([^\\n]+?) *(?:#+ *)?(?:\\n+|$)/,\n  fences: noopTest,\n  // fences not supported\n  paragraph: edit(block.normal._paragraph).replace('hr', block.hr).replace('heading', ' *#{1,6} *[^\\n]').replace('lheading', block.lheading).replace('blockquote', ' {0,3}>').replace('|fences', '').replace('|list', '').replace('|html', '').getRegex()\n});\n/**\n * Inline-Level Grammar\n */\n\nconst inline = {\n  escape: /^\\\\([!\"#$%&'()*+,\\-./:;<=>?@\\[\\]\\\\^_`{|}~])/,\n  autolink: /^<(scheme:[^\\s\\x00-\\x1f<>]*|email)>/,\n  url: noopTest,\n  tag: '^comment' + '|^</[a-zA-Z][\\\\w:-]*\\\\s*>' // self-closing tag\n  + '|^<[a-zA-Z][\\\\w-]*(?:attribute)*?\\\\s*/?>' // open tag\n  + '|^<\\\\?[\\\\s\\\\S]*?\\\\?>' // processing instruction, e.g. <?php ?>\n  + '|^<![a-zA-Z]+\\\\s[\\\\s\\\\S]*?>' // declaration, e.g. <!DOCTYPE html>\n  + '|^<!\\\\[CDATA\\\\[[\\\\s\\\\S]*?\\\\]\\\\]>',\n  // CDATA section\n  link: /^!?\\[(label)\\]\\(\\s*(href)(?:\\s+(title))?\\s*\\)/,\n  reflink: /^!?\\[(label)\\]\\[(?!\\s*\\])((?:\\\\[\\[\\]]?|[^\\[\\]\\\\])+)\\]/,\n  nolink: /^!?\\[(?!\\s*\\])((?:\\[[^\\[\\]]*\\]|\\\\[\\[\\]]|[^\\[\\]])*)\\](?:\\[\\])?/,\n  strong: /^__([^\\s_])__(?!_)|^\\*\\*([^\\s*])\\*\\*(?!\\*)|^__([^\\s][\\s\\S]*?[^\\s])__(?!_)|^\\*\\*([^\\s][\\s\\S]*?[^\\s])\\*\\*(?!\\*)/,\n  em: /^_([^\\s_])_(?!_)|^_([^\\s_<][\\s\\S]*?[^\\s_])_(?!_|[^\\spunctuation])|^_([^\\s_<][\\s\\S]*?[^\\s])_(?!_|[^\\spunctuation])|^\\*([^\\s*<\\[])\\*(?!\\*)|^\\*([^\\s<\"][\\s\\S]*?[^\\s\\[\\*])\\*(?![\\]`punctuation])|^\\*([^\\s*\"<\\[][\\s\\S]*[^\\s])\\*(?!\\*)/,\n  code: /^(`+)([^`]|[^`][\\s\\S]*?[^`])\\1(?!`)/,\n  br: /^( {2,}|\\\\)\\n(?!\\s*$)/,\n  del: noopTest,\n  text: /^(`+|[^`])(?:[\\s\\S]*?(?:(?=[\\\\<!\\[`*]|\\b_|$)|[^ ](?= {2,}\\n))|(?= {2,}\\n))/\n}; // list of punctuation marks from common mark spec\n// without ` and ] to workaround Rule 17 (inline code blocks/links)\n\ninline._punctuation = '!\"#$%&\\'()*+\\\\-./:;<=>?@\\\\[^_{|}~';\ninline.em = edit(inline.em).replace(/punctuation/g, inline._punctuation).getRegex();\ninline._escapes = /\\\\([!\"#$%&'()*+,\\-./:;<=>?@\\[\\]\\\\^_`{|}~])/g;\ninline._scheme = /[a-zA-Z][a-zA-Z0-9+.-]{1,31}/;\ninline._email = /[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/;\ninline.autolink = edit(inline.autolink).replace('scheme', inline._scheme).replace('email', inline._email).getRegex();\ninline._attribute = /\\s+[a-zA-Z:_][\\w.:-]*(?:\\s*=\\s*\"[^\"]*\"|\\s*=\\s*'[^']*'|\\s*=\\s*[^\\s\"'=<>`]+)?/;\ninline.tag = edit(inline.tag).replace('comment', block._comment).replace('attribute', inline._attribute).getRegex();\ninline._label = /(?:\\[[^\\[\\]]*\\]|\\\\.|`[^`]*`|[^\\[\\]\\\\`])*?/;\ninline._href = /<(?:\\\\[<>]?|[^\\s<>\\\\])*>|[^\\s\\x00-\\x1f]*/;\ninline._title = /\"(?:\\\\\"?|[^\"\\\\])*\"|'(?:\\\\'?|[^'\\\\])*'|\\((?:\\\\\\)?|[^)\\\\])*\\)/;\ninline.link = edit(inline.link).replace('label', inline._label).replace('href', inline._href).replace('title', inline._title).getRegex();\ninline.reflink = edit(inline.reflink).replace('label', inline._label).getRegex();\n/**\n * Normal Inline Grammar\n */\n\ninline.normal = merge({}, inline);\n/**\n * Pedantic Inline Grammar\n */\n\ninline.pedantic = merge({}, inline.normal, {\n  strong: /^__(?=\\S)([\\s\\S]*?\\S)__(?!_)|^\\*\\*(?=\\S)([\\s\\S]*?\\S)\\*\\*(?!\\*)/,\n  em: /^_(?=\\S)([\\s\\S]*?\\S)_(?!_)|^\\*(?=\\S)([\\s\\S]*?\\S)\\*(?!\\*)/,\n  link: edit(/^!?\\[(label)\\]\\((.*?)\\)/).replace('label', inline._label).getRegex(),\n  reflink: edit(/^!?\\[(label)\\]\\s*\\[([^\\]]*)\\]/).replace('label', inline._label).getRegex()\n});\n/**\n * GFM Inline Grammar\n */\n\ninline.gfm = merge({}, inline.normal, {\n  escape: edit(inline.escape).replace('])', '~|])').getRegex(),\n  _extended_email: /[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,\n  url: /^((?:ftp|https?):\\/\\/|www\\.)(?:[a-zA-Z0-9\\-]+\\.?)+[^\\s<]*|^email/,\n  _backpedal: /(?:[^?!.,:;*_~()&]+|\\([^)]*\\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,\n  del: /^~+(?=\\S)([\\s\\S]*?\\S)~+/,\n  text: /^(`+|[^`])(?:[\\s\\S]*?(?:(?=[\\\\<!\\[`*~]|\\b_|https?:\\/\\/|ftp:\\/\\/|www\\.|$)|[^ ](?= {2,}\\n)|[^a-zA-Z0-9.!#$%&'*+\\/=?_`{\\|}~-](?=[a-zA-Z0-9.!#$%&'*+\\/=?_`{\\|}~-]+@))|(?= {2,}\\n|[a-zA-Z0-9.!#$%&'*+\\/=?_`{\\|}~-]+@))/\n});\ninline.gfm.url = edit(inline.gfm.url, 'i').replace('email', inline.gfm._extended_email).getRegex();\n/**\n * GFM + Line Breaks Inline Grammar\n */\n\ninline.breaks = merge({}, inline.gfm, {\n  br: edit(inline.br).replace('{2,}', '*').getRegex(),\n  text: edit(inline.gfm.text).replace('\\\\b_', '\\\\b_| {2,}\\\\n').replace(/\\{2,\\}/g, '*').getRegex()\n});\nmodule.exports = {\n  block,\n  inline\n};\n\n/***/ }),\n\n/***/ \"./node_modules/vue-loader/lib/loaders/templateLoader.js?!./node_modules/vue-loader/lib/index.js?!./src/editor.vue?vue&type=template&id=7c83f806&\":\n/*!*************************************************************************************************************************************************************************************!*\\\n  !*** ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib??vue-loader-options!./src/editor.vue?vue&type=template&id=7c83f806& ***!\n  \\*************************************************************************************************************************************************************************************/\n/*! exports provided: render, staticRenderFns */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"render\", function() { return render; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"staticRenderFns\", function() { return staticRenderFns; });\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"div\",\n    {\n      class: [\n        \"v-md-container\",\n        _vm.css,\n        {\n          \"v-md-auto-resize\": _vm.height == \"auto\",\n          \"v-md-fullscreen\": _vm.fullScreen\n        }\n      ]\n    },\n    [\n      _vm.toolbars.length > 0\n        ? _c(\n            \"div\",\n            { staticClass: \"v-md-toolbar\" },\n            _vm._l(_vm.toolbars, function(group) {\n              return _c(\n                \"div\",\n                { staticClass: \"btn-group mr-3\", attrs: { role: \"group\" } },\n                _vm._l(group, function(i) {\n                  return _c(\n                    \"button\",\n                    {\n                      class: \"btn btn-\" + _vm.theme,\n                      attrs: {\n                        type: \"button\",\n                        title: i.title,\n                        disabled: _vm.preview && !i.ready\n                      },\n                      on: {\n                        click: function($event) {\n                          return _vm.command(i.cmd)\n                        }\n                      }\n                    },\n                    [_c(\"i\", { class: i.ico })]\n                  )\n                }),\n                0\n              )\n            }),\n            0\n          )\n        : _vm._e(),\n      _vm._v(\" \"),\n      _c(\n        \"div\",\n        {\n          staticClass: \"v-md-wrapper\",\n          on: {\n            click: function($event) {\n              return _vm.editor.focus()\n            }\n          }\n        },\n        [\n          _c(\"textarea\", {\n            staticClass: \"v-md-editor\",\n            style: _vm.styles,\n            attrs: { id: _vm.id, placeholder: _vm.placeholder }\n          }),\n          _vm._v(\" \"),\n          _vm.preview\n            ? _c(\"div\", {\n                staticClass: \"v-md-preview\",\n                domProps: { innerHTML: _vm._s(_vm.html) }\n              })\n            : _vm._e()\n        ]\n      )\n    ]\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\n\n\n/***/ }),\n\n/***/ \"./node_modules/vue-loader/lib/runtime/componentNormalizer.js\":\n/*!********************************************************************!*\\\n  !*** ./node_modules/vue-loader/lib/runtime/componentNormalizer.js ***!\n  \\********************************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return normalizeComponent; });\n/* globals __VUE_SSR_CONTEXT__ */\n\n// IMPORTANT: Do NOT use ES2015 features in this file (except for modules).\n// This module is a runtime utility for cleaner component module output and will\n// be included in the final webpack user bundle.\n\nfunction normalizeComponent (\n  scriptExports,\n  render,\n  staticRenderFns,\n  functionalTemplate,\n  injectStyles,\n  scopeId,\n  moduleIdentifier, /* server only */\n  shadowMode /* vue-cli only */\n) {\n  // Vue.extend constructor export interop\n  var options = typeof scriptExports === 'function'\n    ? scriptExports.options\n    : scriptExports\n\n  // render functions\n  if (render) {\n    options.render = render\n    options.staticRenderFns = staticRenderFns\n    options._compiled = true\n  }\n\n  // functional template\n  if (functionalTemplate) {\n    options.functional = true\n  }\n\n  // scopedId\n  if (scopeId) {\n    options._scopeId = 'data-v-' + scopeId\n  }\n\n  var hook\n  if (moduleIdentifier) { // server build\n    hook = function (context) {\n      // 2.3 injection\n      context =\n        context || // cached call\n        (this.$vnode && this.$vnode.ssrContext) || // stateful\n        (this.parent && this.parent.$vnode && this.parent.$vnode.ssrContext) // functional\n      // 2.2 with runInNewContext: true\n      if (!context && typeof __VUE_SSR_CONTEXT__ !== 'undefined') {\n        context = __VUE_SSR_CONTEXT__\n      }\n      // inject component styles\n      if (injectStyles) {\n        injectStyles.call(this, context)\n      }\n      // register component module identifier for async chunk inferrence\n      if (context && context._registeredComponents) {\n        context._registeredComponents.add(moduleIdentifier)\n      }\n    }\n    // used by ssr in case component is cached and beforeCreate\n    // never gets called\n    options._ssrRegister = hook\n  } else if (injectStyles) {\n    hook = shadowMode\n      ? function () { injectStyles.call(this, this.$root.$options.shadowRoot) }\n      : injectStyles\n  }\n\n  if (hook) {\n    if (options.functional) {\n      // for template-only hot-reload because in that case the render fn doesn't\n      // go through the normalizer\n      options._injectStyles = hook\n      // register for functional component in vue file\n      var originalRender = options.render\n      options.render = function renderWithStyleInjection (h, context) {\n        hook.call(context)\n        return originalRender(h, context)\n      }\n    } else {\n      // inject component registration as beforeCreate hook\n      var existing = options.beforeCreate\n      options.beforeCreate = existing\n        ? [].concat(existing, hook)\n        : [hook]\n    }\n  }\n\n  return {\n    exports: scriptExports,\n    options: options\n  }\n}\n\n\n/***/ }),\n\n/***/ \"./src/editor.vue\":\n/*!************************!*\\\n  !*** ./src/editor.vue ***!\n  \\************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _editor_vue_vue_type_template_id_7c83f806___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./editor.vue?vue&type=template&id=7c83f806& */ \"./src/editor.vue?vue&type=template&id=7c83f806&\");\n/* harmony import */ var _editor_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./editor.vue?vue&type=script&lang=js& */ \"./src/editor.vue?vue&type=script&lang=js&\");\n/* empty/unused harmony star reexport *//* harmony import */ var _node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../node_modules/vue-loader/lib/runtime/componentNormalizer.js */ \"./node_modules/vue-loader/lib/runtime/componentNormalizer.js\");\n\n\n\n\n\n/* normalize component */\n\nvar component = Object(_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(\n  _editor_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__[\"default\"],\n  _editor_vue_vue_type_template_id_7c83f806___WEBPACK_IMPORTED_MODULE_0__[\"render\"],\n  _editor_vue_vue_type_template_id_7c83f806___WEBPACK_IMPORTED_MODULE_0__[\"staticRenderFns\"],\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (false) { var api; }\ncomponent.options.__file = \"src/editor.vue\"\n/* harmony default export */ __webpack_exports__[\"default\"] = (component.exports);\n\n/***/ }),\n\n/***/ \"./src/editor.vue?vue&type=script&lang=js&\":\n/*!*************************************************!*\\\n  !*** ./src/editor.vue?vue&type=script&lang=js& ***!\n  \\*************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _node_modules_babel_loader_lib_index_js_node_modules_vue_loader_lib_index_js_vue_loader_options_editor_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../node_modules/babel-loader/lib!../node_modules/vue-loader/lib??vue-loader-options!./editor.vue?vue&type=script&lang=js& */ \"./node_modules/babel-loader/lib/index.js!./node_modules/vue-loader/lib/index.js?!./src/editor.vue?vue&type=script&lang=js&\");\n/* empty/unused harmony star reexport */ /* harmony default export */ __webpack_exports__[\"default\"] = (_node_modules_babel_loader_lib_index_js_node_modules_vue_loader_lib_index_js_vue_loader_options_editor_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__[\"default\"]); \n\n/***/ }),\n\n/***/ \"./src/editor.vue?vue&type=template&id=7c83f806&\":\n/*!*******************************************************!*\\\n  !*** ./src/editor.vue?vue&type=template&id=7c83f806& ***!\n  \\*******************************************************/\n/*! exports provided: render, staticRenderFns */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_editor_vue_vue_type_template_id_7c83f806___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../node_modules/vue-loader/lib??vue-loader-options!./editor.vue?vue&type=template&id=7c83f806& */ \"./node_modules/vue-loader/lib/loaders/templateLoader.js?!./node_modules/vue-loader/lib/index.js?!./src/editor.vue?vue&type=template&id=7c83f806&\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"render\", function() { return _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_editor_vue_vue_type_template_id_7c83f806___WEBPACK_IMPORTED_MODULE_0__[\"render\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"staticRenderFns\", function() { return _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_editor_vue_vue_type_template_id_7c83f806___WEBPACK_IMPORTED_MODULE_0__[\"staticRenderFns\"]; });\n\n\n\n/***/ }),\n\n/***/ \"./src/index.css\":\n/*!***********************!*\\\n  !*** ./src/index.css ***!\n  \\***********************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ \"./src/index.js\":\n/*!**********************!*\\\n  !*** ./src/index.js ***!\n  \\**********************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var codemirror_lib_codemirror_css__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! codemirror/lib/codemirror.css */ \"./node_modules/codemirror/lib/codemirror.css\");\n/* harmony import */ var codemirror_lib_codemirror_css__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(codemirror_lib_codemirror_css__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _index_css__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./index.css */ \"./src/index.css\");\n/* harmony import */ var _index_css__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_index_css__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _editor_vue__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./editor.vue */ \"./src/editor.vue\");\n\n\n\nvar MarkdownEditor = {\n  install: function install(Vue) {\n    if (Vue.__md_editor_installed) {\n      return;\n    }\n\n    Vue.__md_editor_installed = true;\n    Vue.component('markdown-editor', _editor_vue__WEBPACK_IMPORTED_MODULE_2__[\"default\"]);\n  }\n};\n\nif (typeof window !== 'undefined' && window.Vue) {\n  Vue.use(MarkdownEditor);\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (MarkdownEditor);\n\n/***/ })\n\n/******/ });\n});\n//# sourceMappingURL=v-markdown-editor.js.map","<template>\n    <div class=\"wrapper\">\n        <div class=\"container\">\n\n            <div class=\"card\">\n                <div class=\"card-body\">\n                    <div class=\"text-center my-40\">\n                        <h1>v-markdown-editor</h1>\n                        <h4>Markdown Editor component for Vue.js</h4>\n                    </div>\n\n                    <div class=\"row\">\n                        <div class=\"col-12 col-lg-8\">\n                            <div class=\"form-group\">\n\n                                <markdown-editor ref=\"md\" placeholder=\"Enter markdown content...\"\n                                    v-model=\"value\">\n                                </markdown-editor>\n\n                            </div>\n\n\n                            <div class=\"form-group\">\n                                <button @click=\"val\" class=\"btn btn-primary\">Change</button>\n                                <button @click=\"replace\" class=\"btn btn-primary\">Handle</button>\n\n                            </div>\n\n\n                            <div class=\"form-group\">\n                                <pre><code>{{value}}</code></pre>\n                            </div>\n\n\n                            <pre><code>&lt;markdown-editor toolbar=&quot;bold italic upload&quot; @command:upload=&quot;upload&quot; :extend=&quot;custom&quot;&gt; &lt;/markdown-editor&gt;</code></pre>\n\n                            <div class=\"form-group\">\n                                <markdown-editor toolbar=\"bold italic upload\" @command:upload=\"upload\" :extend=\"custom\">\n                                </markdown-editor>\n                            </div>\n\n\n\n                            <pre><code>&#x3C;markdown-editor theme=&#x22;success&#x22;&#x3E;&#x3C;/markdown-editor&#x3E;</code></pre>\n\n                            <div class=\"form-group\">\n                                <markdown-editor theme=\"success\"></markdown-editor>\n                            </div>\n\n\n                            <pre><code>&#x3C;markdown-editor height=\"auto\" toolbar=&#x27;&#x27;&#x3E;&#x3C;/markdown-editor&#x3E;</code></pre>\n                            <div class=\"form-group\">\n                                <markdown-editor height=\"auto\" toolbar=''></markdown-editor>\n                            </div>\n\n                        </div>\n\n                        <div class=\"col-12 col-lg-4\">\n                            <div class=\"viralroll\" data-id=\"5e8d2bb73364491e2a946eec\"></div>\n                        </div>\n                    </div>\n\n\n\n\n                </div>\n            </div>\n        </div>\n\n\n        <footer class=\"text-center\">\n\n            <p>\n                <a class=\"social-icon\" href=\"https://github.com/nasa8x/v-markdown-editor\" target=\"_blank\">\n                    <i class=\"fa-3x fab fa-github-square\"></i>\n                </a>\n\n            </p>\n\n            <p>Themed by <a href=\"http://on.morioh.net/96d5d36367\" target=\"_blank\">Morioh Theme</a><br>\n                Made Love by <a href=\"https://morioh.com/@5c22e47440738156a7078a19\">Nasa8x</a>\n\n            </p>\n\n\n        </footer>\n\n    </div>\n</template>\n\n\n<script>\n\n    export default {\n        data() {\n            return {\n                value: '',\n\n                custom: {\n                    'upload': {\n                        cmd: 'upload',\n                        ico: 'fas fa-cloud',\n                        title: 'Upload File'\n                    }\n                }\n            }\n        },\n\n        methods: {\n            val() {\n                this.value = \"This's new value\";\n            },           \n\n            onChange(val) {\n\n                console.log(val);\n            },\n\n            replace() {\n                this.$refs.md.editor.replaceSelection(\"Handle editor\");\n            },\n\n            upload(md) {\n                md.drawImage({ url: 'https://i.imgur.com/CbCXhBe.png', title: 'this image title' });\n            }\n        },\n\n    }\n\n</script>","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\"div\", { staticClass: \"wrapper\" }, [\n    _c(\"div\", { staticClass: \"container\" }, [\n      _c(\"div\", { staticClass: \"card\" }, [\n        _c(\"div\", { staticClass: \"card-body\" }, [\n          _vm._m(0),\n          _vm._v(\" \"),\n          _c(\"div\", { staticClass: \"row\" }, [\n            _c(\"div\", { staticClass: \"col-12 col-lg-8\" }, [\n              _c(\n                \"div\",\n                { staticClass: \"form-group\" },\n                [\n                  _c(\"markdown-editor\", {\n                    ref: \"md\",\n                    attrs: { placeholder: \"Enter markdown content...\" },\n                    model: {\n                      value: _vm.value,\n                      callback: function($$v) {\n                        _vm.value = $$v\n                      },\n                      expression: \"value\"\n                    }\n                  })\n                ],\n                1\n              ),\n              _vm._v(\" \"),\n              _c(\"div\", { staticClass: \"form-group\" }, [\n                _c(\n                  \"button\",\n                  { staticClass: \"btn btn-primary\", on: { click: _vm.val } },\n                  [_vm._v(\"Change\")]\n                ),\n                _vm._v(\" \"),\n                _c(\n                  \"button\",\n                  {\n                    staticClass: \"btn btn-primary\",\n                    on: { click: _vm.replace }\n                  },\n                  [_vm._v(\"Handle\")]\n                )\n              ]),\n              _vm._v(\" \"),\n              _c(\"div\", { staticClass: \"form-group\" }, [\n                _c(\"pre\", [_c(\"code\", [_vm._v(_vm._s(_vm.value))])])\n              ]),\n              _vm._v(\" \"),\n              _vm._m(1),\n              _vm._v(\" \"),\n              _c(\n                \"div\",\n                { staticClass: \"form-group\" },\n                [\n                  _c(\"markdown-editor\", {\n                    attrs: {\n                      toolbar: \"bold italic upload\",\n                      extend: _vm.custom\n                    },\n                    on: { \"command:upload\": _vm.upload }\n                  })\n                ],\n                1\n              ),\n              _vm._v(\" \"),\n              _vm._m(2),\n              _vm._v(\" \"),\n              _c(\n                \"div\",\n                { staticClass: \"form-group\" },\n                [_c(\"markdown-editor\", { attrs: { theme: \"success\" } })],\n                1\n              ),\n              _vm._v(\" \"),\n              _vm._m(3),\n              _vm._v(\" \"),\n              _c(\n                \"div\",\n                { staticClass: \"form-group\" },\n                [\n                  _c(\"markdown-editor\", {\n                    attrs: { height: \"auto\", toolbar: \"\" }\n                  })\n                ],\n                1\n              )\n            ]),\n            _vm._v(\" \"),\n            _vm._m(4)\n          ])\n        ])\n      ])\n    ]),\n    _vm._v(\" \"),\n    _vm._m(5)\n  ])\n}\nvar staticRenderFns = [\n  function() {\n    var _vm = this\n    var _h = _vm.$createElement\n    var _c = _vm._self._c || _h\n    return _c(\"div\", { staticClass: \"text-center my-40\" }, [\n      _c(\"h1\", [_vm._v(\"v-markdown-editor\")]),\n      _vm._v(\" \"),\n      _c(\"h4\", [_vm._v(\"Markdown Editor component for Vue.js\")])\n    ])\n  },\n  function() {\n    var _vm = this\n    var _h = _vm.$createElement\n    var _c = _vm._self._c || _h\n    return _c(\"pre\", [\n      _c(\"code\", [\n        _vm._v(\n          '<markdown-editor toolbar=\"bold italic upload\" @command:upload=\"upload\" :extend=\"custom\"> </markdown-editor>'\n        )\n      ])\n    ])\n  },\n  function() {\n    var _vm = this\n    var _h = _vm.$createElement\n    var _c = _vm._self._c || _h\n    return _c(\"pre\", [\n      _c(\"code\", [\n        _vm._v('<markdown-editor theme=\"success\"></markdown-editor>')\n      ])\n    ])\n  },\n  function() {\n    var _vm = this\n    var _h = _vm.$createElement\n    var _c = _vm._self._c || _h\n    return _c(\"pre\", [\n      _c(\"code\", [\n        _vm._v(\"<markdown-editor height=\\\"auto\\\" toolbar=''></markdown-editor>\")\n      ])\n    ])\n  },\n  function() {\n    var _vm = this\n    var _h = _vm.$createElement\n    var _c = _vm._self._c || _h\n    return _c(\"div\", { staticClass: \"col-12 col-lg-4\" }, [\n      _c(\"div\", {\n        staticClass: \"viralroll\",\n        attrs: { \"data-id\": \"5e8d2bb73364491e2a946eec\" }\n      })\n    ])\n  },\n  function() {\n    var _vm = this\n    var _h = _vm.$createElement\n    var _c = _vm._self._c || _h\n    return _c(\"footer\", { staticClass: \"text-center\" }, [\n      _c(\"p\", [\n        _c(\n          \"a\",\n          {\n            staticClass: \"social-icon\",\n            attrs: {\n              href: \"https://github.com/nasa8x/v-markdown-editor\",\n              target: \"_blank\"\n            }\n          },\n          [_c(\"i\", { staticClass: \"fa-3x fab fa-github-square\" })]\n        )\n      ]),\n      _vm._v(\" \"),\n      _c(\"p\", [\n        _vm._v(\"Themed by \"),\n        _c(\n          \"a\",\n          {\n            attrs: { href: \"http://on.morioh.net/96d5d36367\", target: \"_blank\" }\n          },\n          [_vm._v(\"Morioh Theme\")]\n        ),\n        _c(\"br\"),\n        _vm._v(\"\\n            Made Love by \"),\n        _c(\n          \"a\",\n          { attrs: { href: \"https://morioh.com/@5c22e47440738156a7078a19\" } },\n          [_vm._v(\"Nasa8x\")]\n        )\n      ])\n    ])\n  }\n]\nrender._withStripped = true\n\nexport { render, staticRenderFns }","/* globals __VUE_SSR_CONTEXT__ */\n\n// IMPORTANT: Do NOT use ES2015 features in this file (except for modules).\n// This module is a runtime utility for cleaner component module output and will\n// be included in the final webpack user bundle.\n\nexport default function normalizeComponent (\n  scriptExports,\n  render,\n  staticRenderFns,\n  functionalTemplate,\n  injectStyles,\n  scopeId,\n  moduleIdentifier, /* server only */\n  shadowMode /* vue-cli only */\n) {\n  // Vue.extend constructor export interop\n  var options = typeof scriptExports === 'function'\n    ? scriptExports.options\n    : scriptExports\n\n  // render functions\n  if (render) {\n    options.render = render\n    options.staticRenderFns = staticRenderFns\n    options._compiled = true\n  }\n\n  // functional template\n  if (functionalTemplate) {\n    options.functional = true\n  }\n\n  // scopedId\n  if (scopeId) {\n    options._scopeId = 'data-v-' + scopeId\n  }\n\n  var hook\n  if (moduleIdentifier) { // server build\n    hook = function (context) {\n      // 2.3 injection\n      context =\n        context || // cached call\n        (this.$vnode && this.$vnode.ssrContext) || // stateful\n        (this.parent && this.parent.$vnode && this.parent.$vnode.ssrContext) // functional\n      // 2.2 with runInNewContext: true\n      if (!context && typeof __VUE_SSR_CONTEXT__ !== 'undefined') {\n        context = __VUE_SSR_CONTEXT__\n      }\n      // inject component styles\n      if (injectStyles) {\n        injectStyles.call(this, context)\n      }\n      // register component module identifier for async chunk inferrence\n      if (context && context._registeredComponents) {\n        context._registeredComponents.add(moduleIdentifier)\n      }\n    }\n    // used by ssr in case component is cached and beforeCreate\n    // never gets called\n    options._ssrRegister = hook\n  } else if (injectStyles) {\n    hook = shadowMode\n      ? function () { injectStyles.call(this, this.$root.$options.shadowRoot) }\n      : injectStyles\n  }\n\n  if (hook) {\n    if (options.functional) {\n      // for template-only hot-reload because in that case the render fn doesn't\n      // go through the normalizer\n      options._injectStyles = hook\n      // register for functional component in vue file\n      var originalRender = options.render\n      options.render = function renderWithStyleInjection (h, context) {\n        hook.call(context)\n        return originalRender(h, context)\n      }\n    } else {\n      // inject component registration as beforeCreate hook\n      var existing = options.beforeCreate\n      options.beforeCreate = existing\n        ? [].concat(existing, hook)\n        : [hook]\n    }\n  }\n\n  return {\n    exports: scriptExports,\n    options: options\n  }\n}\n","module.exports = function(module) {\n\tif (!module.webpackPolyfill) {\n\t\tmodule.deprecate = function() {};\n\t\tmodule.paths = [];\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n","import '../dist/v-markdown-editor.css';\n\nimport Vue from 'vue';\nimport App from './app.vue';\nimport Editor from '../dist/v-markdown-editor';\n\nVue.use(Editor);\n\nnew Vue({\n  el: '#app', \n \n  render: h => h(App)\n})\n","import { render, staticRenderFns } from \"./app.vue?vue&type=template&id=0d4f360b&\"\nimport script from \"./app.vue?vue&type=script&lang=js&\"\nexport * from \"./app.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"/home/wahaj/v-markdown-editor/node_modules/vue-hot-reload-api/dist/index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('0d4f360b')) {\n      api.createRecord('0d4f360b', component.options)\n    } else {\n      api.reload('0d4f360b', component.options)\n    }\n    module.hot.accept(\"./app.vue?vue&type=template&id=0d4f360b&\", function () {\n      api.rerender('0d4f360b', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"www/app.vue\"\nexport default component.exports","import mod from \"-!../node_modules/babel-loader/lib/index.js!../node_modules/vue-loader/lib/index.js??vue-loader-options!./app.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/babel-loader/lib/index.js!../node_modules/vue-loader/lib/index.js??vue-loader-options!./app.vue?vue&type=script&lang=js&\"","export * from \"-!../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../node_modules/vue-loader/lib/index.js??vue-loader-options!./app.vue?vue&type=template&id=0d4f360b&\"","module.exports = Vue;"],"sourceRoot":""}